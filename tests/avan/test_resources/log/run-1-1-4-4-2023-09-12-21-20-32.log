WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
 test_xt_with_tune.py:59: ExperimentalWarning:BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
2023-09-12 21:20:44,119	INFO worker.py:1515 -- Started a local Ray instance. View the dashboard at [1m[32mhttp://127.0.0.1:8265 [39m[22m
2023-09-12 21:20:46,232	WARNING function_trainable.py:620 -- Function checkpointing is disabled. This may result in unexpected behavior when using checkpointing features or certain schedulers. To enable, set the train function arguments to be `func(config, checkpoint_dir=None)`.
2023-09-12 21:20:46,303	WARNING trial_runner.py:1583 -- You are trying to access _search_alg interface of TrialRunner in TrialScheduler, which is being restricted. If you believe it is reasonable for your scheduler to access this TrialRunner API, please reach out to Ray team on GitHub. A more strict API access pattern would be enforced starting 1.12s.0
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:00: 
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m  XT start work...
[2m[36m(train_xt pid=45298)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945248549599152.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:01: init learner with:
[2m[36m(train_xt pid=45298)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45298)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45298)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45298)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45298)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45298)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45298)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=45298)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45298)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45298)[0m                           'save_model': True,
[2m[36m(train_xt pid=45298)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45298)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45298)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                                    'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                                 84,
[2m[36m(train_xt pid=45298)[0m                                                 4],
[2m[36m(train_xt pid=45298)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45298)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45298)[0m              'id': 'ImpalaCnnOpt_now_time_16945248549599152',
[2m[36m(train_xt pid=45298)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45298)[0m 'env_num': 2,
[2m[36m(train_xt pid=45298)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45298)[0m                         'size': 4,
[2m[36m(train_xt pid=45298)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=45298)[0m                         'vision': False,
[2m[36m(train_xt pid=45298)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=45298)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45298)[0m             'now_time': '16945248549599152'},
[2m[36m(train_xt pid=45298)[0m 'gpu': -1,
[2m[36m(train_xt pid=45298)[0m 'group_num': 1,
[2m[36m(train_xt pid=45298)[0m 'lock': 1,
[2m[36m(train_xt pid=45298)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                        'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                     84,
[2m[36m(train_xt pid=45298)[0m                                     4],
[2m[36m(train_xt pid=45298)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45298)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45298)[0m                'dummy_user',
[2m[36m(train_xt pid=45298)[0m                'dummy_password')],
[2m[36m(train_xt pid=45298)[0m 'speedup': 3,
[2m[36m(train_xt pid=45298)[0m 'start_core': 0}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:01: Init Broker server info:
[2m[36m(train_xt pid=45298)[0m {'recv': {'port': 39016,
[2m[36m(train_xt pid=45298)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45298)[0m 'send': [{'port': 26401,
[2m[36m(train_xt pid=45298)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:01: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 39016, 26401, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:01: launch local broker with lib success
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:01: **********
[2m[36m(train_xt pid=45298)[0m workspace:
[2m[36m(train_xt pid=45298)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945248549599152
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:07: set verbosity in broker: info
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:07: init broker with id-0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:07: share buf: plasma_store -m 400000000 -s /tmp/plasma_share45455
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:07: 
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m  XT start work...
[2m[36m(train_xt pid=45341)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_169452486138513.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:07: init explorer with id: 0, buf_path: /tmp/plasma_share45455
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:07: init agent group for: explore
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:08: init learner with:
[2m[36m(train_xt pid=45341)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45341)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45341)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45341)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45341)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45341)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45341)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=45341)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45341)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45341)[0m                           'save_model': True,
[2m[36m(train_xt pid=45341)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45341)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45341)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                                    'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                                 84,
[2m[36m(train_xt pid=45341)[0m                                                 4],
[2m[36m(train_xt pid=45341)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45341)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45341)[0m              'id': 'ImpalaCnnOpt_now_time_169452486138513',
[2m[36m(train_xt pid=45341)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45341)[0m 'env_num': 2,
[2m[36m(train_xt pid=45341)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45341)[0m                         'size': 4,
[2m[36m(train_xt pid=45341)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=45341)[0m                         'vision': False,
[2m[36m(train_xt pid=45341)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=45341)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45341)[0m             'now_time': '169452486138513'},
[2m[36m(train_xt pid=45341)[0m 'gpu': -1,
[2m[36m(train_xt pid=45341)[0m 'group_num': 1,
[2m[36m(train_xt pid=45341)[0m 'lock': 1,
[2m[36m(train_xt pid=45341)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                        'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                     84,
[2m[36m(train_xt pid=45341)[0m                                     4],
[2m[36m(train_xt pid=45341)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45341)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45341)[0m                'dummy_user',
[2m[36m(train_xt pid=45341)[0m                'dummy_password')],
[2m[36m(train_xt pid=45341)[0m 'speedup': 3,
[2m[36m(train_xt pid=45341)[0m 'start_core': 10}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:08: Init Broker server info:
[2m[36m(train_xt pid=45341)[0m {'recv': {'port': 39428,
[2m[36m(train_xt pid=45341)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45341)[0m 'send': [{'port': 24385,
[2m[36m(train_xt pid=45341)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:08: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 39428, 24385, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:08: launch local broker with lib success
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:08: **********
[2m[36m(train_xt pid=45341)[0m workspace:
[2m[36m(train_xt pid=45341)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_169452486138513
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:09: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:10: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:10: init explorer with id: 1, buf_path: /tmp/plasma_share45455
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:12: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:13: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:13: set verbosity in broker: info
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:13: init broker with id-0
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:13: share buf: plasma_store -m 400000000 -s /tmp/plasma_share46074
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:13: 
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45404)[0m  XT start work...
[2m[36m(train_xt pid=45404)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945248678622334.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:14: init explorer with id: 0, buf_path: /tmp/plasma_share46074
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:14: init agent group for: explore
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:14: init learner with:
[2m[36m(train_xt pid=45404)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45404)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45404)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45404)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45404)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45404)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45404)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=45404)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45404)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45404)[0m                           'save_model': True,
[2m[36m(train_xt pid=45404)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45404)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45404)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                                    'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                                 84,
[2m[36m(train_xt pid=45404)[0m                                                 4],
[2m[36m(train_xt pid=45404)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45404)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45404)[0m              'id': 'ImpalaCnnOpt_now_time_16945248678622334',
[2m[36m(train_xt pid=45404)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45404)[0m 'env_num': 2,
[2m[36m(train_xt pid=45404)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45404)[0m                         'size': 4,
[2m[36m(train_xt pid=45404)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=45404)[0m                         'vision': False,
[2m[36m(train_xt pid=45404)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=45404)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45404)[0m             'now_time': '16945248678622334'},
[2m[36m(train_xt pid=45404)[0m 'gpu': -1,
[2m[36m(train_xt pid=45404)[0m 'group_num': 1,
[2m[36m(train_xt pid=45404)[0m 'lock': 1,
[2m[36m(train_xt pid=45404)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                        'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                     84,
[2m[36m(train_xt pid=45404)[0m                                     4],
[2m[36m(train_xt pid=45404)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45404)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45404)[0m                'dummy_user',
[2m[36m(train_xt pid=45404)[0m                'dummy_password')],
[2m[36m(train_xt pid=45404)[0m 'speedup': 3,
[2m[36m(train_xt pid=45404)[0m 'start_core': 20}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:14: Init Broker server info:
[2m[36m(train_xt pid=45404)[0m {'recv': {'port': 34426,
[2m[36m(train_xt pid=45404)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45404)[0m 'send': [{'port': 22168,
[2m[36m(train_xt pid=45404)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:14: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 34426, 22168, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:14: launch local broker with lib success
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:14: **********
[2m[36m(train_xt pid=45404)[0m workspace:
[2m[36m(train_xt pid=45404)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945248678622334
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:15: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:17: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:17: init explorer with id: 1, buf_path: /tmp/plasma_share46074
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:18: Task: T0         | Train_count:         2 | Steps:      1482 | Elapsed time: 14 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         2.680888	mean_explore_ms:         805.54378	mean_inference_ms:        3.090406	mean_loop_time_ms:      620.311856
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.169682	mean_restore_model_ms:    48.82431	mean_train_time_ms:     724.984328	mean_wait_model_ms:     2892.781138
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    3977.964163	step_per_second:             104.0	train_loss:              67.949554	train_reward_avg:              0.0
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:19: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:20: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:20: set verbosity in broker: info
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:20: init broker with id-0
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:20: share buf: plasma_store -m 400000000 -s /tmp/plasma_share47239
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:20: init explorer with id: 0, buf_path: /tmp/plasma_share47239
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:20: init agent group for: explore
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:22: 
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m  XT start work...
[2m[36m(train_xt pid=46430)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945248760411103.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:22: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:23: init learner with:
[2m[36m(train_xt pid=46430)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=46430)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=46430)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=46430)[0m               'agent_num': 1},
[2m[36m(train_xt pid=46430)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=46430)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=46430)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=46430)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=46430)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=46430)[0m                           'save_model': True,
[2m[36m(train_xt pid=46430)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=46430)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=46430)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                                    'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                                 84,
[2m[36m(train_xt pid=46430)[0m                                                 4],
[2m[36m(train_xt pid=46430)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=46430)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=46430)[0m              'id': 'ImpalaCnnOpt_now_time_16945248760411103',
[2m[36m(train_xt pid=46430)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=46430)[0m 'env_num': 2,
[2m[36m(train_xt pid=46430)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=46430)[0m                         'size': 4,
[2m[36m(train_xt pid=46430)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=46430)[0m                         'vision': False,
[2m[36m(train_xt pid=46430)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=46430)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=46430)[0m             'now_time': '16945248760411103'},
[2m[36m(train_xt pid=46430)[0m 'gpu': -1,
[2m[36m(train_xt pid=46430)[0m 'group_num': 1,
[2m[36m(train_xt pid=46430)[0m 'lock': 1,
[2m[36m(train_xt pid=46430)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                        'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                     84,
[2m[36m(train_xt pid=46430)[0m                                     4],
[2m[36m(train_xt pid=46430)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=46430)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=46430)[0m                'dummy_user',
[2m[36m(train_xt pid=46430)[0m                'dummy_password')],
[2m[36m(train_xt pid=46430)[0m 'speedup': 3,
[2m[36m(train_xt pid=46430)[0m 'start_core': 30}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:23: Init Broker server info:
[2m[36m(train_xt pid=46430)[0m {'recv': {'port': 23019,
[2m[36m(train_xt pid=46430)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=46430)[0m 'send': [{'port': 32413,
[2m[36m(train_xt pid=46430)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:23: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 23019, 32413, '127.0.0.1', 'info')
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:23: launch local broker with lib success
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:23: **********
[2m[36m(train_xt pid=46430)[0m workspace:
[2m[36m(train_xt pid=46430)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945248760411103
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:23: Task: T0         | Train_count:         0 | Steps:       509 | Elapsed time: 13 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.904741	mean_explore_ms:        851.492405	mean_inference_ms:         3.26186	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.589298	mean_restore_model_ms:   48.355699	mean_train_time_ms:            nan	mean_wait_model_ms:     2867.816567
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    10919.286489	step_per_second:              39.0	train_loss:             100.839058	train_reward_avg:              0.0
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:23: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:23: init explorer with id: 1, buf_path: /tmp/plasma_share47239
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:25: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:26: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:29: set verbosity in broker: info
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:29: init broker with id-0
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:29: share buf: plasma_store -m 400000000 -s /tmp/plasma_share48652
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:29: init explorer with id: 0, buf_path: /tmp/plasma_share48652
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:29: init agent group for: explore
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:31: Task: T0         | Train_count:        24 | Steps:     12711 | Elapsed time: 26 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         2.636905	mean_explore_ms:        755.967915	mean_inference_ms:        2.934386	mean_loop_time_ms:        558.3915
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.396167	mean_restore_model_ms:   26.883006	mean_train_time_ms:      38.164937	mean_wait_model_ms:     1645.50072
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    512.007082	step_per_second:             478.0	train_loss:              -3.107809	train_reward_avg:         1.416667
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:31: Task: T0         | Train_count:         2 | Steps:      1529 | Elapsed time: 14 secondstune_system ================== True
with_samper ================== True
== Status ==
Current time: 2023-09-12 21:20:53 (running for 00:00:07.29)
Memory usage on this node: 14.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 10.0/80 CPUs, 0.4/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (3 PENDING, 1 RUNNING)


[2m[36m(train_xt pid=45298)[0m {'lr': 0.00037773354422999207, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=45298)[0m trail id ================= 2ec31_00000
[2m[36m(train_xt pid=45298)[0m =================tune_system=========================
[2m[36m(train_xt pid=45298)[0m =================with_samper=========================
[2m[36m(train_xt pid=45298)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=45298)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=45298)[0m get max throughput start_core============================= 0
[2m[36m(train_xt pid=45298)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945248549599152.yaml
[2m[36m(train_xt pid=45298)[0m run_log ======================== /tmp/test_opt_bys16945248549599152.log
== Status ==
Current time: 2023-09-12 21:21:00 (running for 00:00:13.73)
Memory usage on this node: 14.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 20.0/80 CPUs, 0.8/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (2 PENDING, 2 RUNNING)


[2m[36m(train_xt pid=45341)[0m {'lr': 0.0013885813035857918, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=45341)[0m trail id ================= 2ec31_00001
[2m[36m(train_xt pid=45341)[0m =================tune_system=========================
[2m[36m(train_xt pid=45341)[0m =================with_samper=========================
[2m[36m(train_xt pid=45341)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=45341)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=45341)[0m get max throughput start_core============================= 10
[2m[36m(train_xt pid=45298)[0m start_core ======================================== 0
[2m[36m(train_xt pid=45341)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_169452486138513.yaml
[2m[36m(train_xt pid=45341)[0m run_log ======================== /tmp/test_opt_bys169452486138513.log
[2m[36m(train_xt pid=45298)[0m plasma_store -m 1000000000 -s /tmp/plasma45377
[2m[36m(train_xt pid=45298)[0m self.time_record_filename ============= /tmp/16945248549599152
== Status ==
Current time: 2023-09-12 21:21:06 (running for 00:00:20.19)
Memory usage on this node: 16.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 PENDING, 3 RUNNING)


[2m[36m(train_xt pid=45404)[0m {'lr': 0.004606361050567759, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=45404)[0m trail id ================= 2ec31_00002
[2m[36m(train_xt pid=45404)[0m =================tune_system=========================
[2m[36m(train_xt pid=45404)[0m =================with_samper=========================
[2m[36m(train_xt pid=45298)[0m plasma_store -m 100000000 -s /tmp/plasma45455T0
[2m[36m(train_xt pid=45404)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=45404)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=45404)[0m get max throughput start_core============================= 20
[2m[36m(train_xt pid=45341)[0m start_core ======================================== 10
[2m[36m(train_xt pid=45404)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945248678622334.yaml
[2m[36m(train_xt pid=45404)[0m run_log ======================== /tmp/test_opt_bys16945248678622334.log
[2m[36m(train_xt pid=45341)[0m plasma_store -m 1000000000 -s /tmp/plasma45464
[2m[36m(train_xt pid=45341)[0m self.time_record_filename ============= /tmp/169452486138513
[2m[36m(train_xt pid=45341)[0m plasma_store -m 100000000 -s /tmp/plasma46074T0
[2m[36m(train_xt pid=45404)[0m start_core ======================================== 20
== Status ==
Current time: 2023-09-12 21:21:14 (running for 00:00:28.36)
Memory usage on this node: 18.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m {'lr': 0.0023814525851340263, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=46430)[0m trail id ================= 2ec31_00003
[2m[36m(train_xt pid=46430)[0m =================tune_system=========================
[2m[36m(train_xt pid=46430)[0m =================with_samper=========================
[2m[36m(train_xt pid=45404)[0m plasma_store -m 1000000000 -s /tmp/plasma46086
[2m[36m(train_xt pid=45404)[0m self.time_record_filename ============= /tmp/16945248678622334
[2m[36m(train_xt pid=46430)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=46430)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=46430)[0m get max throughput start_core============================= 30
[2m[36m(train_xt pid=46430)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945248760411103.yaml
[2m[36m(train_xt pid=46430)[0m run_log ======================== /tmp/test_opt_bys16945248760411103.log
== Status ==
Current time: 2023-09-12 21:21:19 (running for 00:00:33.37)
Memory usage on this node: 20.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45404)[0m plasma_store -m 100000000 -s /tmp/plasma47239T0
[2m[36m(train_xt pid=46430)[0m start_core ======================================== 30
[2m[36m(train_xt pid=46430)[0m plasma_store -m 1000000000 -s /tmp/plasma48028
[2m[36m(train_xt pid=46430)[0m self.time_record_filename ============= /tmp/16945248760411103
== Status ==
Current time: 2023-09-12 21:21:24 (running for 00:00:38.37)
Memory usage on this node: 22.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:21:29 (running for 00:00:43.38)
Memory usage on this node: 23.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m plasma_store -m 100000000 -s /tmp/plasma48652T0
== Status ==
Current time: 2023-09-12 21:21:34 (running for 00:00:48.38)
Memory usage on this node: 23.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         2.625552	mean_explore_ms:          830.3231	mean_inference_ms:        3.362153	mean_loop_time_ms:      676.305771
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.248837	mean_restore_model_ms:   52.995801	mean_train_time_ms:     720.938762	mean_wait_model_ms:     2881.456017
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    4041.796684	step_per_second:             106.0	train_loss:              15.592934	train_reward_avg:              2.5
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:31: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:32: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:32: init explorer with id: 1, buf_path: /tmp/plasma_share48652
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:34: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:35: Task: T0         | Train_count:        20 | Steps:     10656 | Elapsed time: 24 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.890117	mean_explore_ms:        795.682311	mean_inference_ms:        3.011595	mean_loop_time_ms:      560.177016
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.750755	mean_restore_model_ms:   26.510477	mean_train_time_ms:      38.366997	mean_wait_model_ms:     1619.608998
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    510.724235	step_per_second:             440.0	train_loss:              89.889114	train_reward_avg:             0.75
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:35: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:39: Task: T0         | Train_count:         0 | Steps:       253 | Elapsed time: 13 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         3.092259	mean_explore_ms:        910.843849	mean_inference_ms:        3.518348	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.354218	mean_restore_model_ms:   55.445313	mean_train_time_ms:            nan	mean_wait_model_ms:     2680.38106
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    11402.616501	step_per_second:              18.0	train_loss:             137.887619	train_reward_avg:              0.0
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:42: Task: T0         | Train_count:        44 | Steps:     22761 | Elapsed time: 38 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         2.783683	mean_explore_ms:          764.6752	mean_inference_ms:        2.930851	mean_loop_time_ms:      594.307816
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.594794	mean_restore_model_ms:   15.856713	mean_train_time_ms:       32.63365	mean_wait_model_ms:     1011.980563
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    552.840447	step_per_second:             591.0	train_loss:             125.311958	train_reward_avg:         1.607143
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:44: Task: T0         | Train_count:        22 | Steps:     11765 | Elapsed time: 26 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:          2.90981	mean_explore_ms:        822.548509	mean_inference_ms:        3.192031	mean_loop_time_ms:      611.972606
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.407743	mean_restore_model_ms:   29.178381	mean_train_time_ms:       28.07616	mean_wait_model_ms:     1627.30217
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    574.640012	step_per_second:             441.0	train_loss:             -57.883411	train_reward_avg:             1.75
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:47: Task: T0         | Train_count:        40 | Steps:     20964 | Elapsed time: 36 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         3.058338	mean_explore_ms:        809.350133	mean_inference_ms:        3.002983	mean_loop_time_ms:      607.885897
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.465178	mean_restore_model_ms:   20.848672	mean_train_time_ms:      36.225104	mean_wait_model_ms:     1217.349728
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    562.675428	step_per_second:             576.0	train_loss:              74.559074	train_reward_avg:         1.208333
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:52: Task: T0         | Train_count:        20 | Steps:     10665 | Elapsed time: 26 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         3.191308	mean_explore_ms:        872.617126	mean_inference_ms:        3.293764	mean_loop_time_ms:      628.304589
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.651728	mean_restore_model_ms:   30.218959	mean_train_time_ms:      29.997742	mean_wait_model_ms:     1530.297279
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:     586.98411	step_per_second:             406.0	train_loss:              14.896614	train_reward_avg:           0.5625
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:54: Task: T0         | Train_count:        64 | Steps:     33264 | Elapsed time: 50 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         2.808625	mean_explore_ms:        769.111061	mean_inference_ms:        2.960864	mean_loop_time_ms:      592.518866
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.517904	mean_restore_model_ms:     13.9045	mean_train_time_ms:      27.234328	mean_wait_model_ms:     886.599422
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    556.123412	step_per_second:             661.0	train_loss:              55.677601	train_reward_avg:         1.694444
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:56: Task: T0         | Train_count:        42 | Steps:     21788 | Elapsed time: 39 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:          3.07789	mean_explore_ms:        838.451028	mean_inference_ms:        3.225369	mean_loop_time_ms:      620.713603
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.601028	mean_restore_model_ms:   17.716378	mean_train_time_ms:      30.993509	mean_wait_model_ms:     1021.516144
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    580.830228	step_per_second:             557.0	train_loss:              18.287933	train_reward_avg:         1.666667
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:21:59: Task: T0         | Train_count:        60 | Steps:     31173 | Elapsed time: 48 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         3.034677	mean_explore_ms:         805.92978	mean_inference_ms:        3.027282	mean_loop_time_ms:      598.081851
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.464427	mean_restore_model_ms:   14.335132	mean_train_time_ms:      35.552788	mean_wait_model_ms:     887.572503
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    553.403771	step_per_second:             644.0	train_loss:              32.645741	train_reward_avg:             1.45
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:04: Task: T0         | Train_count:        40 | Steps:     20943 | Elapsed time: 38 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:           3.1523	mean_explore_ms:        850.385904	mean_inference_ms:        3.229156	mean_loop_time_ms:      605.461419
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.465106	mean_restore_model_ms:   20.025015	mean_train_time_ms:       29.70475	mean_wait_model_ms:     1041.315556
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    565.823722	step_per_second:             546.0	train_loss:              -4.336084	train_reward_avg:         1.321429
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m /tmp/plasma45377:   
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:04: broker status timeout!
[2m[36m(train_xt pid=45298)[0m /tmp/plasma_share45455:
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:07: Finished train job normally.
[2m[36m(train_xt pid=45298)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m [I 2023-09-12 21:22:07,431] Trial 0 finished with value: 363.08623298033285 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 2}. Best is trial 0 with value: 363.08623298033285.
[2m[36m(train_xt pid=45298)[0m /tmp/plasma45455T0: 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:08: Task: T0         | Train_count:        62 | Steps:     32181 | Elapsed time: 51 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         3.086917	mean_explore_ms:        832.437539	mean_inference_ms:        3.186075	mean_loop_time_ms:      596.945703
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.636696	mean_restore_model_ms:   15.056181	mean_train_time_ms:      28.717744	mean_wait_model_ms:     890.698266
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    558.875358	step_per_second:             630.0	train_loss:             -11.064798	train_reward_avg:              1.5
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45298)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45298)[0m [W 2023-09-12 21:22:08,531] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45341)[0m /tmp/plasma45464:   
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:11: broker status timeout!
[2m[36m(train_xt pid=45341)[0m /tmp/plasma_share46074:
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:13: Finished train job normally.
[2m[36m(train_xt pid=45341)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m [I 2023-09-12 21:22:13,917] Trial 1 finished with value: 372.67080745341616 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 2}. Best is trial 0 with value: 363.08623298033285.
[2m[36m(train_xt pid=45341)[0m /tmp/plasma46074T0: 
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45341)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45341)[0m [W 2023-09-12 21:22:15,022] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:15: Task: T0         | Train_count:        60 | Steps:     31227 | Elapsed time: 49 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         3.101661	mean_explore_ms:        827.633476	mean_inference_ms:        3.135784	mean_loop_time_ms:      581.409669
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.891577	mean_restore_model_ms:   16.047311	mean_train_time_ms:      28.423214	mean_wait_model_ms:     842.711926
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    543.684196	step_per_second:             624.0	train_loss:               1.740658	train_reward_avg:            1.375
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:15: 
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m  XT start work...
[2m[36m(train_xt pid=45298)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694524928490197.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:16: init learner with:
[2m[36m(train_xt pid=45298)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45298)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45298)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45298)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45298)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45298)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45298)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=45298)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45298)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45298)[0m                           'save_model': True,
[2m[36m(train_xt pid=45298)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45298)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45298)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                                    'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                                 84,
[2m[36m(train_xt pid=45298)[0m                                                 4],
[2m[36m(train_xt pid=45298)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45298)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45298)[0m              'id': 'ImpalaCnnOpt_now_time_1694524928490197',
[2m[36m(train_xt pid=45298)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45298)[0m 'env_num': 3,
[2m[36m(train_xt pid=45298)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45298)[0m                         'size': 3,
[2m[36m(train_xt pid=45298)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45298)[0m                         'vision': False,
[2m[36m(train_xt pid=45298)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45298)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45298)[0m             'now_time': '1694524928490197'},
[2m[36m(train_xt pid=45298)[0m 'gpu': -1,
[2m[36m(train_xt pid=45298)[0m 'group_num': 1,
[2m[36m(train_xt pid=45298)[0m 'lock': 1,
[2m[36m(train_xt pid=45298)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                        'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                     84,
[2m[36m(train_xt pid=45298)[0m                                     4],
[2m[36m(train_xt pid=45298)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45298)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45298)[0m                'dummy_user',
[2m[36m(train_xt pid=45298)[0m                'dummy_password')],
[2m[36m(train_xt pid=45298)[0m 'speedup': 3,
[2m[36m(train_xt pid=45298)[0m 'start_core': 0}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:16: Init Broker server info:
[2m[36m(train_xt pid=45298)[0m {'recv': {'port': 22663,
[2m[36m(train_xt pid=45298)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45298)[0m 'send': [{'port': 26808,
[2m[36m(train_xt pid=45298)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:16: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 22663, 26808, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:16: launch local broker with lib success
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:16: **********
[2m[36m(train_xt pid=45298)[0m workspace:
[2m[36m(train_xt pid=45298)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_1694524928490197
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m /tmp/plasma46086:   
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:19: broker status timeout!
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m /tmp/plasma_share47239:
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:21: Finished train job normally.
[2m[36m(train_xt pid=45404)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m [I 2023-09-12 21:22:21,728] Trial 2 finished with value: 380.95238095238096 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 2}. Best is trial 0 with value: 363.08623298033285.
[2m[36m(train_xt pid=45404)[0m /tmp/plasma47239T0: 
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:22: 
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m  XT start work...
[2m[36m(train_xt pid=45341)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945249349741828.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:22: set verbosity in broker: info
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:22: init broker with id-0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:22: share buf: plasma_store -m 400000000 -s /tmp/plasma_share50268
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45404)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45404)[0m [W 2023-09-12 21:22:22,814] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:22: init explorer with id: 0, buf_path: /tmp/plasma_share50268
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:22: init agent group for: explore
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:23: init learner with:
[2m[36m(train_xt pid=45341)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45341)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45341)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45341)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45341)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45341)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45341)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=45341)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45341)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45341)[0m                           'save_model': True,
[2m[36m(train_xt pid=45341)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45341)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45341)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                                    'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                                 84,
[2m[36m(train_xt pid=45341)[0m                                                 4],
[2m[36m(train_xt pid=45341)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45341)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45341)[0m              'id': 'ImpalaCnnOpt_now_time_16945249349741828',
[2m[36m(train_xt pid=45341)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45341)[0m 'env_num': 4,
[2m[36m(train_xt pid=45341)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45341)[0m                         'size': 5,
[2m[36m(train_xt pid=45341)[0m                         'vector_env_size': 5,
[2m[36m(train_xt pid=45341)[0m                         'vision': False,
[2m[36m(train_xt pid=45341)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45341)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45341)[0m             'now_time': '16945249349741828'},
[2m[36m(train_xt pid=45341)[0m 'gpu': -1,
[2m[36m(train_xt pid=45341)[0m 'group_num': 1,
[2m[36m(train_xt pid=45341)[0m 'lock': 1,
[2m[36m(train_xt pid=45341)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                        'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                     84,
[2m[36m(train_xt pid=45341)[0m                                     4],
[2m[36m(train_xt pid=45341)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45341)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45341)[0m                'dummy_user',
[2m[36m(train_xt pid=45341)[0m                'dummy_password')],
[2m[36m(train_xt pid=45341)[0m 'speedup': 3,
[2m[36m(train_xt pid=45341)[0m 'start_core': 10}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:23: Init Broker server info:
[2m[36m(train_xt pid=45341)[0m {'recv': {'port': 30618,
[2m[36m(train_xt pid=45341)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45341)[0m 'send': [{'port': 38065,
[2m[36m(train_xt pid=45341)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:23: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 30618, 38065, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:23: launch local broker with lib success
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:23: **********
[2m[36m(train_xt pid=45341)[0m workspace:
[2m[36m(train_xt pid=45341)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945249349741828
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:24: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:25: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:26: init explorer with id: 1, buf_path: /tmp/plasma_share50268
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=46430)[0m /tmp/plasma48028:   
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:27: broker status timeout!
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:27: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m /tmp/plasma_share48652:
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:28: set verbosity in broker: info
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:28: init broker with id-0
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:28: share buf: plasma_store -m 400000000 -s /tmp/plasma_share50900
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:29: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:29: init explorer with id: 2, buf_path: /tmp/plasma_share50268
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:29: init explorer with id: 0, buf_path: /tmp/plasma_share50900
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:29: init agent group for: explore
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:29: Finished train job normally.
[2m[36m(train_xt pid=46430)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m [I 2023-09-12 21:22:29,565] Trial 3 finished with value: 384.61538461538464 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 2}. Best is trial 0 with value: 363.08623298033285.
[2m[36m(train_xt pid=46430)[0m /tmp/plasma48652T0: 
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:29: 
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45404)[0m  XT start work...
[2m[36m(train_xt pid=45404)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694524942778221.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:30: init learner with:
[2m[36m(train_xt pid=45404)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45404)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45404)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45404)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45404)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45404)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45404)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                       'n_agents': 2,
== Status ==
Current time: 2023-09-12 21:21:39 (running for 00:00:53.39)
Memory usage on this node: 24.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:21:44 (running for 00:00:58.40)
Memory usage on this node: 24.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:21:49 (running for 00:01:03.41)
Memory usage on this node: 25.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:21:54 (running for 00:01:08.41)
Memory usage on this node: 25.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:21:59 (running for 00:01:13.42)
Memory usage on this node: 25.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45298)[0m  45459
== Status ==
Current time: 2023-09-12 21:22:04 (running for 00:01:18.42)
Memory usage on this node: 25.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45298)[0m  46025
[2m[36m(train_xt pid=45298)[0m good
[2m[36m(train_xt pid=45298)[0m log filename ================== /tmp/16945248549599152
[2m[36m(train_xt pid=45298)[0m step_per_second ============ 661.0
[2m[36m(train_xt pid=45298)[0m tune_cost =================== True
[2m[36m(train_xt pid=45298)[0m  46034
[2m[36m(train_xt pid=45298)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=45298)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=45298)[0m get max throughput start_core============================= 0
[2m[36m(train_xt pid=45298)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694524928490197.yaml
[2m[36m(train_xt pid=45298)[0m run_log ======================== /tmp/test_opt_bys1694524928490197.log
== Status ==
Current time: 2023-09-12 21:22:09 (running for 00:01:23.43)
Memory usage on this node: 23.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m  46080
[2m[36m(train_xt pid=45341)[0m  47183
[2m[36m(train_xt pid=45341)[0m good
[2m[36m(train_xt pid=45341)[0m log filename ================== /tmp/169452486138513
[2m[36m(train_xt pid=45341)[0m step_per_second ============ 644.0
[2m[36m(train_xt pid=45341)[0m tune_cost =================== True
[2m[36m(train_xt pid=45341)[0m  47200
== Status ==
Current time: 2023-09-12 21:22:14 (running for 00:01:28.43)
Memory usage on this node: 21.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m =======================env_pool_size======================5
[2m[36m(train_xt pid=45341)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=45341)[0m get max throughput start_core============================= 10
[2m[36m(train_xt pid=45341)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945249349741828.yaml
[2m[36m(train_xt pid=45341)[0m run_log ======================== /tmp/test_opt_bys16945249349741828.log
[2m[36m(train_xt pid=45298)[0m start_core ======================================== 0
[2m[36m(train_xt pid=45298)[0m plasma_store -m 1000000000 -s /tmp/plasma50179
[2m[36m(train_xt pid=45298)[0m self.time_record_filename ============= /tmp/1694524928490197
[2m[36m(train_xt pid=45404)[0m  47245
== Status ==
Current time: 2023-09-12 21:22:19 (running for 00:01:33.44)
Memory usage on this node: 22.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45404)[0m  48342
[2m[36m(train_xt pid=45404)[0m good
[2m[36m(train_xt pid=45404)[0m log filename ================== /tmp/16945248678622334
[2m[36m(train_xt pid=45404)[0m step_per_second ============ 630.0
[2m[36m(train_xt pid=45404)[0m tune_cost =================== True
[2m[36m(train_xt pid=45404)[0m  48349
[2m[36m(train_xt pid=45298)[0m plasma_store -m 100000000 -s /tmp/plasma50268T0
[2m[36m(train_xt pid=45341)[0m start_core ======================================== 10
[2m[36m(train_xt pid=45341)[0m plasma_store -m 1000000000 -s /tmp/plasma50240
[2m[36m(train_xt pid=45341)[0m self.time_record_filename ============= /tmp/16945249349741828
[2m[36m(train_xt pid=45404)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=45404)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=45404)[0m get max throughput start_core============================= 20
[2m[36m(train_xt pid=45404)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694524942778221.yaml
[2m[36m(train_xt pid=45404)[0m run_log ======================== /tmp/test_opt_bys1694524942778221.log
== Status ==
Current time: 2023-09-12 21:22:24 (running for 00:01:38.44)
Memory usage on this node: 21.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m  48654
[2m[36m(train_xt pid=46430)[0m  49477
[2m[36m(train_xt pid=45341)[0m plasma_store -m 100000000 -s /tmp/plasma50900T0
[2m[36m(train_xt pid=46430)[0m good
[2m[36m(train_xt pid=46430)[0m log filename ================== /tmp/16945248760411103
[2m[36m(train_xt pid=46430)[0m step_per_second ============ 624.0
[2m[36m(train_xt pid=46430)[0m tune_cost =================== True
== Status ==
Current time: 2023-09-12 21:22:29 (running for 00:01:43.44)
Memory usage on this node: 20.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m  49484
[2m[36m(train_xt pid=45404)[0m start_core ======================================== 20
[2m[36m(train_xt pid=45404)[0m plasma_store -m 1000000000 -s /tmp/plasma51597
[2m[36m(train_xt pid=45404)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=45404)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45404)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45404)[0m                           'save_model': True,
[2m[36m(train_xt pid=45404)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45404)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45404)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                                    'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                                 84,
[2m[36m(train_xt pid=45404)[0m                                                 4],
[2m[36m(train_xt pid=45404)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45404)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45404)[0m              'id': 'ImpalaCnnOpt_now_time_1694524942778221',
[2m[36m(train_xt pid=45404)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45404)[0m 'env_num': 5,
[2m[36m(train_xt pid=45404)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45404)[0m                         'size': 3,
[2m[36m(train_xt pid=45404)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45404)[0m                         'vision': False,
[2m[36m(train_xt pid=45404)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45404)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45404)[0m             'now_time': '1694524942778221'},
[2m[36m(train_xt pid=45404)[0m 'gpu': -1,
[2m[36m(train_xt pid=45404)[0m 'group_num': 1,
[2m[36m(train_xt pid=45404)[0m 'lock': 1,
[2m[36m(train_xt pid=45404)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                        'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                     84,
[2m[36m(train_xt pid=45404)[0m                                     4],
[2m[36m(train_xt pid=45404)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45404)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45404)[0m                'dummy_user',
[2m[36m(train_xt pid=45404)[0m                'dummy_password')],
[2m[36m(train_xt pid=45404)[0m 'speedup': 3,
[2m[36m(train_xt pid=45404)[0m 'start_core': 20}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:30: Init Broker server info:
[2m[36m(train_xt pid=45404)[0m {'recv': {'port': 25606,
[2m[36m(train_xt pid=45404)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45404)[0m 'send': [{'port': 32139,
[2m[36m(train_xt pid=45404)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=46430)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=46430)[0m [W 2023-09-12 21:22:30,650] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:30: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 25606, 32139, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:30: launch local broker with lib success
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:30: **********
[2m[36m(train_xt pid=45404)[0m workspace:
[2m[36m(train_xt pid=45404)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_1694524942778221
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:30: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:30: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:32: speedup(3): binding env 2 to CPU 2
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:32: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:32: init explorer with id: 1, buf_path: /tmp/plasma_share50900
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:34: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:35: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:35: init explorer with id: 2, buf_path: /tmp/plasma_share50900
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:35: Task: T0         | Train_count:         2 | Steps:       893 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         3.770589	mean_explore_ms:        902.166287	mean_inference_ms:        2.900209	mean_loop_time_ms:       57.226896
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.072248	mean_restore_model_ms:   50.055583	mean_train_time_ms:     634.839376	mean_wait_model_ms:     4553.711096
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    4769.638936	step_per_second:              54.0	train_loss:               27.21278	train_reward_avg:              0.0
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:36: set verbosity in broker: info
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:36: init broker with id-0
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:36: share buf: plasma_store -m 400000000 -s /tmp/plasma_share52578
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:36: init explorer with id: 0, buf_path: /tmp/plasma_share52578
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:36: init agent group for: explore
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:37: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:37: 
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m  XT start work...
[2m[36m(train_xt pid=46430)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945249506159666.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:38: init learner with:
[2m[36m(train_xt pid=46430)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=46430)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=46430)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=46430)[0m               'agent_num': 1},
[2m[36m(train_xt pid=46430)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=46430)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=46430)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=46430)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=46430)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=46430)[0m                           'save_model': True,
[2m[36m(train_xt pid=46430)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=46430)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=46430)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                                    'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                                 84,
[2m[36m(train_xt pid=46430)[0m                                                 4],
[2m[36m(train_xt pid=46430)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=46430)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=46430)[0m              'id': 'ImpalaCnnOpt_now_time_16945249506159666',
[2m[36m(train_xt pid=46430)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=46430)[0m 'env_num': 5,
[2m[36m(train_xt pid=46430)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=46430)[0m                         'size': 3,
[2m[36m(train_xt pid=46430)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=46430)[0m                         'vision': False,
[2m[36m(train_xt pid=46430)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=46430)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=46430)[0m             'now_time': '16945249506159666'},
[2m[36m(train_xt pid=46430)[0m 'gpu': -1,
[2m[36m(train_xt pid=46430)[0m 'group_num': 1,
[2m[36m(train_xt pid=46430)[0m 'lock': 1,
[2m[36m(train_xt pid=46430)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                        'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                     84,
[2m[36m(train_xt pid=46430)[0m                                     4],
[2m[36m(train_xt pid=46430)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=46430)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=46430)[0m                'dummy_user',
[2m[36m(train_xt pid=46430)[0m                'dummy_password')],
[2m[36m(train_xt pid=46430)[0m 'speedup': 3,
[2m[36m(train_xt pid=46430)[0m 'start_core': 30}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:38: Init Broker server info:
[2m[36m(train_xt pid=46430)[0m {'recv': {'port': 39291,
[2m[36m(train_xt pid=46430)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=46430)[0m 'send': [{'port': 31823,
[2m[36m(train_xt pid=46430)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:38: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 39291, 31823, '127.0.0.1', 'info')
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:38: launch local broker with lib success
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:38: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:38: speedup(3): binding env 2 to CPU 12
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:38: **********
[2m[36m(train_xt pid=46430)[0m workspace:
[2m[36m(train_xt pid=46430)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945249506159666
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:38: init explorer with id: 3, buf_path: /tmp/plasma_share50900
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:39: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:39: init explorer with id: 1, buf_path: /tmp/plasma_share52578
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:40: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:41: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:41: speedup(3): binding env 3 to CPU 13
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:42: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:43: init explorer with id: 2, buf_path: /tmp/plasma_share52578
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:44: Task: T0         | Train_count:        28 | Steps:     11032 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         3.165713	mean_explore_ms:        772.906678	mean_inference_ms:        2.639735	mean_loop_time_ms:      343.261588
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.396072	mean_restore_model_ms:   24.083444	mean_train_time_ms:      24.867797	mean_wait_model_ms:     2376.41607
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    310.359204	step_per_second:             439.0	train_loss:             -58.722923	train_reward_avg:         1.033333
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:44: set verbosity in broker: info
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:44: init broker with id-0
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:44: share buf: plasma_store -m 400000000 -s /tmp/plasma_share54005
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:44: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:44: init explorer with id: 0, buf_path: /tmp/plasma_share54005
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:44: init agent group for: explore
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:46: Task: T0         | Train_count:         5 | Steps:      2041 | Elapsed time: 20 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.287873	mean_explore_ms:        723.499441	mean_inference_ms:         2.97669	mean_loop_time_ms:      178.032319
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.119614	mean_restore_model_ms:   47.443533	mean_train_time_ms:     298.001971	mean_wait_model_ms:     5320.133066
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    2555.555105	step_per_second:             101.0	train_loss:              85.137497	train_reward_avg:              0.5
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:46: speedup(3): binding env 2 to CPU 22
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:46: init explorer with id: 3, buf_path: /tmp/plasma_share52578
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:46: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:47: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:47: init explorer with id: 1, buf_path: /tmp/plasma_share54005
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:47: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:49: speedup(3): binding env 3 to CPU 23
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:49: init explorer with id: 4, buf_path: /tmp/plasma_share52578
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:49: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:50: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:50: init explorer with id: 2, buf_path: /tmp/plasma_share54005
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:51: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:52: Task: T0         | Train_count:        32 | Steps:     12549 | Elapsed time: 26 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.187395	mean_explore_ms:        683.344156	mean_inference_ms:        2.848019	mean_loop_time_ms:      228.839922
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.476884	mean_restore_model_ms:   32.158911	mean_train_time_ms:      23.786771	mean_wait_model_ms:     3438.927025
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    195.611966	step_per_second:             474.0	train_loss:              39.396076	train_reward_avg:         1.422222
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:52: speedup(3): binding env 4 to CPU 24
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:52: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:53: Task: T0         | Train_count:        54 | Steps:     21090 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         3.056818	mean_explore_ms:        750.607085	mean_inference_ms:        2.606567	mean_loop_time_ms:       354.49816
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.129746	mean_restore_model_ms:    18.79456	mean_train_time_ms:      25.559628	mean_wait_model_ms:     1767.369008
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    321.003366	step_per_second:             613.0	train_loss:             -72.642075	train_reward_avg:           1.1875
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:54: speedup(3): binding env 2 to CPU 32
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:54: init explorer with id: 3, buf_path: /tmp/plasma_share54005
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:55: Task: T0         | Train_count:         2 | Steps:       893 | Elapsed time: 22 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:          4.80183	mean_explore_ms:        1067.731667	mean_inference_ms:        3.128252	mean_loop_time_ms:       60.087562
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.168251	mean_restore_model_ms:   53.343248	mean_train_time_ms:     702.012062	mean_wait_model_ms:     7625.766611
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    6856.172721	step_per_second:              39.0	train_loss:               4.325851	train_reward_avg:              0.0
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:55: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:57: speedup(3): binding env 3 to CPU 33
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:57: init explorer with id: 4, buf_path: /tmp/plasma_share54005
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:58: Task: T0         | Train_count:        58 | Steps:     22583 | Elapsed time: 32 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.150422	mean_explore_ms:        664.620201	mean_inference_ms:        2.782043	mean_loop_time_ms:      229.331076
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.120389	mean_restore_model_ms:   23.081323	mean_train_time_ms:      24.144888	mean_wait_model_ms:     2390.741011
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    195.057309	step_per_second:             703.0	train_loss:              94.549568	train_reward_avg:          1.92381
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:22:59: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:00: speedup(3): binding env 4 to CPU 34
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:02: Task: T0         | Train_count:        28 | Steps:     11097 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         4.538121	mean_explore_ms:        1004.772484	mean_inference_ms:          3.0019	mean_loop_time_ms:      256.414127
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.216829	mean_restore_model_ms:   34.873664	mean_train_time_ms:      30.433965	mean_wait_model_ms:     5137.249798
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    215.774941	step_per_second:             379.0	train_loss:             -37.170227	train_reward_avg:              1.0
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:03: Task: T0         | Train_count:        82 | Steps:     31837 | Elapsed time: 44 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         3.032337	mean_explore_ms:        750.852108	mean_inference_ms:         2.65025	mean_loop_time_ms:      372.092652
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.290917	mean_restore_model_ms:   15.080418	mean_train_time_ms:      28.833282	mean_wait_model_ms:     1360.622338
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    334.514034	step_per_second:             721.0	train_loss:             -62.199444	train_reward_avg:         0.986111
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:04: Task: T0         | Train_count:         0 | Steps:       125 | Elapsed time: 23 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         5.331326	mean_explore_ms:        1222.426701	mean_inference_ms:        3.707748	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.126528	mean_restore_model_ms:   59.875774	mean_train_time_ms:            nan	mean_wait_model_ms:     7450.323629
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    20727.251768	step_per_second:               5.0	train_loss:              86.365013	train_reward_avg:              0.0
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:05: Task: T0         | Train_count:        86 | Steps:     33123 | Elapsed time: 39 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.128069	mean_explore_ms:        657.735443	mean_inference_ms:        2.766749	mean_loop_time_ms:      264.370441
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.218581	mean_restore_model_ms:   19.801792	mean_train_time_ms:      26.593053	mean_wait_model_ms:     1985.853545
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    227.629328	step_per_second:             839.0	train_loss:                1.58316	train_reward_avg:         1.786667
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:10: Task: T0         | Train_count:        56 | Steps:     21663 | Elapsed time: 36 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:          4.41781	mean_explore_ms:        980.093186	mean_inference_ms:        2.996055	mean_loop_time_ms:       264.55617
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.211977	mean_restore_model_ms:   23.459159	mean_train_time_ms:      30.045152	mean_wait_model_ms:     3291.488959
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    225.937676	step_per_second:             585.0	train_loss:             -19.996958	train_reward_avg:         1.305556
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:11: Task: T0         | Train_count:        26 | Steps:     10281 | Elapsed time: 30 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         5.083014	mean_explore_ms:        1150.878489	mean_inference_ms:         3.52074	mean_loop_time_ms:      275.235438
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.338875	mean_restore_model_ms:   39.451331	mean_train_time_ms:       26.03811	mean_wait_model_ms:     5075.947642
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    240.265036	step_per_second:             340.0	train_loss:              -0.605857	train_reward_avg:         0.333333
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m /tmp/plasma50240:   
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:12: broker status timeout!
[2m[36m(train_xt pid=45341)[0m /tmp/plasma_share50900:
[2m[36m(train_xt pid=45298)[0m /tmp/plasma50179:   
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:13: broker status timeout!
[2m[36m(train_xt pid=45298)[0m /tmp/plasma_share50268:
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:14: Finished train job normally.
[2m[36m(train_xt pid=45341)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m [I 2023-09-12 21:23:14,567] Trial 5 finished with value: 429.08224076281283 and parameters: {'env_pool_size': 5, 'env_pool_wait_nums': 3, 'infer_size': 4}. Best is trial 0 with value: 363.08623298033285.
[2m[36m(train_xt pid=45341)[0m /tmp/plasma50900T0: 
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:15: Finished train job normally.
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45341)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45341)[0m [W 2023-09-12 21:23:15,667] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45298)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m [I 2023-09-12 21:23:15,838] Trial 4 finished with value: 332.87101248266293 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 3}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45298)[0m /tmp/plasma50268T0: 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:16: Task: T0         | Train_count:        84 | Steps:     32634 | Elapsed time: 43 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         4.335201	mean_explore_ms:        960.623292	mean_inference_ms:         2.95373	mean_loop_time_ms:      244.804704
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.296937	mean_restore_model_ms:   18.951178	mean_train_time_ms:      28.225756	mean_wait_model_ms:     2592.997158
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    208.173418	step_per_second:             753.0	train_loss:               1.958136	train_reward_avg:         1.229167
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45298)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45298)[0m [W 2023-09-12 21:23:16,936] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:17: Task: T0         | Train_count:        52 | Steps:     20305 | Elapsed time: 36 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         4.818509	mean_explore_ms:        1069.711282	mean_inference_ms:        3.250259	mean_loop_time_ms:      246.224642
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.155543	mean_restore_model_ms:   26.319375	mean_train_time_ms:      24.942601	mean_wait_model_ms:     3242.89597
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    212.424946	step_per_second:             556.0	train_loss:               4.858908	train_reward_avg:         0.871795
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m /tmp/plasma51597:   
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:23: broker status timeout!
[2m[36m(train_xt pid=45404)[0m /tmp/plasma_share52578:
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:23: 
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m  XT start work...
[2m[36m(train_xt pid=45341)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945249956221719.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:24: init learner with:
[2m[36m(train_xt pid=45341)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45341)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45341)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45341)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45341)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45341)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45341)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=45341)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45341)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45341)[0m                           'save_model': True,
[2m[36m(train_xt pid=45341)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45341)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45341)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                                    'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                                 84,
[2m[36m(train_xt pid=45341)[0m                                                 4],
[2m[36m(train_xt pid=45341)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45341)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45341)[0m              'id': 'ImpalaCnnOpt_now_time_16945249956221719',
[2m[36m(train_xt pid=45341)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45341)[0m 'env_num': 3,
[2m[36m(train_xt pid=45341)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45341)[0m                         'size': 3,
[2m[36m(train_xt pid=45341)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45341)[0m                         'vision': False,
[2m[36m(train_xt pid=45341)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45341)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45341)[0m             'now_time': '16945249956221719'},
[2m[36m(train_xt pid=45341)[0m 'gpu': -1,
[2m[36m(train_xt pid=45341)[0m 'group_num': 1,
[2m[36m(train_xt pid=45341)[0m 'lock': 1,
[2m[36m(train_xt pid=45341)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                        'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                     84,
[2m[36m(train_xt pid=45341)[0m                                     4],
[2m[36m(train_xt pid=45341)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45341)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45341)[0m                'dummy_user',
[2m[36m(train_xt pid=45341)[0m                'dummy_password')],
[2m[36m(train_xt pid=45341)[0m 'speedup': 3,
[2m[36m(train_xt pid=45341)[0m 'start_core': 10}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:24: Init Broker server info:
[2m[36m(train_xt pid=45341)[0m {'recv': {'port': 26426,
[2m[36m(train_xt pid=45341)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45341)[0m 'send': [{'port': 22249,
[2m[36m(train_xt pid=45341)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:24: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 26426, 22249, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:24: launch local broker with lib success
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:24: **********
[2m[36m(train_xt pid=45341)[0m workspace:
[2m[36m(train_xt pid=45341)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945249956221719
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:24: Task: T0         | Train_count:        80 | Steps:     31036 | Elapsed time: 43 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         4.632932	mean_explore_ms:        1030.786529	mean_inference_ms:        3.159474	mean_loop_time_ms:      232.227921
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.274765	mean_restore_model_ms:   22.336423	mean_train_time_ms:      26.002109	mean_wait_model_ms:     2693.748981
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    197.383189	step_per_second:             714.0	train_loss:               16.71022	train_reward_avg:         0.958333
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:25: 
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m  XT start work...
[2m[36m(train_xt pid=45298)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945249968941677.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:25: Finished train job normally.
[2m[36m(train_xt pid=45404)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m [I 2023-09-12 21:23:25,499] Trial 6 finished with value: 424.9667994687915 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 5}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45404)[0m /tmp/plasma52578T0: 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:25: init learner with:
[2m[36m(train_xt pid=45298)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45298)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45298)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45298)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45298)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45298)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45298)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=45298)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45298)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45298)[0m                           'save_model': True,
[2m[36m(train_xt pid=45298)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45298)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45298)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                                    'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45404)[0m self.time_record_filename ============= /tmp/1694524942778221
[2m[36m(train_xt pid=46430)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=46430)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=46430)[0m get max throughput start_core============================= 30
[2m[36m(train_xt pid=46430)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945249506159666.yaml
[2m[36m(train_xt pid=46430)[0m run_log ======================== /tmp/test_opt_bys16945249506159666.log
== Status ==
Current time: 2023-09-12 21:22:34 (running for 00:01:48.45)
Memory usage on this node: 22.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45404)[0m plasma_store -m 100000000 -s /tmp/plasma52578T0
[2m[36m(train_xt pid=46430)[0m start_core ======================================== 30
[2m[36m(train_xt pid=46430)[0m plasma_store -m 1000000000 -s /tmp/plasma53023
[2m[36m(train_xt pid=46430)[0m self.time_record_filename ============= /tmp/16945249506159666
== Status ==
Current time: 2023-09-12 21:22:39 (running for 00:01:53.45)
Memory usage on this node: 23.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m plasma_store -m 100000000 -s /tmp/plasma54005T0
== Status ==
Current time: 2023-09-12 21:22:44 (running for 00:01:58.46)
Memory usage on this node: 24.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:22:49 (running for 00:02:03.46)
Memory usage on this node: 25.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:22:54 (running for 00:02:08.47)
Memory usage on this node: 26.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:22:59 (running for 00:02:13.47)
Memory usage on this node: 26.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:23:04 (running for 00:02:18.47)
Memory usage on this node: 27.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:23:09 (running for 00:02:23.48)
Memory usage on this node: 28.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m  50907
[2m[36m(train_xt pid=45341)[0m  52005
[2m[36m(train_xt pid=45298)[0m  50270
[2m[36m(train_xt pid=45298)[0m  50862
[2m[36m(train_xt pid=45341)[0m good
[2m[36m(train_xt pid=45341)[0m log filename ================== /tmp/16945249349741828
[2m[36m(train_xt pid=45341)[0m step_per_second ============ 839.0
[2m[36m(train_xt pid=45341)[0m tune_cost =================== True
== Status ==
Current time: 2023-09-12 21:23:14 (running for 00:02:28.48)
Memory usage on this node: 26.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m  52013
[2m[36m(train_xt pid=45298)[0m good
[2m[36m(train_xt pid=45298)[0m log filename ================== /tmp/1694524928490197
[2m[36m(train_xt pid=45298)[0m step_per_second ============ 721.0
[2m[36m(train_xt pid=45298)[0m tune_cost =================== True
[2m[36m(train_xt pid=45298)[0m  50870
[2m[36m(train_xt pid=45341)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=45341)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=45341)[0m get max throughput start_core============================= 10
[2m[36m(train_xt pid=45341)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945249956221719.yaml
[2m[36m(train_xt pid=45341)[0m run_log ======================== /tmp/test_opt_bys16945249956221719.log
[2m[36m(train_xt pid=45298)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=45298)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=45298)[0m get max throughput start_core============================= 0
[2m[36m(train_xt pid=45298)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945249968941677.yaml
[2m[36m(train_xt pid=45298)[0m run_log ======================== /tmp/test_opt_bys16945249968941677.log
== Status ==
Current time: 2023-09-12 21:23:19 (running for 00:02:33.49)
Memory usage on this node: 24.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45404)[0m  52581
[2m[36m(train_xt pid=45404)[0m  53625
[2m[36m(train_xt pid=45341)[0m start_core ======================================== 10
== Status ==
Current time: 2023-09-12 21:23:24 (running for 00:02:38.49)
Memory usage on this node: 24.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m plasma_store -m 1000000000 -s /tmp/plasma57427
[2m[36m(train_xt pid=45341)[0m self.time_record_filename ============= /tmp/16945249956221719
[2m[36m(train_xt pid=45404)[0m good
[2m[36m(train_xt pid=45404)[0m log filename ================== /tmp/1694524942778221
[2m[36m(train_xt pid=45404)[0m step_per_second ============ 753.0
[2m[36m(train_xt pid=45404)[0m tune_cost =================== True
[2m[36m(train_xt pid=45404)[0m  53714
[2m[36m(train_xt pid=45298)[0m start_core ======================================== 0
[2m[36m(train_xt pid=45298)[0m plasma_store -m 1000000000 -s /tmp/plasma57436
[2m[36m(train_xt pid=45298)[0m self.time_record_filename ============= /tmp/16945249968941677
[2m[36m(train_xt pid=45404)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=45404)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=45298)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                                 84,
[2m[36m(train_xt pid=45298)[0m                                                 4],
[2m[36m(train_xt pid=45298)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45298)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45298)[0m              'id': 'ImpalaCnnOpt_now_time_16945249968941677',
[2m[36m(train_xt pid=45298)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45298)[0m 'env_num': 2,
[2m[36m(train_xt pid=45298)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45298)[0m                         'size': 3,
[2m[36m(train_xt pid=45298)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45298)[0m                         'vision': False,
[2m[36m(train_xt pid=45298)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45298)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45298)[0m             'now_time': '16945249968941677'},
[2m[36m(train_xt pid=45298)[0m 'gpu': -1,
[2m[36m(train_xt pid=45298)[0m 'group_num': 1,
[2m[36m(train_xt pid=45298)[0m 'lock': 1,
[2m[36m(train_xt pid=45298)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                        'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                     84,
[2m[36m(train_xt pid=45298)[0m                                     4],
[2m[36m(train_xt pid=45298)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45298)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45298)[0m                'dummy_user',
[2m[36m(train_xt pid=45298)[0m                'dummy_password')],
[2m[36m(train_xt pid=45298)[0m 'speedup': 3,
[2m[36m(train_xt pid=45298)[0m 'start_core': 0}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:25: Init Broker server info:
[2m[36m(train_xt pid=45298)[0m {'recv': {'port': 34252,
[2m[36m(train_xt pid=45298)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45298)[0m 'send': [{'port': 25740,
[2m[36m(train_xt pid=45298)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:26: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 34252, 25740, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:26: launch local broker with lib success
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:26: **********
[2m[36m(train_xt pid=45298)[0m workspace:
[2m[36m(train_xt pid=45298)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945249968941677
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45404)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45404)[0m [W 2023-09-12 21:23:26,595] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=46430)[0m /tmp/plasma53023:   
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:31: set verbosity in broker: info
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:31: init broker with id-0
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:31: broker status timeout!
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:31: share buf: plasma_store -m 400000000 -s /tmp/plasma_share57508
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:31: init explorer with id: 0, buf_path: /tmp/plasma_share57508
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:31: init agent group for: explore
[2m[36m(train_xt pid=46430)[0m /tmp/plasma_share54005:
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:32: set verbosity in broker: info
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:32: init broker with id-0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:32: share buf: plasma_store -m 400000000 -s /tmp/plasma_share57980
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:32: init explorer with id: 0, buf_path: /tmp/plasma_share57980
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:32: init agent group for: explore
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:33: Finished train job normally.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:33: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m [I 2023-09-12 21:23:33,482] Trial 7 finished with value: 448.1792717086835 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 5}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:33: 
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45404)[0m  XT start work...
[2m[36m(train_xt pid=45404)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250065582125.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m /tmp/plasma54005T0: 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:34: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:34: init learner with:
[2m[36m(train_xt pid=45404)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45404)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45404)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45404)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45404)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45404)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45404)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=45404)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45404)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45404)[0m                           'save_model': True,
[2m[36m(train_xt pid=45404)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45404)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45404)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                                    'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                                 84,
[2m[36m(train_xt pid=45404)[0m                                                 4],
[2m[36m(train_xt pid=45404)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45404)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45404)[0m              'id': 'ImpalaCnnOpt_now_time_16945250065582125',
[2m[36m(train_xt pid=45404)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45404)[0m 'env_num': 5,
[2m[36m(train_xt pid=45404)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45404)[0m                         'size': 2,
[2m[36m(train_xt pid=45404)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=45404)[0m                         'vision': False,
[2m[36m(train_xt pid=45404)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=45404)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45404)[0m             'now_time': '16945250065582125'},
[2m[36m(train_xt pid=45404)[0m 'gpu': -1,
[2m[36m(train_xt pid=45404)[0m 'group_num': 1,
[2m[36m(train_xt pid=45404)[0m 'lock': 1,
[2m[36m(train_xt pid=45404)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                        'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                     84,
[2m[36m(train_xt pid=45404)[0m                                     4],
[2m[36m(train_xt pid=45404)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45404)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45404)[0m                'dummy_user',
[2m[36m(train_xt pid=45404)[0m                'dummy_password')],
[2m[36m(train_xt pid=45404)[0m 'speedup': 3,
[2m[36m(train_xt pid=45404)[0m 'start_core': 20}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:34: Init Broker server info:
[2m[36m(train_xt pid=45404)[0m {'recv': {'port': 38588,
[2m[36m(train_xt pid=45404)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45404)[0m 'send': [{'port': 32555,
[2m[36m(train_xt pid=45404)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:34: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 38588, 32555, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:34: launch local broker with lib success
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:34: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:34: **********
[2m[36m(train_xt pid=45404)[0m workspace:
[2m[36m(train_xt pid=45404)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945250065582125
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=46430)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=46430)[0m [W 2023-09-12 21:23:34,585] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:34: init explorer with id: 1, buf_path: /tmp/plasma_share57508
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:35: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:35: init explorer with id: 1, buf_path: /tmp/plasma_share57980
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:36: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:37: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:37: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:37: init explorer with id: 2, buf_path: /tmp/plasma_share57508
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:38: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:39: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:40: set verbosity in broker: info
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:40: init broker with id-0
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:40: share buf: plasma_store -m 400000000 -s /tmp/plasma_share59332
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:40: init explorer with id: 0, buf_path: /tmp/plasma_share59332
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:40: init agent group for: explore
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:40: speedup(3): binding env 2 to CPU 12
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:41: 
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m  XT start work...
[2m[36m(train_xt pid=46430)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250145502071.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:42: init learner with:
[2m[36m(train_xt pid=46430)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=46430)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=46430)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=46430)[0m               'agent_num': 1},
[2m[36m(train_xt pid=46430)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=46430)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=46430)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=46430)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=46430)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=46430)[0m                           'save_model': True,
[2m[36m(train_xt pid=46430)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=46430)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=46430)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                                    'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                                 84,
[2m[36m(train_xt pid=46430)[0m                                                 4],
[2m[36m(train_xt pid=46430)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=46430)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=46430)[0m              'id': 'ImpalaCnnOpt_now_time_16945250145502071',
[2m[36m(train_xt pid=46430)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=46430)[0m 'env_num': 3,
[2m[36m(train_xt pid=46430)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=46430)[0m                         'size': 4,
[2m[36m(train_xt pid=46430)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=46430)[0m                         'vision': False,
[2m[36m(train_xt pid=46430)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=46430)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=46430)[0m             'now_time': '16945250145502071'},
[2m[36m(train_xt pid=46430)[0m 'gpu': -1,
[2m[36m(train_xt pid=46430)[0m 'group_num': 1,
[2m[36m(train_xt pid=46430)[0m 'lock': 1,
[2m[36m(train_xt pid=46430)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                        'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                     84,
[2m[36m(train_xt pid=46430)[0m                                     4],
[2m[36m(train_xt pid=46430)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=46430)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=46430)[0m                'dummy_user',
[2m[36m(train_xt pid=46430)[0m                'dummy_password')],
[2m[36m(train_xt pid=46430)[0m 'speedup': 3,
[2m[36m(train_xt pid=46430)[0m 'start_core': 30}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:42: Init Broker server info:
[2m[36m(train_xt pid=46430)[0m {'recv': {'port': 35093,
[2m[36m(train_xt pid=46430)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=46430)[0m 'send': [{'port': 37209,
[2m[36m(train_xt pid=46430)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:42: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 35093, 37209, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:42: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:42: launch local broker with lib success
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:42: **********
[2m[36m(train_xt pid=46430)[0m workspace:
[2m[36m(train_xt pid=46430)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945250145502071
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:42: Task: T0         | Train_count:         2 | Steps:      1018 | Elapsed time: 13 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         2.602448	mean_explore_ms:        741.667986	mean_inference_ms:        2.775722	mean_loop_time_ms:      498.867273
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.091242	mean_restore_model_ms:   46.465635	mean_train_time_ms:     633.275191	mean_wait_model_ms:     2941.660643
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    3944.357951	step_per_second:              73.0	train_loss:             287.261963	train_reward_avg:              0.0
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:43: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:43: init explorer with id: 1, buf_path: /tmp/plasma_share59332
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:44: Task: T0         | Train_count:         0 | Steps:       381 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.673703	mean_explore_ms:        760.841449	mean_inference_ms:         2.87546	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.178741	mean_restore_model_ms:   48.937559	mean_train_time_ms:            nan	mean_wait_model_ms:     4524.689913
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    14375.426054	step_per_second:              22.0	train_loss:              39.885162	train_reward_avg:              0.0
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:45: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:46: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:46: init explorer with id: 2, buf_path: /tmp/plasma_share59332
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:48: set verbosity in broker: info
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:48: init broker with id-0
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:48: share buf: plasma_store -m 400000000 -s /tmp/plasma_share61023
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:48: init explorer with id: 0, buf_path: /tmp/plasma_share61023
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:48: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:48: init agent group for: explore
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:49: speedup(3): binding env 2 to CPU 22
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:49: init explorer with id: 3, buf_path: /tmp/plasma_share59332
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:50: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:51: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:51: init explorer with id: 1, buf_path: /tmp/plasma_share61023
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:51: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:52: speedup(3): binding env 3 to CPU 23
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:53: init explorer with id: 4, buf_path: /tmp/plasma_share59332
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:53: Task: T0         | Train_count:        28 | Steps:     10972 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.692278	mean_explore_ms:        719.052076	mean_inference_ms:        2.683723	mean_loop_time_ms:      340.440094
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.144779	mean_restore_model_ms:   23.722887	mean_train_time_ms:      28.424776	mean_wait_model_ms:     2390.460525
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    303.206682	step_per_second:             430.0	train_loss:              57.349449	train_reward_avg:         0.611111
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:53: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:54: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:54: init explorer with id: 2, buf_path: /tmp/plasma_share61023
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:54: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:56: speedup(3): binding env 4 to CPU 24
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:56: Task: T0         | Train_count:        30 | Steps:     11796 | Elapsed time: 27 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         2.643291	mean_explore_ms:        684.575399	mean_inference_ms:        2.490734	mean_loop_time_ms:       472.80618
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.120293	mean_restore_model_ms:   18.843452	mean_train_time_ms:      27.123797	mean_wait_model_ms:     1191.376408
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    437.593925	step_per_second:             434.0	train_loss:              66.987671	train_reward_avg:         1.466667
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:56: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:57: speedup(3): binding env 2 to CPU 32
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:23:59: Task: T0         | Train_count:         2 | Steps:       765 | Elapsed time: 22 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         4.766471	mean_explore_ms:        1005.526924	mean_inference_ms:        2.791749	mean_loop_time_ms:       52.935243
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     0.739257	mean_restore_model_ms:   57.844019	mean_train_time_ms:     691.543976	mean_wait_model_ms:     7594.898129
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    6853.41231	step_per_second:              33.0	train_loss:             -10.679726	train_reward_avg:              0.0
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:01: Task: T0         | Train_count:         2 | Steps:      1149 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         2.922365	mean_explore_ms:        888.715982	mean_inference_ms:        3.513629	mean_loop_time_ms:       65.022826
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.468182	mean_restore_model_ms:   56.081772	mean_train_time_ms:     756.680886	mean_wait_model_ms:     4441.552639
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    4764.301459	step_per_second:              68.0	train_loss:              11.401762	train_reward_avg:              0.0
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:01: Task: T0         | Train_count:        54 | Steps:     21065 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:          2.66795	mean_explore_ms:         704.83079	mean_inference_ms:        2.633593	mean_loop_time_ms:      347.513282
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.162148	mean_restore_model_ms:   17.997813	mean_train_time_ms:      30.183792	mean_wait_model_ms:     1761.967254
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    307.943869	step_per_second:             612.0	train_loss:             -36.422768	train_reward_avg:         0.814815
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:09: Task: T0         | Train_count:        42 | Steps:     10898 | Elapsed time: 32 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         4.477651	mean_explore_ms:        937.885349	mean_inference_ms:        2.656054	mean_loop_time_ms:      233.429575
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     0.895989	mean_restore_model_ms:   29.266878	mean_train_time_ms:      20.612133	mean_wait_model_ms:     3773.764025
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    204.034686	step_per_second:             339.0	train_loss:               34.41383	train_reward_avg:              0.5
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:10: Task: T0         | Train_count:        58 | Steps:     22573 | Elapsed time: 41 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         2.715531	mean_explore_ms:        694.445539	mean_inference_ms:        2.524712	mean_loop_time_ms:      507.251823
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:      1.54444	mean_restore_model_ms:   13.002539	mean_train_time_ms:      27.542269	mean_wait_model_ms:     838.669848
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    470.859861	step_per_second:             548.0	train_loss:             -30.041218	train_reward_avg:         1.444444
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:10: Task: T0         | Train_count:        22 | Steps:     11429 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         3.097733	mean_explore_ms:        880.627155	mean_inference_ms:        3.400845	mean_loop_time_ms:      442.956412
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.439655	mean_restore_model_ms:   35.778189	mean_train_time_ms:      28.691256	mean_wait_model_ms:     3213.363075
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    404.671717	step_per_second:             447.0	train_loss:              12.258613	train_reward_avg:             0.75
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:10: Task: T0         | Train_count:        80 | Steps:     31078 | Elapsed time: 43 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.749688	mean_explore_ms:        718.509894	mean_inference_ms:        2.674343	mean_loop_time_ms:      347.118342
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.272357	mean_restore_model_ms:   14.926122	mean_train_time_ms:      32.228994	mean_wait_model_ms:     1425.052349
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    305.364442	step_per_second:             715.0	train_loss:             -14.474123	train_reward_avg:         0.916667
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:18: Task: T0         | Train_count:        82 | Steps:     21211 | Elapsed time: 41 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         4.415763	mean_explore_ms:        929.539248	mean_inference_ms:        2.673735	mean_loop_time_ms:      230.315554
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     0.922287	mean_restore_model_ms:   22.420675	mean_train_time_ms:      22.051644	mean_wait_model_ms:     2673.016086
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    199.770701	step_per_second:             513.0	train_loss:             -100.158592	train_reward_avg:         0.857143
[2m[36m(train_xt pid=45404)[0m get max throughput start_core============================= 20
[2m[36m(train_xt pid=45404)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250065582125.yaml
[2m[36m(train_xt pid=45404)[0m run_log ======================== /tmp/test_opt_bys16945250065582125.log
== Status ==
Current time: 2023-09-12 21:23:29 (running for 00:02:43.50)
Memory usage on this node: 24.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m  54010
[2m[36m(train_xt pid=45341)[0m plasma_store -m 100000000 -s /tmp/plasma57508T0
[2m[36m(train_xt pid=46430)[0m  55376
[2m[36m(train_xt pid=45298)[0m plasma_store -m 100000000 -s /tmp/plasma57980T0
[2m[36m(train_xt pid=46430)[0m good
[2m[36m(train_xt pid=46430)[0m log filename ================== /tmp/16945249506159666
[2m[36m(train_xt pid=46430)[0m step_per_second ============ 714.0
[2m[36m(train_xt pid=46430)[0m tune_cost =================== True
[2m[36m(train_xt pid=46430)[0m  55383
[2m[36m(train_xt pid=45404)[0m start_core ======================================== 20
[2m[36m(train_xt pid=45404)[0m plasma_store -m 1000000000 -s /tmp/plasma58674
[2m[36m(train_xt pid=45404)[0m self.time_record_filename ============= /tmp/16945250065582125
== Status ==
Current time: 2023-09-12 21:23:34 (running for 00:02:48.50)
Memory usage on this node: 22.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=46430)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=46430)[0m get max throughput start_core============================= 30
[2m[36m(train_xt pid=46430)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250145502071.yaml
[2m[36m(train_xt pid=46430)[0m run_log ======================== /tmp/test_opt_bys16945250145502071.log
== Status ==
Current time: 2023-09-12 21:23:39 (running for 00:02:53.51)
Memory usage on this node: 23.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45404)[0m plasma_store -m 100000000 -s /tmp/plasma59332T0
[2m[36m(train_xt pid=46430)[0m start_core ======================================== 30
[2m[36m(train_xt pid=46430)[0m plasma_store -m 1000000000 -s /tmp/plasma60121
[2m[36m(train_xt pid=46430)[0m self.time_record_filename ============= /tmp/16945250145502071
== Status ==
Current time: 2023-09-12 21:23:44 (running for 00:02:58.51)
Memory usage on this node: 26.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m plasma_store -m 100000000 -s /tmp/plasma61023T0
== Status ==
Current time: 2023-09-12 21:23:49 (running for 00:03:03.52)
Memory usage on this node: 26.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:23:54 (running for 00:03:08.52)
Memory usage on this node: 27.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:23:59 (running for 00:03:13.53)
Memory usage on this node: 28.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:24:04 (running for 00:03:18.53)
Memory usage on this node: 29.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:24:09 (running for 00:03:23.54)
Memory usage on this node: 29.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:24:14 (running for 00:03:28.54)
Memory usage on this node: 29.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:24:19 (running for 00:03:33.55)
Memory usage on this node: 29.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m  57513
[2m[36m(train_xt pid=45341)[0m  58741
[2m[36m(train_xt pid=45341)[0m good
[2m[36m(train_xt pid=45341)[0m log filename ================== /tmp/16945249956221719
[2m[36m(train_xt pid=45341)[0m step_per_second ============ 715.0
[2m[36m(train_xt pid=45341)[0m tune_cost =================== True
== Status ==
Current time: 2023-09-12 21:24:24 (running for 00:03:38.55)
Memory usage on this node: 27.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m  58749
[2m[36m(train_xt pid=45341)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=45341)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=45341)[0m get max throughput start_core============================= 10
[2m[36m(train_xt pid=45341)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_169452506588619.yaml
[2m[36m(train_xt pid=45341)[0m run_log ======================== /tmp/test_opt_bys169452506588619.log
== Status ==
Current time: 2023-09-12 21:24:29 (running for 00:03:43.56)
Memory usage on this node: 27.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:24:34 (running for 00:03:48.56)
Memory usage on this node: 27.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:19: Task: T0         | Train_count:        42 | Steps:     21761 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         3.242412	mean_explore_ms:        884.681702	mean_inference_ms:        3.364988	mean_loop_time_ms:      465.401828
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.381516	mean_restore_model_ms:   24.431348	mean_train_time_ms:      30.309224	mean_wait_model_ms:     2159.908414
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    425.328779	step_per_second:             624.0	train_loss:              61.031315	train_reward_avg:         1.285714
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m /tmp/plasma57427:   
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:22: broker status timeout!
[2m[36m(train_xt pid=45341)[0m /tmp/plasma_share57508:
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:24: Finished train job normally.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:24: Task: T0         | Train_count:        86 | Steps:     33407 | Elapsed time: 55 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         2.726928	mean_explore_ms:        695.369073	mean_inference_ms:        2.538792	mean_loop_time_ms:      522.008097
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.192653	mean_restore_model_ms:   10.440094	mean_train_time_ms:      27.046692	mean_wait_model_ms:     689.828924
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    486.556137	step_per_second:             599.0	train_loss:              -7.467598	train_reward_avg:         1.230769
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45341)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m [I 2023-09-12 21:24:24,826] Trial 8 finished with value: 335.6643356643357 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 3}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45341)[0m /tmp/plasma57508T0: 
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45341)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45341)[0m [W 2023-09-12 21:24:25,928] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:27: Task: T0         | Train_count:       122 | Steps:     31404 | Elapsed time: 50 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         4.290129	mean_explore_ms:        904.634963	mean_inference_ms:        2.622834	mean_loop_time_ms:      220.439565
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     0.997198	mean_restore_model_ms:   17.211593	mean_train_time_ms:      20.302045	mean_wait_model_ms:     1933.47849
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    191.715741	step_per_second:             626.0	train_loss:             -64.503067	train_reward_avg:              1.0
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:27: Task: T0         | Train_count:        62 | Steps:     32205 | Elapsed time: 42 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         3.323308	mean_explore_ms:        888.726256	mean_inference_ms:        3.347135	mean_loop_time_ms:      388.568282
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:      1.34443	mean_restore_model_ms:   19.128474	mean_train_time_ms:      32.958853	mean_wait_model_ms:     1679.089633
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    343.812335	step_per_second:             755.0	train_loss:              38.689323	train_reward_avg:            1.275
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:34: 
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m  XT start work...
[2m[36m(train_xt pid=45341)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_169452506588619.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m /tmp/plasma57436:   
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:35: init learner with:
[2m[36m(train_xt pid=45341)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45341)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45341)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45341)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45341)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45341)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45341)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=45341)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45341)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45341)[0m                           'save_model': True,
[2m[36m(train_xt pid=45341)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45341)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45341)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                                    'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                                 84,
[2m[36m(train_xt pid=45341)[0m                                                 4],
[2m[36m(train_xt pid=45341)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45341)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45341)[0m              'id': 'ImpalaCnnOpt_now_time_169452506588619',
[2m[36m(train_xt pid=45341)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45341)[0m 'env_num': 2,
[2m[36m(train_xt pid=45341)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45341)[0m                         'size': 3,
[2m[36m(train_xt pid=45341)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45341)[0m                         'vision': False,
[2m[36m(train_xt pid=45341)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45341)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45341)[0m             'now_time': '169452506588619'},
[2m[36m(train_xt pid=45341)[0m 'gpu': -1,
[2m[36m(train_xt pid=45341)[0m 'group_num': 1,
[2m[36m(train_xt pid=45341)[0m 'lock': 1,
[2m[36m(train_xt pid=45341)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                        'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                     84,
[2m[36m(train_xt pid=45341)[0m                                     4],
[2m[36m(train_xt pid=45341)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45341)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45341)[0m                'dummy_user',
[2m[36m(train_xt pid=45341)[0m                'dummy_password')],
[2m[36m(train_xt pid=45341)[0m 'speedup': 3,
[2m[36m(train_xt pid=45341)[0m 'start_core': 10}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:35: Init Broker server info:
[2m[36m(train_xt pid=45341)[0m {'recv': {'port': 28001,
[2m[36m(train_xt pid=45341)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45341)[0m 'send': [{'port': 29481,
[2m[36m(train_xt pid=45341)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:35: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 28001, 29481, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:35: launch local broker with lib success
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:35: **********
[2m[36m(train_xt pid=45341)[0m workspace:
[2m[36m(train_xt pid=45341)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_169452506588619
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:35: broker status timeout!
[2m[36m(train_xt pid=45404)[0m /tmp/plasma58674:   
[2m[36m(train_xt pid=46430)[0m /tmp/plasma60121:   
[2m[36m(train_xt pid=45298)[0m /tmp/plasma_share57980:
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:36: broker status timeout!
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:36: broker status timeout!
[2m[36m(train_xt pid=45404)[0m /tmp/plasma_share59332:
[2m[36m(train_xt pid=46430)[0m /tmp/plasma_share61023:
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:37: Finished train job normally.
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m [I 2023-09-12 21:24:37,956] Trial 9 finished with value: 333.889816360601 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 2}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45298)[0m /tmp/plasma57980T0: 
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:38: Finished train job normally.
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:38: Finished train job normally.
[2m[36m(train_xt pid=45404)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m [I 2023-09-12 21:24:38,835] Trial 10 finished with value: 447.28434504792335 and parameters: {'env_pool_size': 2, 'env_pool_wait_nums': 2, 'infer_size': 5}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=46430)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m [I 2023-09-12 21:24:38,900] Trial 11 finished with value: 370.8609271523179 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 3}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45298)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45298)[0m [W 2023-09-12 21:24:39,053] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45404)[0m /tmp/plasma59332T0: 
[2m[36m(train_xt pid=46430)[0m /tmp/plasma61023T0: 
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=45404)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=45404)[0m [W 2023-09-12 21:24:39,921] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=46430)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=46430)[0m [W 2023-09-12 21:24:39,984] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:40: set verbosity in broker: info
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:40: init broker with id-0
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:40: share buf: plasma_store -m 400000000 -s /tmp/plasma_share63680
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:41: init explorer with id: 0, buf_path: /tmp/plasma_share63680
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:41: init agent group for: explore
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:43: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:44: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:44: init explorer with id: 1, buf_path: /tmp/plasma_share63680
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:45: 
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m  XT start work...
[2m[36m(train_xt pid=45298)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250790141706.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:46: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:46: 
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45404)[0m  XT start work...
[2m[36m(train_xt pid=45404)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250798876383.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:46: init learner with:
[2m[36m(train_xt pid=45298)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45298)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45298)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45298)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45298)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45298)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45298)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=45298)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45298)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45298)[0m                           'save_model': True,
[2m[36m(train_xt pid=45298)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45298)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45298)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                                    'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                                 84,
[2m[36m(train_xt pid=45298)[0m                                                 4],
[2m[36m(train_xt pid=45298)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45298)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45298)[0m              'id': 'ImpalaCnnOpt_now_time_16945250790141706',
[2m[36m(train_xt pid=45298)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45298)[0m 'env_num': 5,
[2m[36m(train_xt pid=45298)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45298)[0m                         'size': 3,
[2m[36m(train_xt pid=45298)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45298)[0m                         'vision': False,
[2m[36m(train_xt pid=45298)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45298)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45298)[0m             'now_time': '16945250790141706'},
[2m[36m(train_xt pid=45298)[0m 'gpu': -1,
[2m[36m(train_xt pid=45298)[0m 'group_num': 1,
[2m[36m(train_xt pid=45298)[0m 'lock': 1,
[2m[36m(train_xt pid=45298)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                        'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                     84,
[2m[36m(train_xt pid=45298)[0m                                     4],
[2m[36m(train_xt pid=45298)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45298)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45298)[0m                'dummy_user',
[2m[36m(train_xt pid=45298)[0m                'dummy_password')],
[2m[36m(train_xt pid=45298)[0m 'speedup': 3,
[2m[36m(train_xt pid=45298)[0m 'start_core': 0}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:46: Init Broker server info:
[2m[36m(train_xt pid=45298)[0m {'recv': {'port': 27002,
[2m[36m(train_xt pid=45298)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45298)[0m 'send': [{'port': 28404,
[2m[36m(train_xt pid=45298)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:46: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 27002, 28404, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:46: launch local broker with lib success
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:46: 
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m  XT start work...
[2m[36m(train_xt pid=46430)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250799517162.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:46: **********
[2m[36m(train_xt pid=45298)[0m workspace:
[2m[36m(train_xt pid=45298)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945250790141706
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: init learner with:
[2m[36m(train_xt pid=45404)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=45404)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45404)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45404)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45404)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45404)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45404)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=45404)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45404)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45404)[0m                           'save_model': True,
[2m[36m(train_xt pid=45404)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45404)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45404)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                                    'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                                 84,
[2m[36m(train_xt pid=45404)[0m                                                 4],
[2m[36m(train_xt pid=45404)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45404)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45404)[0m              'id': 'ImpalaCnnOpt_now_time_16945250798876383',
[2m[36m(train_xt pid=45404)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45404)[0m 'env_num': 5,
[2m[36m(train_xt pid=45404)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45404)[0m                         'size': 5,
[2m[36m(train_xt pid=45404)[0m                         'vector_env_size': 5,
[2m[36m(train_xt pid=45404)[0m                         'vision': False,
[2m[36m(train_xt pid=45404)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=45404)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45404)[0m             'now_time': '16945250798876383'},
[2m[36m(train_xt pid=45404)[0m 'gpu': -1,
[2m[36m(train_xt pid=45404)[0m 'group_num': 1,
[2m[36m(train_xt pid=45404)[0m 'lock': 1,
[2m[36m(train_xt pid=45404)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                        'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                     84,
[2m[36m(train_xt pid=45404)[0m                                     4],
[2m[36m(train_xt pid=45404)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45404)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45404)[0m                'dummy_user',
[2m[36m(train_xt pid=45404)[0m                'dummy_password')],
[2m[36m(train_xt pid=45404)[0m 'speedup': 3,
[2m[36m(train_xt pid=45404)[0m 'start_core': 20}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: Init Broker server info:
[2m[36m(train_xt pid=45404)[0m {'recv': {'port': 32667,
[2m[36m(train_xt pid=45404)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45404)[0m 'send': [{'port': 23502,
[2m[36m(train_xt pid=45404)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 32667, 23502, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: launch local broker with lib success
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: **********
[2m[36m(train_xt pid=45404)[0m workspace:
[2m[36m(train_xt pid=45404)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945250798876383
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: init learner with:
[2m[36m(train_xt pid=46430)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=46430)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=46430)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=46430)[0m               'agent_num': 1},
[2m[36m(train_xt pid=46430)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=46430)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=46430)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=46430)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=46430)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=46430)[0m                           'save_model': True,
[2m[36m(train_xt pid=46430)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=46430)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=46430)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                                    'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                                 84,
[2m[36m(train_xt pid=46430)[0m                                                 4],
[2m[36m(train_xt pid=46430)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=46430)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=46430)[0m              'id': 'ImpalaCnnOpt_now_time_16945250799517162',
[2m[36m(train_xt pid=46430)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=46430)[0m 'env_num': 3,
[2m[36m(train_xt pid=46430)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=46430)[0m                         'size': 3,
[2m[36m(train_xt pid=46430)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=46430)[0m                         'vision': False,
[2m[36m(train_xt pid=46430)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=46430)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=46430)[0m             'now_time': '16945250799517162'},
[2m[36m(train_xt pid=46430)[0m 'gpu': -1,
[2m[36m(train_xt pid=46430)[0m 'group_num': 1,
[2m[36m(train_xt pid=46430)[0m 'lock': 1,
[2m[36m(train_xt pid=46430)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                        'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                     84,
[2m[36m(train_xt pid=46430)[0m                                     4],
[2m[36m(train_xt pid=46430)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=46430)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=46430)[0m                'dummy_user',
[2m[36m(train_xt pid=46430)[0m                'dummy_password')],
[2m[36m(train_xt pid=46430)[0m 'speedup': 3,
[2m[36m(train_xt pid=46430)[0m 'start_core': 30}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: Init Broker server info:
[2m[36m(train_xt pid=46430)[0m {'recv': {'port': 30006,
[2m[36m(train_xt pid=46430)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=46430)[0m 'send': [{'port': 39739,
[2m[36m(train_xt pid=46430)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 30006, 39739, '127.0.0.1', 'info')
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: launch local broker with lib success
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:47: **********
[2m[36m(train_xt pid=46430)[0m workspace:
[2m[36m(train_xt pid=46430)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945250799517162
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:50: Task: T0         | Train_count:         0 | Steps:       253 | Elapsed time: 13 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.424055	mean_explore_ms:        706.228375	mean_inference_ms:        2.722386	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.164436	mean_restore_model_ms:   45.874953	mean_train_time_ms:            nan	mean_wait_model_ms:     2951.677799
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    10980.829716	step_per_second:              19.0	train_loss:             243.399185	train_reward_avg:              0.0
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:52: set verbosity in broker: info
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:52: init broker with id-0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:52: share buf: plasma_store -m 400000000 -s /tmp/plasma_share64925
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:52: init explorer with id: 0, buf_path: /tmp/plasma_share64925
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:52: init agent group for: explore
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:52: set verbosity in broker: info
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:52: init broker with id-0
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:52: share buf: plasma_store -m 400000000 -s /tmp/plasma_share65391
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:53: init explorer with id: 0, buf_path: /tmp/plasma_share65391
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:53: init agent group for: explore
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:53: set verbosity in broker: info
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:53: init broker with id-0
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:53: share buf: plasma_store -m 400000000 -s /tmp/plasma_share65751
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:53: init explorer with id: 0, buf_path: /tmp/plasma_share65751
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:53: init agent group for: explore
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:54: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:54: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:55: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:55: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:55: init explorer with id: 1, buf_path: /tmp/plasma_share64925
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:56: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:56: init explorer with id: 1, buf_path: /tmp/plasma_share65391
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:56: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:56: init explorer with id: 1, buf_path: /tmp/plasma_share65751
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:57: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:57: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:58: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:59: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:59: init explorer with id: 2, buf_path: /tmp/plasma_share64925
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:59: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:59: init explorer with id: 2, buf_path: /tmp/plasma_share65391
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:59: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:24:59: init explorer with id: 2, buf_path: /tmp/plasma_share65751
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:00: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:01: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:01: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:02: speedup(3): binding env 2 to CPU 2
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:02: init explorer with id: 3, buf_path: /tmp/plasma_share64925
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:02: speedup(3): binding env 2 to CPU 22
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:02: init explorer with id: 3, buf_path: /tmp/plasma_share65391
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:02: Task: T0         | Train_count:        26 | Steps:     10302 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.579149	mean_explore_ms:        691.838861	mean_inference_ms:        2.579151	mean_loop_time_ms:      468.415082
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.185429	mean_restore_model_ms:   24.885237	mean_train_time_ms:      22.443187	mean_wait_model_ms:     1608.206391
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    437.842584	step_per_second:             410.0	train_loss:              58.375957	train_reward_avg:         1.111111
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:02: speedup(3): binding env 2 to CPU 32
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:04: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:04: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:05: speedup(3): binding env 3 to CPU 3
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:05: init explorer with id: 4, buf_path: /tmp/plasma_share64925
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:05: speedup(3): binding env 3 to CPU 23
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:05: init explorer with id: 4, buf_path: /tmp/plasma_share65391
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:06: Task: T0         | Train_count:         2 | Steps:      1149 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         2.726264	mean_explore_ms:        784.536521	mean_inference_ms:          3.0148	mean_loop_time_ms:       56.664348
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.203458	mean_restore_model_ms:   61.796029	mean_train_time_ms:     651.890119	mean_wait_model_ms:     4527.732054
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    4657.088916	step_per_second:              71.0	train_loss:               4.365427	train_reward_avg:              0.0
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:07: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:07: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:08: speedup(3): binding env 4 to CPU 4
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:08: speedup(3): binding env 4 to CPU 24
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:12: Task: T0         | Train_count:         0 | Steps:       253 | Elapsed time: 22 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         5.580492	mean_explore_ms:        1187.282991	mean_inference_ms:        3.271817	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.970768	mean_restore_model_ms:   48.389006	mean_train_time_ms:            nan	mean_wait_model_ms:     7679.000807
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    20335.617304	step_per_second:              11.0	train_loss:              39.646973	train_reward_avg:              0.0
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:13: Task: T0         | Train_count:         6 | Steps:      3562 | Elapsed time: 23 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         3.806816	mean_explore_ms:        1042.495966	mean_inference_ms:        3.753883	mean_loop_time_ms:      239.021301
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.336234	mean_restore_model_ms:   59.752464	mean_train_time_ms:     338.004555	mean_wait_model_ms:     7600.103712
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    3042.862586	step_per_second:             149.0	train_loss:               -1.39489	train_reward_avg:         2.142857
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:16: Task: T0         | Train_count:        54 | Steps:     20999 | Elapsed time: 38 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.670589	mean_explore_ms:        694.298714	mean_inference_ms:        2.567563	mean_loop_time_ms:      502.888596
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.252139	mean_restore_model_ms:   14.452904	mean_train_time_ms:      24.192119	mean_wait_model_ms:      950.85451
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    470.052636	step_per_second:             540.0	train_loss:               68.44857	train_reward_avg:         1.142857
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:16: Task: T0         | Train_count:        30 | Steps:     11830 | Elapsed time: 26 seconds
[2m[36m(train_xt pid=45298)[0m  57982
[2m[36m(train_xt pid=45341)[0m start_core ======================================== 10
[2m[36m(train_xt pid=45341)[0m plasma_store -m 1000000000 -s /tmp/plasma63623
[2m[36m(train_xt pid=45341)[0m self.time_record_filename ============= /tmp/169452506588619
[2m[36m(train_xt pid=45404)[0m  59334
[2m[36m(train_xt pid=46430)[0m  61025
[2m[36m(train_xt pid=45298)[0m  58778
[2m[36m(train_xt pid=45404)[0m  60705
[2m[36m(train_xt pid=46430)[0m  62105
[2m[36m(train_xt pid=45298)[0m good
[2m[36m(train_xt pid=45298)[0m log filename ================== /tmp/16945249968941677
[2m[36m(train_xt pid=45298)[0m step_per_second ============ 599.0
[2m[36m(train_xt pid=45298)[0m tune_cost =================== True
[2m[36m(train_xt pid=45298)[0m  58952
[2m[36m(train_xt pid=45404)[0m good
[2m[36m(train_xt pid=45404)[0m log filename ================== /tmp/16945250065582125
[2m[36m(train_xt pid=45404)[0m step_per_second ============ 626.0
[2m[36m(train_xt pid=45404)[0m tune_cost =================== True
[2m[36m(train_xt pid=46430)[0m good
[2m[36m(train_xt pid=46430)[0m log filename ================== /tmp/16945250145502071
[2m[36m(train_xt pid=46430)[0m step_per_second ============ 755.0
[2m[36m(train_xt pid=46430)[0m tune_cost =================== True
[2m[36m(train_xt pid=45404)[0m  60713
[2m[36m(train_xt pid=46430)[0m  62114
== Status ==
Current time: 2023-09-12 21:24:39 (running for 00:03:53.57)
Memory usage on this node: 22.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45298)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=45298)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=45298)[0m get max throughput start_core============================= 0
[2m[36m(train_xt pid=45298)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250790141706.yaml
[2m[36m(train_xt pid=45298)[0m run_log ======================== /tmp/test_opt_bys16945250790141706.log
[2m[36m(train_xt pid=45404)[0m =======================env_pool_size======================5
[2m[36m(train_xt pid=45404)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=45404)[0m get max throughput start_core============================= 20
[2m[36m(train_xt pid=45404)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250798876383.yaml
[2m[36m(train_xt pid=45404)[0m run_log ======================== /tmp/test_opt_bys16945250798876383.log
[2m[36m(train_xt pid=46430)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=46430)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=46430)[0m get max throughput start_core============================= 30
[2m[36m(train_xt pid=46430)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945250799517162.yaml
[2m[36m(train_xt pid=46430)[0m run_log ======================== /tmp/test_opt_bys16945250799517162.log
[2m[36m(train_xt pid=45341)[0m plasma_store -m 100000000 -s /tmp/plasma63680T0
== Status ==
Current time: 2023-09-12 21:24:44 (running for 00:03:58.57)
Memory usage on this node: 23.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45298)[0m start_core ======================================== 0
[2m[36m(train_xt pid=45298)[0m plasma_store -m 1000000000 -s /tmp/plasma64289
[2m[36m(train_xt pid=45298)[0m self.time_record_filename ============= /tmp/16945250790141706
[2m[36m(train_xt pid=45404)[0m start_core ======================================== 20
[2m[36m(train_xt pid=45404)[0m plasma_store -m 1000000000 -s /tmp/plasma64306
[2m[36m(train_xt pid=45404)[0m self.time_record_filename ============= /tmp/16945250798876383
[2m[36m(train_xt pid=46430)[0m start_core ======================================== 30
[2m[36m(train_xt pid=46430)[0m plasma_store -m 1000000000 -s /tmp/plasma64309
[2m[36m(train_xt pid=46430)[0m self.time_record_filename ============= /tmp/16945250799517162
== Status ==
Current time: 2023-09-12 21:24:49 (running for 00:04:03.58)
Memory usage on this node: 26.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45298)[0m plasma_store -m 100000000 -s /tmp/plasma64925T0
[2m[36m(train_xt pid=45404)[0m plasma_store -m 100000000 -s /tmp/plasma65391T0
[2m[36m(train_xt pid=46430)[0m plasma_store -m 100000000 -s /tmp/plasma65751T0
== Status ==
Current time: 2023-09-12 21:24:54 (running for 00:04:08.58)
Memory usage on this node: 27.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:24:59 (running for 00:04:13.59)
Memory usage on this node: 27.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:25:04 (running for 00:04:18.59)
Memory usage on this node: 28.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:25:09 (running for 00:04:23.60)
Memory usage on this node: 30.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:25:14 (running for 00:04:28.60)
Memory usage on this node: 31.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:25:19 (running for 00:04:33.61)
Memory usage on this node: 32.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:25:24 (running for 00:04:38.61)
Memory usage on this node: 32.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:25:29 (running for 00:04:43.62)
Memory usage on this node: 32.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         2.824101	mean_explore_ms:        760.399818	mean_inference_ms:        2.865595	mean_loop_time_ms:      383.252382
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:      1.30676	mean_restore_model_ms:   29.652255	mean_train_time_ms:      27.020216	mean_wait_model_ms:     2359.80807
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    347.111762	step_per_second:             442.0	train_loss:              -4.907527	train_reward_avg:         0.944444
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:18: Task: T0         | Train_count:        26 | Steps:     10359 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         5.078388	mean_explore_ms:        1096.57377	mean_inference_ms:        3.167042	mean_loop_time_ms:      263.935483
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.210415	mean_restore_model_ms:   31.743467	mean_train_time_ms:      24.978244	mean_wait_model_ms:     5163.540095
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    230.163336	step_per_second:             355.0	train_loss:              -22.76903	train_reward_avg:         0.571429
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:19: Task: T0         | Train_count:        26 | Steps:     13750 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:          3.61283	mean_explore_ms:        989.298731	mean_inference_ms:         3.66334	mean_loop_time_ms:      277.722228
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.729572	mean_restore_model_ms:   39.472997	mean_train_time_ms:      33.501267	mean_wait_model_ms:     5187.398791
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:     234.06707	step_per_second:             467.0	train_loss:              37.467644	train_reward_avg:         1.166667
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:24: Task: T0         | Train_count:        46 | Steps:     23900 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         3.383497	mean_explore_ms:        937.483251	mean_inference_ms:        3.565976	mean_loop_time_ms:      261.405027
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.447821	mean_restore_model_ms:   28.577387	mean_train_time_ms:      33.411396	mean_wait_model_ms:     3620.870769
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    219.054842	step_per_second:             690.0	train_loss:             -62.343582	train_reward_avg:         1.214286
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:25: Task: T0         | Train_count:        53 | Steps:     20650 | Elapsed time: 36 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         4.810618	mean_explore_ms:        1043.296777	mean_inference_ms:        3.085923	mean_loop_time_ms:      270.375991
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.386786	mean_restore_model_ms:   21.380736	mean_train_time_ms:      27.778244	mean_wait_model_ms:     3324.384047
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    231.781292	step_per_second:             573.0	train_loss:              21.593912	train_reward_avg:         1.055556
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:27: Task: T0         | Train_count:        58 | Steps:     22514 | Elapsed time: 37 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         2.931224	mean_explore_ms:        778.652787	mean_inference_ms:        2.929307	mean_loop_time_ms:       416.45385
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.283431	mean_restore_model_ms:   23.875737	mean_train_time_ms:      28.505909	mean_wait_model_ms:     1754.719853
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    378.014171	step_per_second:             598.0	train_loss:             -57.939461	train_reward_avg:         1.259259
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:30: Task: T0         | Train_count:        66 | Steps:     34163 | Elapsed time: 39 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         3.370331	mean_explore_ms:        932.286446	mean_inference_ms:        3.550199	mean_loop_time_ms:      261.097074
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.991022	mean_restore_model_ms:   26.741193	mean_train_time_ms:      32.353914	mean_wait_model_ms:     3375.447805
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    219.066107	step_per_second:             857.0	train_loss:             -155.343079	train_reward_avg:           1.1375
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:31: Task: T0         | Train_count:        80 | Steps:     31029 | Elapsed time: 53 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         2.731122	mean_explore_ms:         703.52749	mean_inference_ms:        2.595779	mean_loop_time_ms:      552.215791
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.190281	mean_restore_model_ms:    11.02521	mean_train_time_ms:      25.294018	mean_wait_model_ms:     762.674809
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    517.558694	step_per_second:             583.0	train_loss:               0.480254	train_reward_avg:         1.121212
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:34: Task: T0         | Train_count:        80 | Steps:     31040 | Elapsed time: 44 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         4.763753	mean_explore_ms:        1037.905497	mean_inference_ms:        3.115752	mean_loop_time_ms:      280.225706
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:      1.24048	mean_restore_model_ms:   17.454442	mean_train_time_ms:      27.865624	mean_wait_model_ms:     2633.794756
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    243.500447	step_per_second:             703.0	train_loss:             -76.518639	train_reward_avg:         1.291667
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m /tmp/plasma64306:   
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:34: broker status timeout!
[2m[36m(train_xt pid=45404)[0m /tmp/plasma_share65391:
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:36: Finished train job normally.
[2m[36m(train_xt pid=45404)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m [I 2023-09-12 21:25:37,083] Trial 14 finished with value: 466.74445740956827 and parameters: {'env_pool_size': 5, 'env_pool_wait_nums': 4, 'infer_size': 5}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45404)[0m /tmp/plasma65391T0: 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:38: Task: T0         | Train_count:        86 | Steps:     33357 | Elapsed time: 47 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         2.965718	mean_explore_ms:        780.713367	mean_inference_ms:        2.935617	mean_loop_time_ms:      355.330694
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.373482	mean_restore_model_ms:   18.183804	mean_train_time_ms:      29.283321	mean_wait_model_ms:     1278.786929
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    315.869296	step_per_second:             696.0	train_loss:             -103.213066	train_reward_avg:         1.428571
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m /tmp/plasma64289:   
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:40: broker status timeout!
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m /tmp/plasma_share64925:
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:42: Finished train job normally.
[2m[36m(train_xt pid=45298)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m [I 2023-09-12 21:25:43,199] Trial 13 finished with value: 455.19203413940255 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 5}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45298)[0m /tmp/plasma64925T0: 
[2m[36m(train_xt pid=45341)[0m /tmp/plasma63623:   
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:44: broker status timeout!
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:44: 
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45404)[0m  XT start work...
[2m[36m(train_xt pid=45404)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_LR_0.004606361_now_time_16945248664836185.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45404)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m /tmp/plasma_share63680:
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:45: init learner with:
[2m[36m(train_xt pid=45404)[0m {'agent_para': {'agent_config': {'complete_step': 500000,
[2m[36m(train_xt pid=45404)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45404)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45404)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45404)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45404)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45404)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                           'instance_num': 7,
[2m[36m(train_xt pid=45404)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45404)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45404)[0m                           'save_model': True,
[2m[36m(train_xt pid=45404)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45404)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45404)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                                    'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                                 84,
[2m[36m(train_xt pid=45404)[0m                                                 4],
[2m[36m(train_xt pid=45404)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45404)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45404)[0m              'id': 'ImpalaCnnOpt_LR_0.004606361_now_time_16945248664836185',
[2m[36m(train_xt pid=45404)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45404)[0m 'env_num': 7,
[2m[36m(train_xt pid=45404)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45404)[0m                         'size': 3,
[2m[36m(train_xt pid=45404)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45404)[0m                         'vision': False,
[2m[36m(train_xt pid=45404)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45404)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45404)[0m             'now_time': '16945248664836185'},
[2m[36m(train_xt pid=45404)[0m 'gpu': -1,
[2m[36m(train_xt pid=45404)[0m 'group_num': 1,
[2m[36m(train_xt pid=45404)[0m 'lock': 1,
[2m[36m(train_xt pid=45404)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45404)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45404)[0m                        'model_config': {'LR': 0.004606361,
[2m[36m(train_xt pid=45404)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45404)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45404)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45404)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45404)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45404)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45404)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45404)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45404)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45404)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45404)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45404)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45404)[0m                                     84,
[2m[36m(train_xt pid=45404)[0m                                     4],
[2m[36m(train_xt pid=45404)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45404)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45404)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45404)[0m                'dummy_user',
[2m[36m(train_xt pid=45404)[0m                'dummy_password')],
[2m[36m(train_xt pid=45404)[0m 'speedup': 3,
[2m[36m(train_xt pid=45404)[0m 'start_core': 20}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:45: Init Broker server info:
[2m[36m(train_xt pid=45404)[0m {'recv': {'port': 36898,
[2m[36m(train_xt pid=45404)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45404)[0m 'send': [{'port': 27738,
[2m[36m(train_xt pid=45404)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:45: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 36898, 27738, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:45: launch local broker with lib success
[2m[36m(train_xt pid=46430)[0m /tmp/plasma64309:   
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:45: **********
[2m[36m(train_xt pid=45404)[0m workspace:
[2m[36m(train_xt pid=45404)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_LR_0.004606361_now_time_16945248664836185
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:46: broker status timeout!
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:46: Finished train job normally.
[2m[36m(train_xt pid=45341)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=46430)[0m /tmp/plasma_share65751:
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m [I 2023-09-12 21:25:46,820] Trial 12 finished with value: 343.05317324185245 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 2}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m /tmp/plasma63680T0: 
[2m[36m(train_xt pid=45404)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45404)[0m Instructions for updating:
[2m[36m(train_xt pid=45404)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:48: Finished train job normally.
[2m[36m(train_xt pid=46430)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m [I 2023-09-12 21:25:48,473] Trial 15 finished with value: 344.8275862068965 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 3}. Best is trial 4 with value: 332.87101248266293.
[2m[36m(train_xt pid=46430)[0m /tmp/plasma65751T0: 
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:50: 
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45298)[0m  XT start work...
[2m[36m(train_xt pid=45298)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_LR_0.000377734_now_time_16945248535896728.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45298)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:50: init learner with:
[2m[36m(train_xt pid=45298)[0m {'agent_para': {'agent_config': {'complete_step': 500000,
[2m[36m(train_xt pid=45298)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45298)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45298)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45298)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45298)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45298)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                           'instance_num': 7,
[2m[36m(train_xt pid=45298)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45298)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45298)[0m                           'save_model': True,
[2m[36m(train_xt pid=45298)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45298)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45298)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                                    'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                                 84,
[2m[36m(train_xt pid=45298)[0m                                                 4],
[2m[36m(train_xt pid=45298)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45298)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45298)[0m              'id': 'ImpalaCnnOpt_LR_0.000377734_now_time_16945248535896728',
[2m[36m(train_xt pid=45298)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45298)[0m 'env_num': 7,
[2m[36m(train_xt pid=45298)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45298)[0m                         'size': 3,
[2m[36m(train_xt pid=45298)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45298)[0m                         'vision': False,
[2m[36m(train_xt pid=45298)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45298)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45298)[0m             'now_time': '16945248535896728'},
[2m[36m(train_xt pid=45298)[0m 'gpu': -1,
[2m[36m(train_xt pid=45298)[0m 'group_num': 1,
[2m[36m(train_xt pid=45298)[0m 'lock': 1,
[2m[36m(train_xt pid=45298)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45298)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45298)[0m                        'model_config': {'LR': 0.000377734,
[2m[36m(train_xt pid=45298)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45298)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45298)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45298)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45298)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45298)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45298)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45298)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45298)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45298)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45298)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45298)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45298)[0m                                     84,
[2m[36m(train_xt pid=45298)[0m                                     4],
[2m[36m(train_xt pid=45298)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45298)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45298)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45298)[0m                'dummy_user',
[2m[36m(train_xt pid=45298)[0m                'dummy_password')],
[2m[36m(train_xt pid=45298)[0m 'speedup': 3,
[2m[36m(train_xt pid=45298)[0m 'start_core': 0}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:50: Init Broker server info:
[2m[36m(train_xt pid=45298)[0m {'recv': {'port': 26628,
[2m[36m(train_xt pid=45298)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45298)[0m 'send': [{'port': 30679,
[2m[36m(train_xt pid=45298)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:50: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 26628, 30679, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:50: launch local broker with lib success
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:51: **********
[2m[36m(train_xt pid=45298)[0m workspace:
[2m[36m(train_xt pid=45298)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_LR_0.000377734_now_time_16945248535896728
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:51: set verbosity in broker: info
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:51: init broker with id-0
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:51: share buf: plasma_store -m 400000000 -s /tmp/plasma_share70428
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:51: init explorer with id: 0, buf_path: /tmp/plasma_share70428
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:51: init agent group for: explore
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:53: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45298)[0m Instructions for updating:
[2m[36m(train_xt pid=45298)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:53: 
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m  XT start work...
[2m[36m(train_xt pid=45341)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_LR_0.001388581_now_time_16945248600234709.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=45341)[0m **************************************************
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:54: init learner with:
[2m[36m(train_xt pid=45341)[0m {'agent_para': {'agent_config': {'complete_step': 500000,
[2m[36m(train_xt pid=45341)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=45341)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=45341)[0m               'agent_num': 1},
[2m[36m(train_xt pid=45341)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=45341)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=45341)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                           'instance_num': 7,
[2m[36m(train_xt pid=45341)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=45341)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=45341)[0m                           'save_model': True,
[2m[36m(train_xt pid=45341)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=45341)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=45341)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                                    'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                                 84,
[2m[36m(train_xt pid=45341)[0m                                                 4],
[2m[36m(train_xt pid=45341)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=45341)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=45341)[0m              'id': 'ImpalaCnnOpt_LR_0.001388581_now_time_16945248600234709',
[2m[36m(train_xt pid=45341)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=45341)[0m 'env_num': 7,
[2m[36m(train_xt pid=45341)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=45341)[0m                         'size': 3,
[2m[36m(train_xt pid=45341)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=45341)[0m                         'vision': False,
[2m[36m(train_xt pid=45341)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=45341)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=45341)[0m             'now_time': '16945248600234709'},
[2m[36m(train_xt pid=45341)[0m 'gpu': -1,
[2m[36m(train_xt pid=45341)[0m 'group_num': 1,
[2m[36m(train_xt pid=45341)[0m 'lock': 1,
[2m[36m(train_xt pid=45341)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=45341)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=45341)[0m                        'model_config': {'LR': 0.001388581,
[2m[36m(train_xt pid=45341)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=45341)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=45341)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=45341)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=45341)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=45341)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=45341)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=45341)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=45341)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=45341)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=45341)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=45341)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=45341)[0m                                     84,
[2m[36m(train_xt pid=45341)[0m                                     4],
[2m[36m(train_xt pid=45341)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=45341)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=45341)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=45341)[0m                'dummy_user',
[2m[36m(train_xt pid=45341)[0m                'dummy_password')],
[2m[36m(train_xt pid=45341)[0m 'speedup': 3,
[2m[36m(train_xt pid=45341)[0m 'start_core': 10}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:54: Init Broker server info:
[2m[36m(train_xt pid=45341)[0m {'recv': {'port': 28053,
[2m[36m(train_xt pid=45341)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=45341)[0m 'send': [{'port': 33731,
[2m[36m(train_xt pid=45341)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:54: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 28053, 33731, '127.0.0.1', 'info')
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:54: launch local broker with lib success
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:54: **********
[2m[36m(train_xt pid=45341)[0m workspace:
[2m[36m(train_xt pid=45341)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_LR_0.001388581_now_time_16945248600234709
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:54: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:54: init explorer with id: 1, buf_path: /tmp/plasma_share70428
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:55: 
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m  XT start work...
[2m[36m(train_xt pid=46430)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_LR_0.002381453_now_time_16945248746594498.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=46430)[0m **************************************************
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:55: init learner with:
[2m[36m(train_xt pid=46430)[0m {'agent_para': {'agent_config': {'complete_step': 500000,
[2m[36m(train_xt pid=46430)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=46430)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=46430)[0m               'agent_num': 1},
[2m[36m(train_xt pid=46430)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=46430)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=46430)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                           'instance_num': 7,
[2m[36m(train_xt pid=46430)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=46430)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=46430)[0m                           'save_model': True,
[2m[36m(train_xt pid=46430)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=46430)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=46430)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                                    'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                                 84,
[2m[36m(train_xt pid=46430)[0m                                                 4],
[2m[36m(train_xt pid=46430)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=46430)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=46430)[0m              'id': 'ImpalaCnnOpt_LR_0.002381453_now_time_16945248746594498',
[2m[36m(train_xt pid=46430)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=46430)[0m 'env_num': 7,
[2m[36m(train_xt pid=46430)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=46430)[0m                         'size': 3,
[2m[36m(train_xt pid=46430)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=46430)[0m                         'vision': False,
[2m[36m(train_xt pid=46430)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=46430)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=46430)[0m             'now_time': '16945248746594498'},
[2m[36m(train_xt pid=46430)[0m 'gpu': -1,
[2m[36m(train_xt pid=46430)[0m 'group_num': 1,
[2m[36m(train_xt pid=46430)[0m 'lock': 1,
[2m[36m(train_xt pid=46430)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=46430)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=46430)[0m                        'model_config': {'LR': 0.002381453,
[2m[36m(train_xt pid=46430)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=46430)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=46430)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=46430)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=46430)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=46430)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=46430)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=46430)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=46430)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=46430)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=46430)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=46430)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=46430)[0m                                     84,
[2m[36m(train_xt pid=46430)[0m                                     4],
[2m[36m(train_xt pid=46430)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=46430)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=46430)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=46430)[0m                'dummy_user',
[2m[36m(train_xt pid=46430)[0m                'dummy_password')],
[2m[36m(train_xt pid=46430)[0m 'speedup': 3,
[2m[36m(train_xt pid=46430)[0m 'start_core': 30}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:55: Init Broker server info:
[2m[36m(train_xt pid=46430)[0m {'recv': {'port': 21939,
[2m[36m(train_xt pid=46430)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=46430)[0m 'send': [{'port': 25767,
[2m[36m(train_xt pid=46430)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 21939, 25767, '127.0.0.1', 'info')
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: launch local broker with lib success
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: **********
[2m[36m(train_xt pid=46430)[0m workspace:
[2m[36m(train_xt pid=46430)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_LR_0.002381453_now_time_16945248746594498
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: set verbosity in broker: info
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: init broker with id-0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: share buf: plasma_store -m 400000000 -s /tmp/plasma_share71060
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: init explorer with id: 0, buf_path: /tmp/plasma_share71060
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:56: init agent group for: explore
[2m[36m(train_xt pid=45341)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=45341)[0m Instructions for updating:
[2m[36m(train_xt pid=45341)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:57: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:57: init explorer with id: 2, buf_path: /tmp/plasma_share70428
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:58: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=46430)[0m Instructions for updating:
[2m[36m(train_xt pid=46430)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:59: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:59: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=45341)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:59: set verbosity in broker: info
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:59: init broker with id-0
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:59: init explorer with id: 1, buf_path: /tmp/plasma_share71060
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:25:59: share buf: plasma_store -m 400000000 -s /tmp/plasma_share71924
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:00: init explorer with id: 0, buf_path: /tmp/plasma_share71924
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:00: init agent group for: explore
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:00: speedup(3): binding env 2 to CPU 22
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:00: init explorer with id: 3, buf_path: /tmp/plasma_share70428
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:01: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:01: set verbosity in broker: info
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:01: init broker with id-0
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:01: share buf: plasma_store -m 400000000 -s /tmp/plasma_share72729
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:02: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:02: init explorer with id: 0, buf_path: /tmp/plasma_share72729
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:02: init agent group for: explore
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:02: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:03: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:03: init explorer with id: 2, buf_path: /tmp/plasma_share71060
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:03: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:03: init explorer with id: 1, buf_path: /tmp/plasma_share71924
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:03: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:03: speedup(3): binding env 3 to CPU 23
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:04: init explorer with id: 4, buf_path: /tmp/plasma_share70428
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:04: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:05: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:05: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:05: init explorer with id: 1, buf_path: /tmp/plasma_share72729
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:05: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:06: speedup(3): binding env 2 to CPU 2
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:06: init explorer with id: 3, buf_path: /tmp/plasma_share71060
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:06: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:06: init explorer with id: 2, buf_path: /tmp/plasma_share71924
[2m[36m(train_xt pid=45404)[0m  65393
== Status ==
Current time: 2023-09-12 21:25:34 (running for 00:04:48.63)
Memory usage on this node: 32.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45404)[0m  66622
[2m[36m(train_xt pid=45404)[0m good
[2m[36m(train_xt pid=45404)[0m log filename ================== /tmp/16945250798876383
[2m[36m(train_xt pid=45404)[0m step_per_second ============ 857.0
[2m[36m(train_xt pid=45404)[0m tune_cost =================== True
[2m[36m(train_xt pid=45404)[0m study.best_params ===================== {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 3}
[2m[36m(train_xt pid=45404)[0m study.best_value ========================332.87101248266293
[2m[36m(train_xt pid=45404)[0m get best throughput total time ============= 270.33640909194946
[2m[36m(train_xt pid=45404)[0m ray tune xt log  ================= /tmp/test_xt_with_tune16945248664836185.log
[2m[36m(train_xt pid=45404)[0m  66636
== Status ==
Current time: 2023-09-12 21:25:39 (running for 00:04:53.63)
Memory usage on this node: 29.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45298)[0m  64927
[2m[36m(train_xt pid=45298)[0m  66601
[2m[36m(train_xt pid=45298)[0m good
[2m[36m(train_xt pid=45298)[0m log filename ================== /tmp/16945250790141706
[2m[36m(train_xt pid=45298)[0m step_per_second ============ 703.0
[2m[36m(train_xt pid=45298)[0m tune_cost =================== True
[2m[36m(train_xt pid=45298)[0m study.best_params ===================== {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 3}
[2m[36m(train_xt pid=45298)[0m study.best_value ========================332.87101248266293
[2m[36m(train_xt pid=45298)[0m get best throughput total time ============= 289.35113978385925
[2m[36m(train_xt pid=45298)[0m ray tune xt log  ================= /tmp/test_xt_with_tune16945248535896728.log
[2m[36m(train_xt pid=45298)[0m  66609
[2m[36m(train_xt pid=45341)[0m  63687
== Status ==
Current time: 2023-09-12 21:25:44 (running for 00:04:58.64)
Memory usage on this node: 27.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m  64305
[2m[36m(train_xt pid=45404)[0m start_core ======================================== 20
[2m[36m(train_xt pid=46430)[0m  65846
[2m[36m(train_xt pid=45404)[0m plasma_store -m 1000000000 -s /tmp/plasma70334
[2m[36m(train_xt pid=45404)[0m self.time_record_filename ============= /tmp/16945248664836185
[2m[36m(train_xt pid=45341)[0m good
[2m[36m(train_xt pid=45341)[0m log filename ================== /tmp/169452506588619
[2m[36m(train_xt pid=45341)[0m step_per_second ============ 583.0
[2m[36m(train_xt pid=45341)[0m tune_cost =================== True
[2m[36m(train_xt pid=46430)[0m  66661
[2m[36m(train_xt pid=45341)[0m study.best_params ===================== {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 3}
[2m[36m(train_xt pid=45341)[0m study.best_value ========================332.87101248266293
[2m[36m(train_xt pid=45341)[0m get best throughput total time ============= 286.54866909980774
[2m[36m(train_xt pid=45341)[0m ray tune xt log  ================= /tmp/test_xt_with_tune16945248600234709.log
[2m[36m(train_xt pid=45341)[0m  64318
[2m[36m(train_xt pid=46430)[0m good
[2m[36m(train_xt pid=46430)[0m log filename ================== /tmp/16945250799517162
[2m[36m(train_xt pid=46430)[0m step_per_second ============ 696.0
[2m[36m(train_xt pid=46430)[0m tune_cost =================== True
[2m[36m(train_xt pid=46430)[0m study.best_params ===================== {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 3}
[2m[36m(train_xt pid=46430)[0m study.best_value ========================332.87101248266293
[2m[36m(train_xt pid=46430)[0m get best throughput total time ============= 273.55653500556946
[2m[36m(train_xt pid=46430)[0m ray tune xt log  ================= /tmp/test_xt_with_tune16945248746594498.log
[2m[36m(train_xt pid=46430)[0m  66673
== Status ==
Current time: 2023-09-12 21:25:49 (running for 00:05:03.64)
Memory usage on this node: 25.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45298)[0m start_core ======================================== 0
[2m[36m(train_xt pid=45298)[0m plasma_store -m 1000000000 -s /tmp/plasma70395
[2m[36m(train_xt pid=45298)[0m self.time_record_filename ============= /tmp/16945248535896728
[2m[36m(train_xt pid=45404)[0m plasma_store -m 100000000 -s /tmp/plasma70428T0
[2m[36m(train_xt pid=45341)[0m start_core ======================================== 10
[2m[36m(train_xt pid=45341)[0m plasma_store -m 1000000000 -s /tmp/plasma70991
[2m[36m(train_xt pid=45341)[0m self.time_record_filename ============= /tmp/16945248600234709
== Status ==
Current time: 2023-09-12 21:25:54 (running for 00:05:08.64)
Memory usage on this node: 26.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m start_core ======================================== 30
[2m[36m(train_xt pid=46430)[0m plasma_store -m 1000000000 -s /tmp/plasma71021
[2m[36m(train_xt pid=46430)[0m self.time_record_filename ============= /tmp/16945248746594498
[2m[36m(train_xt pid=45298)[0m plasma_store -m 100000000 -s /tmp/plasma71060T0
== Status ==
Current time: 2023-09-12 21:25:59 (running for 00:05:13.65)
Memory usage on this node: 28.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=45341)[0m plasma_store -m 100000000 -s /tmp/plasma71924T0
[2m[36m(train_xt pid=46430)[0m plasma_store -m 100000000 -s /tmp/plasma72729T0
== Status ==
Current time: 2023-09-12 21:26:04 (running for 00:05:18.65)
Memory usage on this node: 29.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:26:09 (running for 00:05:23.66)
Memory usage on this node: 29.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:26:14 (running for 00:05:28.66)
Memory usage on this node: 30.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:26:19 (running for 00:05:33.67)
Memory usage on this node: 31.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:06: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:07: speedup(3): binding env 4 to CPU 24
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:07: init explorer with id: 5, buf_path: /tmp/plasma_share70428
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:07: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:08: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:08: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:08: init explorer with id: 2, buf_path: /tmp/plasma_share72729
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:08: explorer-5 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:09: speedup(3): binding env 3 to CPU 3
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:09: init explorer with id: 4, buf_path: /tmp/plasma_share71060
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:09: speedup(3): binding env 2 to CPU 12
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:09: init explorer with id: 3, buf_path: /tmp/plasma_share71924
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:10: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:10: speedup(3): binding env 5 to CPU 25
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:10: init explorer with id: 6, buf_path: /tmp/plasma_share70428
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:11: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:11: speedup(3): binding env 2 to CPU 32
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:11: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:11: init explorer with id: 3, buf_path: /tmp/plasma_share72729
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:12: explorer-6 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:12: speedup(3): binding env 4 to CPU 4
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:12: init explorer with id: 5, buf_path: /tmp/plasma_share71060
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:12: speedup(3): binding env 3 to CPU 13
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:12: init explorer with id: 4, buf_path: /tmp/plasma_share71924
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:13: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:13: speedup(3): binding env 6 to CPU 26
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:14: explorer-5 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:14: speedup(3): binding env 3 to CPU 33
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:14: init explorer with id: 4, buf_path: /tmp/plasma_share72729
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:14: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:15: speedup(3): binding env 5 to CPU 5
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:15: init explorer with id: 6, buf_path: /tmp/plasma_share71060
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:15: speedup(3): binding env 4 to CPU 14
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:16: init explorer with id: 5, buf_path: /tmp/plasma_share71924
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:16: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.run()
[2m[36m(train_xt pid=45404)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45404)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:17: Task: T0         | Train_count:         2 | Steps:      1149 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:          7.70656	mean_explore_ms:        1422.251769	mean_inference_ms:        3.015473	mean_loop_time_ms:       60.435653
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.101255	mean_restore_model_ms:   53.955793	mean_train_time_ms:     667.790413	mean_wait_model_ms:     10832.399266
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    9040.175358	step_per_second:              39.0	train_loss:              -4.204862	train_reward_avg:              0.0
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:17: explorer-6 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:17: speedup(3): binding env 4 to CPU 34
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:17: explorer-5 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:17: init explorer with id: 5, buf_path: /tmp/plasma_share72729
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:18: speedup(3): binding env 6 to CPU 6
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:19: speedup(3): binding env 5 to CPU 15
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:19: init explorer with id: 6, buf_path: /tmp/plasma_share71924
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:19: explorer-5 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:20: speedup(3): binding env 5 to CPU 35
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:20: init explorer with id: 6, buf_path: /tmp/plasma_share72729
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:21: explorer-6 start with sync interval-1
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:22: speedup(3): binding env 6 to CPU 16
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.run()
[2m[36m(train_xt pid=45298)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45298)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:22: Task: T0         | Train_count:         2 | Steps:      1149 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         7.163803	mean_explore_ms:        1383.83191	mean_inference_ms:        3.248026	mean_loop_time_ms:       60.033321
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.433214	mean_restore_model_ms:   65.555402	mean_train_time_ms:     714.347521	mean_wait_model_ms:     10823.624883
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    9025.247097	step_per_second:              39.0	train_loss:              -6.100757	train_reward_avg:              0.0
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:22: Task: T0         | Train_count:        30 | Steps:     11811 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         7.003584	mean_explore_ms:        1308.445764	mean_inference_ms:        2.907255	mean_loop_time_ms:      196.671152
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.087403	mean_restore_model_ms:   39.162254	mean_train_time_ms:      28.989697	mean_wait_model_ms:     7865.301275
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    159.380627	step_per_second:             340.0	train_loss:              -2.613859	train_reward_avg:         0.444444
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:22: explorer-6 start with sync interval-1
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:23: speedup(3): binding env 6 to CPU 36
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.run()
[2m[36m(train_xt pid=45341)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=45341)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:26: Task: T0         | Train_count:         4 | Steps:      1917 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         7.558066	mean_explore_ms:        1476.722377	mean_inference_ms:        3.536704	mean_loop_time_ms:       42.627037
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     0.992155	mean_restore_model_ms:   58.602435	mean_train_time_ms:     556.074619	mean_wait_model_ms:     10726.511274
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    5410.923386	step_per_second:              63.0	train_loss:             -10.289162	train_reward_avg:              0.0
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:28: Task: T0         | Train_count:        56 | Steps:     21878 | Elapsed time: 40 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         6.591298	mean_explore_ms:        1254.757047	mean_inference_ms:        2.945939	mean_loop_time_ms:      215.790701
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.178324	mean_restore_model_ms:   29.506888	mean_train_time_ms:      33.686018	mean_wait_model_ms:     5719.510828
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    172.730851	step_per_second:             543.0	train_loss:             -33.875473	train_reward_avg:         0.794872
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.run()
[2m[36m(train_xt pid=46430)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=46430)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:28: Task: T0         | Train_count:         1 | Steps:       637 | Elapsed time: 30 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         8.529494	mean_explore_ms:        1627.416951	mean_inference_ms:        3.678487	mean_loop_time_ms:       67.874551
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.238346	mean_restore_model_ms:   69.469827	mean_train_time_ms:     837.850094	mean_wait_model_ms:     10767.720052
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    9119.581461	step_per_second:              21.0	train_loss:               144.0793	train_reward_avg:              0.0
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:29: Task: T0         | Train_count:        30 | Steps:     11850 | Elapsed time: 35 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         6.942003	mean_explore_ms:        1349.360394	mean_inference_ms:        3.271883	mean_loop_time_ms:      240.359545
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.121819	mean_restore_model_ms:   47.749424	mean_train_time_ms:      29.847622	mean_wait_model_ms:     7877.609539
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    200.226176	step_per_second:             330.0	train_loss:              44.325233	train_reward_avg:         0.208333
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:34: Task: T0         | Train_count:        32 | Steps:     12444 | Elapsed time: 37 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         7.158049	mean_explore_ms:        1401.638053	mean_inference_ms:        3.452996	mean_loop_time_ms:      262.303817
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.289415	mean_restore_model_ms:   39.366115	mean_train_time_ms:       29.15144	mean_wait_model_ms:     7205.721357
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:     222.28297	step_per_second:             335.0	train_loss:              -19.02795	train_reward_avg:         0.666667
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:34: Task: T0         | Train_count:        84 | Steps:     32358 | Elapsed time: 46 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         6.269402	mean_explore_ms:        1227.311373	mean_inference_ms:        3.075393	mean_loop_time_ms:      251.930821
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:        1.273	mean_restore_model_ms:   24.131205	mean_train_time_ms:      37.114918	mean_wait_model_ms:     4533.749488
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    203.758681	step_per_second:             689.0	train_loss:               10.68657	train_reward_avg:         1.039216
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:35: Task: T0         | Train_count:        56 | Steps:     21858 | Elapsed time: 42 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         6.672577	mean_explore_ms:        1330.990587	mean_inference_ms:        3.440977	mean_loop_time_ms:      228.084648
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.301682	mean_restore_model_ms:   36.209072	mean_train_time_ms:      35.447073	mean_wait_model_ms:     5739.398956
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:     181.17193	step_per_second:             518.0	train_loss:             -13.623225	train_reward_avg:         0.694444
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:35: Task: T0         | Train_count:        28 | Steps:     10973 | Elapsed time: 37 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         8.245963	mean_explore_ms:        1590.024352	mean_inference_ms:        3.765685	mean_loop_time_ms:      274.171972
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.173377	mean_restore_model_ms:   51.254702	mean_train_time_ms:      37.148798	mean_wait_model_ms:     7893.420792
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    225.994611	step_per_second:             293.0	train_loss:              15.673176	train_reward_avg:         0.583333
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:40: Task: T0         | Train_count:        58 | Steps:     22528 | Elapsed time: 43 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         6.918654	mean_explore_ms:        1369.683584	mean_inference_ms:        3.490716	mean_loop_time_ms:      237.970686
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.248395	mean_restore_model_ms:   31.705936	mean_train_time_ms:       29.46893	mean_wait_model_ms:     5384.693575
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    197.586441	step_per_second:             519.0	train_loss:              15.869162	train_reward_avg:         0.818182
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:40: Task: T0         | Train_count:       110 | Steps:     42525 | Elapsed time: 52 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         6.151548	mean_explore_ms:        1223.642685	mean_inference_ms:        3.173289	mean_loop_time_ms:      217.158961
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.423752	mean_restore_model_ms:   21.569404	mean_train_time_ms:      36.653447	mean_wait_model_ms:     3786.781018
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    169.120741	step_per_second:             805.0	train_loss:             -30.944218	train_reward_avg:         1.142857
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:42: Task: T0         | Train_count:        54 | Steps:     20976 | Elapsed time: 43 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:         7.903381	mean_explore_ms:        1545.313205	mean_inference_ms:         3.82064	mean_loop_time_ms:      282.019389
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.225734	mean_restore_model_ms:    38.52083	mean_train_time_ms:      37.619841	mean_wait_model_ms:     5748.74178
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    233.498681	step_per_second:             480.0	train_loss:               4.557419	train_reward_avg:         1.111111
[2m[36m(train_xt pid=46430)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:42: Task: T0         | Train_count:        84 | Steps:     32339 | Elapsed time: 49 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         6.392931	mean_explore_ms:        1305.124826	mean_inference_ms:        3.543439	mean_loop_time_ms:       259.75982
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:     1.749933	mean_restore_model_ms:   30.074822	mean_train_time_ms:      32.597244	mean_wait_model_ms:     4552.487493
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:    216.347122	step_per_second:             654.0	train_loss:              19.203537	train_reward_avg:           0.8125
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:46: Task: T0         | Train_count:        84 | Steps:     32609 | Elapsed time: 49 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         6.874418	mean_explore_ms:        1361.808512	mean_inference_ms:        3.489638	mean_loop_time_ms:      253.038239
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.265061	mean_restore_model_ms:   27.442495	mean_train_time_ms:      29.260576	mean_wait_model_ms:     4554.700335
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    214.339972	step_per_second:             661.0	train_loss:              -5.057888	train_reward_avg:         0.952381
[2m[36m(train_xt pid=45341)[0m 
[2m[36m(train_xt pid=45404)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:47: Task: T0         | Train_count:       138 | Steps:     53154 | Elapsed time: 59 seconds
[2m[36m(train_xt pid=45404)[0m mean_env_step_ms:         6.132861	mean_explore_ms:        1234.248326	mean_inference_ms:        3.282668	mean_loop_time_ms:      223.668873
[2m[36m(train_xt pid=45404)[0m mean_prepare_data_ms:     1.229131	mean_restore_model_ms:   19.300589	mean_train_time_ms:      37.080979	mean_wait_model_ms:     3272.929274
[2m[36m(train_xt pid=45404)[0m mean_wait_sample_ms:    175.924814	step_per_second:             894.0	train_loss:             -85.265228	train_reward_avg:         1.346667
[2m[36m(train_xt pid=45404)[0m 
[2m[36m(train_xt pid=45298)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:49: Task: T0         | Train_count:       110 | Steps:     42555 | Elapsed time: 55 seconds
[2m[36m(train_xt pid=45298)[0m mean_env_step_ms:         6.380217	mean_explore_ms:        1312.856783	mean_inference_ms:        3.632299	mean_loop_time_ms:      242.975163
[2m[36m(train_xt pid=45298)[0m mean_prepare_data_ms:      1.34567	mean_restore_model_ms:   26.323828	mean_train_time_ms:      34.107459	mean_wait_model_ms:     3800.743818
[2m[36m(train_xt pid=45298)[0m mean_wait_sample_ms:     198.27354	step_per_second:             761.0	train_loss:               45.71909	train_reward_avg:         0.983333
[2m[36m(train_xt pid=45298)[0m 
[2m[36m(train_xt pid=46430)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:49: Task: T0         | Train_count:        81 | Steps:     31384 | Elapsed time: 51 seconds
[2m[36m(train_xt pid=46430)[0m mean_env_step_ms:          7.52724	mean_explore_ms:        1495.663881	mean_inference_ms:        3.842534	mean_loop_time_ms:      273.168433
[2m[36m(train_xt pid=46430)[0m mean_prepare_data_ms:     1.281428	mean_restore_model_ms:   31.897969	mean_train_time_ms:      40.582013	mean_wait_model_ms:     4572.279983
[2m[36m(train_xt pid=46430)[0m mean_wait_sample_ms:    221.976602	step_per_second:             613.0	train_loss:              -9.855707	train_reward_avg:         1.104167
[2m[36m(train_xt pid=46430)[0m 
2023-09-12 21:26:52,999	WARNING tune.py:687 -- Stop signal received (e.g. via SIGINT/Ctrl+C), ending Ray Tune run. This will try to checkpoint the experiment state one last time. Press CTRL+C (or send SIGINT/SIGKILL/SIGTERM) to skip. 
[2m[36m(train_xt pid=45341)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 12 21:26:53: Task: T0         | Train_count:       112 | Steps:     43094 | Elapsed time: 56 seconds
[2m[36m(train_xt pid=45341)[0m mean_env_step_ms:         6.665205	mean_explore_ms:        1339.510235	mean_inference_ms:        3.540841	mean_loop_time_ms:      252.107012
[2m[36m(train_xt pid=45341)[0m mean_prepare_data_ms:     1.268458	mean_restore_model_ms:   23.704355	mean_train_time_ms:      29.747033	mean_wait_model_ms:     3807.854891
[2m[36m(train_xt pid=45341)[0m mean_wait_sample_ms:    211.068988	step_per_second:             768.0	train_loss:              23.363232	train_reward_avg:         1.203704
[2m[36m(train_xt pid=45341)[0m 

== Status ==
Current time: 2023-09-12 21:26:24 (running for 00:05:38.67)
Memory usage on this node: 34.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:26:29 (running for 00:05:43.68)
Memory usage on this node: 35.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:26:34 (running for 00:05:48.68)
Memory usage on this node: 36.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:26:39 (running for 00:05:53.69)
Memory usage on this node: 36.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:26:44 (running for 00:05:58.69)
Memory usage on this node: 36.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-12 21:26:49 (running for 00:06:03.70)
Memory usage on this node: 36.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/161.98 GiB heap, 0.0/73.41 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


Traceback (most recent call last):
  File "test_xt_with_tune.py", line 262, in <module>
    results_grid = tuner.fit()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/tuner.py", line 234, in fit
    return self._local_tuner.fit()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/impl/tuner_internal.py", line 283, in fit
    analysis = self._fit_internal(trainable, param_space)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/impl/tuner_internal.py", line 381, in _fit_internal
    **args,
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/tune.py", line 722, in run
    runner.step()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/execution/trial_runner.py", line 879, in step
    self._wait_and_handle_event(next_trial)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/execution/trial_runner.py", line 823, in _wait_and_handle_event
    self._live_trials, next_trial is not None
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/execution/ray_trial_executor.py", line 953, in get_next_executor_event
    futures_to_wait, num_returns=1, timeout=self._get_next_event_wait
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/_private/client_mode_hook.py", line 105, in wrapper
    return func(*args, **kwargs)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/_private/worker.py", line 2471, in wait
    fetch_local,
  File "python/ray/_raylet.pyx", line 1414, in ray._raylet.CoreWorker.wait
  File "python/ray/_raylet.pyx", line 173, in ray._raylet.check_status
KeyboardInterrupt
Error in atexit._run_exitfuncs:
Traceback (most recent call last):
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/_private/client_mode_hook.py", line 105, in wrapper
    return func(*args, **kwargs)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/_private/worker.py", line 1580, in shutdown
    time.sleep(0.5)
KeyboardInterrupt
