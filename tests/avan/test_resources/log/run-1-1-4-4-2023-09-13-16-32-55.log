WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
2023-09-13 16:33:06,655	INFO worker.py:1515 -- Started a local Ray instance. View the dashboard at [1m[32mhttp://127.0.0.1:8265 [39m[22m
2023-09-13 16:33:08,624	WARNING function_trainable.py:620 -- Function checkpointing is disabled. This may result in unexpected behavior when using checkpointing features or certain schedulers. To enable, set the train function arguments to be `func(config, checkpoint_dir=None)`.
2023-09-13 16:33:08,687	WARNING trial_runner.py:1583 -- You are trying to access _search_alg interface of TrialRunner in TrialScheduler, which is being restricted. If you believe it is reasonable for your scheduler to access this TrialRunner API, please reach out to Ray team on GitHub. A more strict API access pattern would be enforced starting 1.12s.0
[2m[36m(train_xt pid=57533)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py:166: ExperimentalWarning: BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57533)[0m   n_startup_trials=1,
[2m[36m(train_xt pid=57533)[0m 2023-09-13 16:33:16,261	ERROR function_trainable.py:298 -- Runner Thread raised error.
[2m[36m(train_xt pid=57533)[0m Traceback (most recent call last):
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
[2m[36m(train_xt pid=57533)[0m     self._entrypoint()
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
[2m[36m(train_xt pid=57533)[0m     self._status_reporter.get_checkpoint(),
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/util/tracing/tracing_helper.py", line 466, in _resume_span
[2m[36m(train_xt pid=57533)[0m     return method(self, *_args, **_kwargs)
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
[2m[36m(train_xt pid=57533)[0m     output = fn()
[2m[36m(train_xt pid=57533)[0m   File "test_xt_with_tune.py", line 149, in train_xt
[2m[36m(train_xt pid=57533)[0m     best_param = find_max_th(yaml_file_path, n_trials, start_core, with_samper)
[2m[36m(train_xt pid=57533)[0m   File "/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py", line 184, in find_max_th
[2m[36m(train_xt pid=57533)[0m     print("study.best_params ===================== {}".format(study.best_params))
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/study/study.py", line 117, in best_params
[2m[36m(train_xt pid=57533)[0m     return self.best_trial.params
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/study/study.py", line 160, in best_trial
[2m[36m(train_xt pid=57533)[0m     return copy.deepcopy(self._storage.get_best_trial(self._study_id))
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/storages/_cached_storage.py", line 182, in get_best_trial
[2m[36m(train_xt pid=57533)[0m     return self._backend.get_best_trial(study_id)
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/storages/_rdb/storage.py", line 912, in get_best_trial
[2m[36m(train_xt pid=57533)[0m     trial = models.TrialModel.find_min_value_trial(study_id, 0, session)
[2m[36m(train_xt pid=57533)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/storages/_rdb/models.py", line 231, in find_min_value_trial
[2m[36m(train_xt pid=57533)[0m     raise ValueError(NOT_FOUND_MSG)
[2m[36m(train_xt pid=57533)[0m ValueError: Record does not exist.
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py:166: ExperimentalWarning: BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57578)[0m   n_startup_trials=1,
[2m[36m(train_xt pid=57578)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57578)[0m Instructions for updating:
[2m[36m(train_xt pid=57578)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py:166: ExperimentalWarning: BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57623)[0m   n_startup_trials=1,
[2m[36m(train_xt pid=57578)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:29: 
[2m[36m(train_xt pid=57578)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m  XT start work...
[2m[36m(train_xt pid=57578)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940041255631.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57578)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:30: init learner with:
[2m[36m(train_xt pid=57578)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57578)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57578)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57578)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57578)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57578)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57578)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=57578)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57578)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57578)[0m                           'save_model': True,
[2m[36m(train_xt pid=57578)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57578)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57578)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57578)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57578)[0m                                    'model_config': {'LR': 0.004340898,
[2m[36m(train_xt pid=57578)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57578)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57578)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57578)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57578)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57578)[0m                                                 84,
[2m[36m(train_xt pid=57578)[0m                                                 4],
[2m[36m(train_xt pid=57578)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57578)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57578)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57578)[0m              'id': 'ImpalaCnnOpt_now_time_16945940041255631',
[2m[36m(train_xt pid=57578)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57578)[0m 'env_num': 4,
[2m[36m(train_xt pid=57578)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57578)[0m                         'size': 2,
[2m[36m(train_xt pid=57578)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=57578)[0m                         'vision': False,
[2m[36m(train_xt pid=57578)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=57578)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57578)[0m             'now_time': '16945940041255631'},
[2m[36m(train_xt pid=57578)[0m 'gpu': -1,
[2m[36m(train_xt pid=57578)[0m 'group_num': 1,
[2m[36m(train_xt pid=57578)[0m 'lock': 1,
[2m[36m(train_xt pid=57578)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57578)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57578)[0m                        'model_config': {'LR': 0.004340898,
[2m[36m(train_xt pid=57578)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57578)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57578)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57578)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57578)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57578)[0m                                     84,
[2m[36m(train_xt pid=57578)[0m                                     4],
[2m[36m(train_xt pid=57578)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57578)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57578)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57578)[0m                'dummy_user',
[2m[36m(train_xt pid=57578)[0m                'dummy_password')],
[2m[36m(train_xt pid=57578)[0m 'speedup': 3,
[2m[36m(train_xt pid=57578)[0m 'start_core': True}
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:30: Init Broker server info:
[2m[36m(train_xt pid=57578)[0m {'recv': {'port': 23298,
[2m[36m(train_xt pid=57578)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57578)[0m 'send': [{'port': 36993,
[2m[36m(train_xt pid=57578)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:30: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 23298, 36993, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:30: launch local broker with lib success
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:30: **********
[2m[36m(train_xt pid=57578)[0m workspace:
[2m[36m(train_xt pid=57578)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945940041255631
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57578)[0m Instructions for updating:
[2m[36m(train_xt pid=57578)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57623)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57623)[0m Instructions for updating:
[2m[36m(train_xt pid=57623)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:36: set verbosity in broker: info
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:36: init broker with id-0
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:36: share buf: plasma_store -m 400000000 -s /tmp/plasma_share57702
[2m[36m(train_xt pid=57623)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:36: 
[2m[36m(train_xt pid=57623)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m  XT start work...
[2m[36m(train_xt pid=57623)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940106018574.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57623)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.run()
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:36: init explorer with id: 0, buf_path: /tmp/plasma_share57702
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:36: init agent group for: explore
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:37: init learner with:
[2m[36m(train_xt pid=57623)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57623)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57623)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57623)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57623)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57623)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57623)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=57623)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57623)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57623)[0m                           'save_model': True,
[2m[36m(train_xt pid=57623)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57623)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57623)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57623)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57623)[0m                                    'model_config': {'LR': 0.003159321,
[2m[36m(train_xt pid=57623)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57623)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57623)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57623)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57623)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57623)[0m                                                 84,
[2m[36m(train_xt pid=57623)[0m                                                 4],
[2m[36m(train_xt pid=57623)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57623)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57623)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57623)[0m              'id': 'ImpalaCnnOpt_now_time_16945940106018574',
[2m[36m(train_xt pid=57623)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57623)[0m 'env_num': 3,
[2m[36m(train_xt pid=57623)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57623)[0m                         'size': 4,
[2m[36m(train_xt pid=57623)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=57623)[0m                         'vision': False,
[2m[36m(train_xt pid=57623)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=57623)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57623)[0m             'now_time': '16945940106018574'},
[2m[36m(train_xt pid=57623)[0m 'gpu': -1,
[2m[36m(train_xt pid=57623)[0m 'group_num': 1,
[2m[36m(train_xt pid=57623)[0m 'lock': 1,
[2m[36m(train_xt pid=57623)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57623)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57623)[0m                        'model_config': {'LR': 0.003159321,
[2m[36m(train_xt pid=57623)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57623)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57623)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57623)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57623)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57623)[0m                                     84,
[2m[36m(train_xt pid=57623)[0m                                     4],
[2m[36m(train_xt pid=57623)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57623)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57623)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57623)[0m                'dummy_user',
[2m[36m(train_xt pid=57623)[0m                'dummy_password')],
[2m[36m(train_xt pid=57623)[0m 'speedup': 3,
[2m[36m(train_xt pid=57623)[0m 'start_core': True}
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:37: Init Broker server info:
[2m[36m(train_xt pid=57623)[0m {'recv': {'port': 36928,
[2m[36m(train_xt pid=57623)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57623)[0m 'send': [{'port': 36362,
[2m[36m(train_xt pid=57623)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:37: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 36928, 36362, '127.0.0.1', 'info')
2023-09-13 16:33:37,077	ERROR trial_runner.py:987 -- Trial train_xt_2ad5a_00000: Error processing event.
ray.exceptions.RayTaskError(ValueError): [36mray::ImplicitFunc.train()[39m (pid=57533, ip=192.168.1.128, repr=train_xt)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/trainable.py", line 349, in train
    result = self.step()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 417, in step
    self._report_thread_runner_error(block=True)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 589, in _report_thread_runner_error
    raise e
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
    self._entrypoint()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
    self._status_reporter.get_checkpoint(),
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
    output = fn()
  File "test_xt_with_tune.py", line 149, in train_xt
    best_param = find_max_th(yaml_file_path, n_trials, start_core, with_samper)
  File "/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py", line 184, in find_max_th
    print("study.best_params ===================== {}".format(study.best_params))
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/study/study.py", line 117, in best_params
    return self.best_trial.params
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/study/study.py", line 160, in best_trial
    return copy.deepcopy(self._storage.get_best_trial(self._study_id))
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/storages/_cached_storage.py", line 182, in get_best_trial
    return self._backend.get_best_trial(study_id)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/storages/_rdb/storage.py", line 912, in get_best_trial
    trial = models.TrialModel.find_min_value_trial(study_id, 0, session)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/storages/_rdb/models.py", line 231, in find_min_value_trial
    raise ValueError(NOT_FOUND_MSG)
ValueError: Record does not exist.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:37: launch local broker with lib success
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:37: **********
[2m[36m(train_xt pid=57623)[0m workspace:
[2m[36m(train_xt pid=57623)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945940106018574
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py:166: ExperimentalWarning: BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=58142)[0m   n_startup_trials=1,
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:38: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:39: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:39: init explorer with id: 1, buf_path: /tmp/plasma_share57702
[2m[36m(train_xt pid=57623)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57623)[0m Instructions for updating:
[2m[36m(train_xt pid=57623)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:41: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58142)[0m Instructions for updating:
[2m[36m(train_xt pid=58142)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:42: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:42: init explorer with id: 2, buf_path: /tmp/plasma_share57702
[2m[36m(train_xt pid=57623)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:42: set verbosity in broker: info
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:42: init broker with id-0
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:42: share buf: plasma_store -m 400000000 -s /tmp/plasma_share58430
[2m[36m(train_xt pid=57623)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.run()
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:43: init explorer with id: 0, buf_path: /tmp/plasma_share58430
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:43: init agent group for: explore
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:44: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:44: 
[2m[36m(train_xt pid=58142)[0m **************************************************
[2m[36m(train_xt pid=58142)[0m  XT start work...
[2m[36m(train_xt pid=58142)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940188342528.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=58142)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:44: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:45: init learner with:
[2m[36m(train_xt pid=58142)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=58142)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=58142)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=58142)[0m               'agent_num': 1},
[2m[36m(train_xt pid=58142)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=58142)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=58142)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=58142)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=58142)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=58142)[0m                           'save_model': True,
[2m[36m(train_xt pid=58142)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=58142)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=58142)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58142)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=58142)[0m                                    'model_config': {'LR': 0.001242505,
[2m[36m(train_xt pid=58142)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=58142)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58142)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=58142)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58142)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=58142)[0m                                                 84,
[2m[36m(train_xt pid=58142)[0m                                                 4],
[2m[36m(train_xt pid=58142)[0m                                    'state_mean': 0.0,tune_system ================== True
with_samper ================== True
== Status ==
Current time: 2023-09-13 16:33:15 (running for 00:00:06.85)
Memory usage on this node: 15.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 10.0/80 CPUs, 0.4/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (3 PENDING, 1 RUNNING)


[2m[36m(train_xt pid=57533)[0m {'lr': 0.0023936914580944377, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=57533)[0m trail id ================= 2ad5a_00000
== Status ==
Current time: 2023-09-13 16:33:22 (running for 00:00:13.55)
Memory usage on this node: 15.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 20.0/80 CPUs, 0.8/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (2 PENDING, 2 RUNNING)


[2m[36m(train_xt pid=57578)[0m {'lr': 0.0043408979585178266, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=57578)[0m trail id ================= 2ad5a_00001
[2m[36m(train_xt pid=57578)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=57578)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=57578)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=57578)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940041255631.yaml
[2m[36m(train_xt pid=57578)[0m run_log ======================== /tmp/test_opt_bys16945940041255631.log
== Status ==
Current time: 2023-09-13 16:33:28 (running for 00:00:20.12)
Memory usage on this node: 16.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 PENDING, 3 RUNNING)


[2m[36m(train_xt pid=57623)[0m {'lr': 0.0031593205366904284, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=57623)[0m trail id ================= 2ad5a_00002
[2m[36m(train_xt pid=57578)[0m start_core ======================================== True
[2m[36m(train_xt pid=57578)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=57578)[0m plasma_store -m 1000000000 -s /tmp/plasma57633
[2m[36m(train_xt pid=57578)[0m self.time_record_filename ============= /tmp/16945940041255631
[2m[36m(train_xt pid=57623)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=57623)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=57623)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=57623)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940106018574.yaml
[2m[36m(train_xt pid=57623)[0m run_log ======================== /tmp/test_opt_bys16945940106018574.log
[2m[36m(train_xt pid=57578)[0m plasma_store -m 100000000 -s /tmp/plasma57702T0
[2m[36m(train_xt pid=57623)[0m start_core ======================================== True
[2m[36m(train_xt pid=57623)[0m 	[WARN] start_core % 10 == 0 recommended.
== Status ==
Current time: 2023-09-13 16:33:37 (running for 00:00:28.39)
Memory usage on this node: 18.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:33:37 (running for 00:00:28.41)
Memory usage on this node: 18.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=58142)[0m {'lr': 0.0012425048322084273, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=58142)[0m trail id ================= 2ad5a_00003
[2m[36m(train_xt pid=57623)[0m plasma_store -m 1000000000 -s /tmp/plasma58133
[2m[36m(train_xt pid=57623)[0m self.time_record_filename ============= /tmp/16945940106018574
[2m[36m(train_xt pid=58142)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=58142)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=58142)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=58142)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940188342528.yaml
[2m[36m(train_xt pid=58142)[0m run_log ======================== /tmp/test_opt_bys16945940188342528.log
== Status ==
Current time: 2023-09-13 16:33:42 (running for 00:00:33.42)
Memory usage on this node: 19.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m plasma_store -m 100000000 -s /tmp/plasma58430T0
[2m[36m(train_xt pid=58142)[0m start_core ======================================== True
[2m[36m(train_xt pid=58142)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=58142)[0m plasma_store -m 1000000000 -s /tmp/plasma59205
[2m[36m(train_xt pid=58142)[0m self.time_record_filename ============= /tmp/16945940188342528
== Status ==
Current time: 2023-09-13 16:33:47 (running for 00:00:38.42)
Memory usage on this node: 20.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=58142)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=58142)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=58142)[0m              'id': 'ImpalaCnnOpt_now_time_16945940188342528',
[2m[36m(train_xt pid=58142)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=58142)[0m 'env_num': 5,
[2m[36m(train_xt pid=58142)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=58142)[0m                         'size': 2,
[2m[36m(train_xt pid=58142)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=58142)[0m                         'vision': False,
[2m[36m(train_xt pid=58142)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=58142)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=58142)[0m             'now_time': '16945940188342528'},
[2m[36m(train_xt pid=58142)[0m 'gpu': -1,
[2m[36m(train_xt pid=58142)[0m 'group_num': 1,
[2m[36m(train_xt pid=58142)[0m 'lock': 1,
[2m[36m(train_xt pid=58142)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58142)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=58142)[0m                        'model_config': {'LR': 0.001242505,
[2m[36m(train_xt pid=58142)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=58142)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58142)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=58142)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58142)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=58142)[0m                                     84,
[2m[36m(train_xt pid=58142)[0m                                     4],
[2m[36m(train_xt pid=58142)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=58142)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=58142)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=58142)[0m                'dummy_user',
[2m[36m(train_xt pid=58142)[0m                'dummy_password')],
[2m[36m(train_xt pid=58142)[0m 'speedup': 3,
[2m[36m(train_xt pid=58142)[0m 'start_core': True}
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:45: Init Broker server info:
[2m[36m(train_xt pid=58142)[0m {'recv': {'port': 28017,
[2m[36m(train_xt pid=58142)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=58142)[0m 'send': [{'port': 37778,
[2m[36m(train_xt pid=58142)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:45: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 28017, 37778, '127.0.0.1', 'info')
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:45: launch local broker with lib success
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:45: **********
[2m[36m(train_xt pid=58142)[0m workspace:
[2m[36m(train_xt pid=58142)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945940188342528
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:45: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:45: init explorer with id: 3, buf_path: /tmp/plasma_share57702
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:46: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:46: init explorer with id: 1, buf_path: /tmp/plasma_share58430
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:47: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58142)[0m Instructions for updating:
[2m[36m(train_xt pid=58142)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:48: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:48: speedup(3): binding env 3 to CPU 4
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:49: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:49: init explorer with id: 2, buf_path: /tmp/plasma_share58430
[2m[36m(train_xt pid=58142)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:50: set verbosity in broker: info
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:50: init broker with id-0
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:50: share buf: plasma_store -m 400000000 -s /tmp/plasma_share60065
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:51: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.run()
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:51: init explorer with id: 0, buf_path: /tmp/plasma_share60065
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:51: init agent group for: explore
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57578)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.run()
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:52: Task: T0         | Train_count:         2 | Steps:       765 | Elapsed time: 19 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         3.108511	mean_explore_ms:        770.509958	mean_inference_ms:        2.626756	mean_loop_time_ms:       53.367138
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     0.716527	mean_restore_model_ms:   55.922687	mean_train_time_ms:      638.22794	mean_wait_model_ms:     6038.567007
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    5684.412559	step_per_second:              40.0	train_loss:               2.496009	train_reward_avg:              0.0
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:52: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:53: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:54: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:54: init explorer with id: 1, buf_path: /tmp/plasma_share60065
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57623)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.run()
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:56: Task: T0         | Train_count:         2 | Steps:      1533 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:          4.32714	mean_explore_ms:        1050.738732	mean_inference_ms:        3.327942	mean_loop_time_ms:       59.679031
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.457214	mean_restore_model_ms:   50.742467	mean_train_time_ms:     699.899594	mean_wait_model_ms:     4555.796941
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    4754.078229	step_per_second:              92.0	train_loss:             139.981689	train_reward_avg:              0.0
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:56: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:57: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:57: init explorer with id: 2, buf_path: /tmp/plasma_share60065
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:33:59: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:00: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:00: init explorer with id: 3, buf_path: /tmp/plasma_share60065
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:02: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:02: Task: T0         | Train_count:        42 | Steps:     11006 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         3.748479	mean_explore_ms:        825.132942	mean_inference_ms:        2.518747	mean_loop_time_ms:       271.05056
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     0.820029	mean_restore_model_ms:     25.9866	mean_train_time_ms:      20.997131	mean_wait_model_ms:     2727.895856
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    241.461563	step_per_second:             370.0	train_loss:               7.764745	train_reward_avg:              1.0
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:03: speedup(3): binding env 3 to CPU 4
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:03: init explorer with id: 4, buf_path: /tmp/plasma_share60065
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:05: Task: T0         | Train_count:        22 | Steps:     11759 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         4.397428	mean_explore_ms:        1010.425329	mean_inference_ms:        3.139903	mean_loop_time_ms:       470.58512
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.402462	mean_restore_model_ms:    27.96491	mean_train_time_ms:       27.18817	mean_wait_model_ms:     2768.834472
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    434.520876	step_per_second:             454.0	train_loss:              30.728815	train_reward_avg:              0.7
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:05: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:07: speedup(3): binding env 4 to CPU 5
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58142)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.run()
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:11: Task: T0         | Train_count:         2 | Steps:       637 | Elapsed time: 23 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         7.341176	mean_explore_ms:        1475.627899	mean_inference_ms:        3.732599	mean_loop_time_ms:       55.152178
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     0.911951	mean_restore_model_ms:   75.843239	mean_train_time_ms:     686.437289	mean_wait_model_ms:     7668.845415
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    6948.235909	step_per_second:              27.0	train_loss:              41.658794	train_reward_avg:              0.0
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:14: Task: T0         | Train_count:        82 | Steps:     21146 | Elapsed time: 41 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         4.210617	mean_explore_ms:        883.704774	mean_inference_ms:        2.535941	mean_loop_time_ms:      327.054596
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:      0.82351	mean_restore_model_ms:   19.438473	mean_train_time_ms:      20.838439	mean_wait_model_ms:     1888.259935
[2m[36m(train_xt pid=58142)[0m plasma_store -m 100000000 -s /tmp/plasma60065T0
== Status ==
Current time: 2023-09-13 16:33:52 (running for 00:00:43.43)
Memory usage on this node: 21.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:33:57 (running for 00:00:48.44)
Memory usage on this node: 22.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:34:02 (running for 00:00:53.44)
Memory usage on this node: 22.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:34:07 (running for 00:00:58.45)
Memory usage on this node: 23.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:34:12 (running for 00:01:03.45)
Memory usage on this node: 24.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:34:17 (running for 00:01:08.46)
Memory usage on this node: 24.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:34:22 (running for 00:01:13.46)
Memory usage on this node: 24.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:34:27 (running for 00:01:18.47)
Memory usage on this node: 24.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    297.879148	step_per_second:             504.0	train_loss:             -22.683395	train_reward_avg:         0.961538
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:15: Task: T0         | Train_count:        42 | Steps:     21787 | Elapsed time: 36 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:          4.63348	mean_explore_ms:        1032.531351	mean_inference_ms:        3.120408	mean_loop_time_ms:      509.163868
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.505828	mean_restore_model_ms:   22.161424	mean_train_time_ms:      26.777649	mean_wait_model_ms:     2168.112785
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    472.957218	step_per_second:             603.0	train_loss:              78.740517	train_reward_avg:         0.785714
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:23: Task: T0         | Train_count:        42 | Steps:     10905 | Elapsed time: 35 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         6.998627	mean_explore_ms:        1375.171206	mean_inference_ms:        3.466104	mean_loop_time_ms:       320.27148
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     0.830853	mean_restore_model_ms:   37.964431	mean_train_time_ms:      24.317539	mean_wait_model_ms:     3793.652946
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    287.643528	step_per_second:             310.0	train_loss:              -1.050002	train_reward_avg:         1.166667
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:25: Task: T0         | Train_count:        62 | Steps:     32194 | Elapsed time: 46 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         5.003556	mean_explore_ms:        1083.562699	mean_inference_ms:        3.184538	mean_loop_time_ms:      515.786099
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.523757	mean_restore_model_ms:   18.042738	mean_train_time_ms:       27.51528	mean_wait_model_ms:     1677.399245
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    478.964353	step_per_second:             693.0	train_loss:               3.718419	train_reward_avg:              1.0
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:29: Task: T0         | Train_count:       122 | Steps:     31423 | Elapsed time: 56 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         4.800459	mean_explore_ms:        968.320154	mean_inference_ms:        2.609637	mean_loop_time_ms:      344.453359
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     0.873923	mean_restore_model_ms:   15.607255	mean_train_time_ms:      20.625174	mean_wait_model_ms:     1408.568246
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    315.165997	step_per_second:             557.0	train_loss:              17.583235	train_reward_avg:         1.236842
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:35: Task: T0         | Train_count:        82 | Steps:     21102 | Elapsed time: 47 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         6.722086	mean_explore_ms:        1326.415196	mean_inference_ms:        3.411753	mean_loop_time_ms:      311.778843
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     0.847614	mean_restore_model_ms:   28.822377	mean_train_time_ms:      22.678995	mean_wait_model_ms:     2683.089659
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    281.524253	step_per_second:             444.0	train_loss:              14.659786	train_reward_avg:         1.285714
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m /tmp/plasma58133:   
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:36: broker status timeout!
[2m[36m(train_xt pid=57623)[0m /tmp/plasma_share58430:
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:38: Finished train job normally.
[2m[36m(train_xt pid=57623)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m [I 2023-09-13 16:34:39,265] Trial 1 finished with value: 404.04040404040404 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 3}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=57623)[0m /tmp/plasma58430T0: 
[2m[36m(train_xt pid=57578)[0m /tmp/plasma57633:   
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:42: broker status timeout!
[2m[36m(train_xt pid=57578)[0m /tmp/plasma_share57702:
[2m[36m(train_xt pid=57623)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57623)[0m Instructions for updating:
[2m[36m(train_xt pid=57623)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:43: Task: T0         | Train_count:       122 | Steps:     31480 | Elapsed time: 55 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         6.165836	mean_explore_ms:        1223.547935	mean_inference_ms:        3.200237	mean_loop_time_ms:      198.424244
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     0.839078	mean_restore_model_ms:   22.328572	mean_train_time_ms:      21.476793	mean_wait_model_ms:     2015.306429
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    169.497657	step_per_second:             563.0	train_loss:             -57.067932	train_reward_avg:            1.325
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:44: Finished train job normally.
[2m[36m(train_xt pid=57578)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m [I 2023-09-13 16:34:44,694] Trial 0 finished with value: 430.8797127468582 and parameters: {'env_pool_size': 2, 'env_pool_wait_nums': 2, 'infer_size': 4}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=57578)[0m /tmp/plasma57702T0: 
[2m[36m(train_xt pid=57623)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:46: 
[2m[36m(train_xt pid=57623)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m  XT start work...
[2m[36m(train_xt pid=57623)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940803061812.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57623)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:47: init learner with:
[2m[36m(train_xt pid=57623)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57623)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57623)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57623)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57623)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57623)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57623)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=57623)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57623)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57623)[0m                           'save_model': True,
[2m[36m(train_xt pid=57623)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57623)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57623)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57623)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57623)[0m                                    'model_config': {'LR': 0.003159321,
[2m[36m(train_xt pid=57623)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57623)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57623)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57623)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57623)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57623)[0m                                                 84,
[2m[36m(train_xt pid=57623)[0m                                                 4],
[2m[36m(train_xt pid=57623)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57623)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57623)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57623)[0m              'id': 'ImpalaCnnOpt_now_time_16945940803061812',
[2m[36m(train_xt pid=57623)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57623)[0m 'env_num': 5,
[2m[36m(train_xt pid=57623)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57623)[0m                         'size': 4,
[2m[36m(train_xt pid=57623)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=57623)[0m                         'vision': False,
[2m[36m(train_xt pid=57623)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=57623)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57623)[0m             'now_time': '16945940803061812'},
[2m[36m(train_xt pid=57623)[0m 'gpu': -1,
[2m[36m(train_xt pid=57623)[0m 'group_num': 1,
[2m[36m(train_xt pid=57623)[0m 'lock': 1,
[2m[36m(train_xt pid=57623)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57623)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57623)[0m                        'model_config': {'LR': 0.003159321,
[2m[36m(train_xt pid=57623)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57623)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57623)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57623)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57623)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57623)[0m                                     84,
[2m[36m(train_xt pid=57623)[0m                                     4],
[2m[36m(train_xt pid=57623)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57623)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57623)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57623)[0m                'dummy_user',
[2m[36m(train_xt pid=57623)[0m                'dummy_password')],
[2m[36m(train_xt pid=57623)[0m 'speedup': 3,
[2m[36m(train_xt pid=57623)[0m 'start_core': True}
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:47: Init Broker server info:
[2m[36m(train_xt pid=57623)[0m {'recv': {'port': 35201,
[2m[36m(train_xt pid=57623)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57623)[0m 'send': [{'port': 20984,
[2m[36m(train_xt pid=57623)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:47: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 35201, 20984, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:47: launch local broker with lib success
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:47: **********
[2m[36m(train_xt pid=57623)[0m workspace:
[2m[36m(train_xt pid=57623)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945940803061812
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57578)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57578)[0m Instructions for updating:
[2m[36m(train_xt pid=57578)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57623)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57623)[0m Instructions for updating:
[2m[36m(train_xt pid=57623)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:51: 
[2m[36m(train_xt pid=57578)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m  XT start work...
[2m[36m(train_xt pid=57578)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940857344055.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57578)[0m **************************************************
[2m[36m(train_xt pid=58142)[0m /tmp/plasma59205:   
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:52: broker status timeout!
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:52: init learner with:
[2m[36m(train_xt pid=57578)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57578)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57578)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57578)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57578)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57578)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57578)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=57578)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57578)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57578)[0m                           'save_model': True,
[2m[36m(train_xt pid=57578)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57578)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57578)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57578)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57578)[0m                                    'model_config': {'LR': 0.004340898,
[2m[36m(train_xt pid=57578)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57578)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57578)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57578)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57578)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57578)[0m                                                 84,
[2m[36m(train_xt pid=57578)[0m                                                 4],
[2m[36m(train_xt pid=57578)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57578)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57578)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57578)[0m              'id': 'ImpalaCnnOpt_now_time_16945940857344055',
[2m[36m(train_xt pid=57578)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57578)[0m 'env_num': 3,
[2m[36m(train_xt pid=57578)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57578)[0m                         'size': 5,
[2m[36m(train_xt pid=57578)[0m                         'vector_env_size': 5,
[2m[36m(train_xt pid=57578)[0m                         'vision': False,
[2m[36m(train_xt pid=57578)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=57578)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57578)[0m             'now_time': '16945940857344055'},
[2m[36m(train_xt pid=57578)[0m 'gpu': -1,
[2m[36m(train_xt pid=57578)[0m 'group_num': 1,
[2m[36m(train_xt pid=57578)[0m 'lock': 1,
[2m[36m(train_xt pid=57578)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57578)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57578)[0m                        'model_config': {'LR': 0.004340898,
[2m[36m(train_xt pid=57578)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57578)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57578)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57578)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57578)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57578)[0m                                     84,
[2m[36m(train_xt pid=57578)[0m                                     4],
[2m[36m(train_xt pid=57578)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57578)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57578)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57578)[0m                'dummy_user',
[2m[36m(train_xt pid=57578)[0m                'dummy_password')],
[2m[36m(train_xt pid=57578)[0m 'speedup': 3,
[2m[36m(train_xt pid=57578)[0m 'start_core': True}
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:52: Init Broker server info:
[2m[36m(train_xt pid=57578)[0m {'recv': {'port': 33735,
[2m[36m(train_xt pid=57578)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57578)[0m 'send': [{'port': 35889,
[2m[36m(train_xt pid=57578)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:52: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 33735, 35889, '127.0.0.1', 'info')
== Status ==
Current time: 2023-09-13 16:34:32 (running for 00:01:23.47)
Memory usage on this node: 24.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m  58434
== Status ==
Current time: 2023-09-13 16:34:37 (running for 00:01:28.48)
Memory usage on this node: 24.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m  59512
[2m[36m(train_xt pid=57623)[0m good
[2m[36m(train_xt pid=57623)[0m log filename ================== /tmp/16945940106018574
[2m[36m(train_xt pid=57623)[0m step_per_second ============ 693.0
[2m[36m(train_xt pid=57623)[0m tune_cost =================== True
[2m[36m(train_xt pid=57623)[0m  59520
[2m[36m(train_xt pid=57623)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=57623)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=57623)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=57623)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940803061812.yaml
[2m[36m(train_xt pid=57623)[0m run_log ======================== /tmp/test_opt_bys16945940803061812.log
[2m[36m(train_xt pid=57578)[0m  57704
== Status ==
Current time: 2023-09-13 16:34:42 (running for 00:01:33.48)
Memory usage on this node: 22.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m  58377
[2m[36m(train_xt pid=57578)[0m good
[2m[36m(train_xt pid=57578)[0m log filename ================== /tmp/16945940041255631
[2m[36m(train_xt pid=57578)[0m step_per_second ============ 557.0
[2m[36m(train_xt pid=57578)[0m tune_cost =================== True
[2m[36m(train_xt pid=57578)[0m  58387
[2m[36m(train_xt pid=57578)[0m =======================env_pool_size======================5
[2m[36m(train_xt pid=57578)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=57578)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=57578)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940857344055.yaml
[2m[36m(train_xt pid=57578)[0m run_log ======================== /tmp/test_opt_bys16945940857344055.log
[2m[36m(train_xt pid=57623)[0m start_core ======================================== True
[2m[36m(train_xt pid=57623)[0m 	[WARN] start_core % 10 == 0 recommended.
== Status ==
Current time: 2023-09-13 16:34:47 (running for 00:01:38.49)
Memory usage on this node: 20.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m plasma_store -m 1000000000 -s /tmp/plasma62885
[2m[36m(train_xt pid=57623)[0m self.time_record_filename ============= /tmp/16945940803061812
[2m[36m(train_xt pid=58142)[0m  60067
== Status ==
Current time: 2023-09-13 16:34:52 (running for 00:01:43.50)
Memory usage on this node: 21.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m start_core ======================================== True
[2m[36m(train_xt pid=57578)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=57578)[0m plasma_store -m 1000000000 -s /tmp/plasma62931
[2m[36m(train_xt pid=57578)[0m self.time_record_filename ============= /tmp/16945940857344055
[2m[36m(train_xt pid=58142)[0m  61423
[2m[36m(train_xt pid=57623)[0m plasma_store -m 100000000 -s /tmp/plasma62956T0
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:52: launch local broker with lib success
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:52: **********
[2m[36m(train_xt pid=57578)[0m workspace:
[2m[36m(train_xt pid=57578)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945940857344055
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m /tmp/plasma_share60065:
[2m[36m(train_xt pid=57623)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:53: set verbosity in broker: info
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:53: init broker with id-0
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:53: share buf: plasma_store -m 400000000 -s /tmp/plasma_share62956
[2m[36m(train_xt pid=57623)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.run()
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:53: init explorer with id: 0, buf_path: /tmp/plasma_share62956
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:53: init agent group for: explore
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:54: Finished train job normally.
[2m[36m(train_xt pid=58142)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m [I 2023-09-13 16:34:54,622] Trial 2 finished with value: 497.335701598579 and parameters: {'env_pool_size': 2, 'env_pool_wait_nums': 2, 'infer_size': 5}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=58142)[0m /tmp/plasma60065T0: 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:55: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57578)[0m Instructions for updating:
[2m[36m(train_xt pid=57578)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:56: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:56: init explorer with id: 1, buf_path: /tmp/plasma_share62956
[2m[36m(train_xt pid=57578)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:58: set verbosity in broker: info
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:58: init broker with id-0
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:58: share buf: plasma_store -m 400000000 -s /tmp/plasma_share63538
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:58: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58142)[0m Instructions for updating:
[2m[36m(train_xt pid=58142)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.run()
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:58: init explorer with id: 0, buf_path: /tmp/plasma_share63538
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:58: init agent group for: explore
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:59: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:34:59: init explorer with id: 2, buf_path: /tmp/plasma_share62956
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:00: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:01: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:01: 
[2m[36m(train_xt pid=58142)[0m **************************************************
[2m[36m(train_xt pid=58142)[0m  XT start work...
[2m[36m(train_xt pid=58142)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940956580021.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=58142)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:01: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:01: init explorer with id: 1, buf_path: /tmp/plasma_share63538
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:02: init learner with:
[2m[36m(train_xt pid=58142)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=58142)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=58142)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=58142)[0m               'agent_num': 1},
[2m[36m(train_xt pid=58142)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=58142)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=58142)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=58142)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=58142)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=58142)[0m                           'save_model': True,
[2m[36m(train_xt pid=58142)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=58142)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=58142)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58142)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=58142)[0m                                    'model_config': {'LR': 0.001242505,
[2m[36m(train_xt pid=58142)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=58142)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58142)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=58142)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58142)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=58142)[0m                                                 84,
[2m[36m(train_xt pid=58142)[0m                                                 4],
[2m[36m(train_xt pid=58142)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=58142)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=58142)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=58142)[0m              'id': 'ImpalaCnnOpt_now_time_16945940956580021',
[2m[36m(train_xt pid=58142)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=58142)[0m 'env_num': 4,
[2m[36m(train_xt pid=58142)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=58142)[0m                         'size': 5,
[2m[36m(train_xt pid=58142)[0m                         'vector_env_size': 5,
[2m[36m(train_xt pid=58142)[0m                         'vision': False,
[2m[36m(train_xt pid=58142)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=58142)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=58142)[0m             'now_time': '16945940956580021'},
[2m[36m(train_xt pid=58142)[0m 'gpu': -1,
[2m[36m(train_xt pid=58142)[0m 'group_num': 1,
[2m[36m(train_xt pid=58142)[0m 'lock': 1,
[2m[36m(train_xt pid=58142)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58142)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=58142)[0m                        'model_config': {'LR': 0.001242505,
[2m[36m(train_xt pid=58142)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=58142)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58142)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=58142)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58142)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=58142)[0m                                     84,
[2m[36m(train_xt pid=58142)[0m                                     4],
[2m[36m(train_xt pid=58142)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=58142)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=58142)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=58142)[0m                'dummy_user',
[2m[36m(train_xt pid=58142)[0m                'dummy_password')],
[2m[36m(train_xt pid=58142)[0m 'speedup': 3,
[2m[36m(train_xt pid=58142)[0m 'start_core': True}
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:02: Init Broker server info:
[2m[36m(train_xt pid=58142)[0m {'recv': {'port': 20075,
[2m[36m(train_xt pid=58142)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=58142)[0m 'send': [{'port': 35848,
[2m[36m(train_xt pid=58142)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:02: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 20075, 35848, '127.0.0.1', 'info')
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:02: launch local broker with lib success
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:02: **********
[2m[36m(train_xt pid=58142)[0m workspace:
[2m[36m(train_xt pid=58142)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945940956580021
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:02: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:02: init explorer with id: 3, buf_path: /tmp/plasma_share62956
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:03: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:04: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:04: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:04: init explorer with id: 2, buf_path: /tmp/plasma_share63538
[2m[36m(train_xt pid=58142)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58142)[0m Instructions for updating:
[2m[36m(train_xt pid=58142)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:05: speedup(3): binding env 3 to CPU 4
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:05: init explorer with id: 4, buf_path: /tmp/plasma_share62956
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:06: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:07: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:07: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=58142)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:07: set verbosity in broker: info
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:07: init broker with id-0
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:07: share buf: plasma_store -m 400000000 -s /tmp/plasma_share65259
[2m[36m(train_xt pid=58142)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.run()
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:08: init explorer with id: 0, buf_path: /tmp/plasma_share65259
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:08: init agent group for: explore
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:08: speedup(3): binding env 4 to CPU 5
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:09: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:11: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:11: init explorer with id: 1, buf_path: /tmp/plasma_share65259
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57578)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.run()
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:11: Task: T0         | Train_count:         4 | Steps:      1899 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         1.966729	mean_explore_ms:        666.938603	mean_inference_ms:        2.889134	mean_loop_time_ms:      246.997714
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     0.997686	mean_restore_model_ms:   38.270772	mean_train_time_ms:     415.753889	mean_wait_model_ms:     3849.650264
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    2924.234915	step_per_second:             112.0	train_loss:              65.285553	train_reward_avg:              0.0
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:13: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57623)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.run()
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:13: Task: T0         | Train_count:         6 | Steps:      2630 | Elapsed time: 23 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         3.500194	mean_explore_ms:        868.743579	mean_inference_ms:        2.903374	mean_loop_time_ms:       210.78519
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.054593	mean_restore_model_ms:   43.432792	mean_train_time_ms:     308.183908	mean_wait_model_ms:     6792.796135
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    3069.423369	step_per_second:             110.0	train_loss:               -1.90379	train_reward_avg:         0.333333
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:14: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:14: init explorer with id: 2, buf_path: /tmp/plasma_share65259
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:16: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:17: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:17: init explorer with id: 3, buf_path: /tmp/plasma_share65259
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:19: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:19: Task: T0         | Train_count:        34 | Steps:     13409 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:          3.43827	mean_explore_ms:        859.461599	mean_inference_ms:        2.962431	mean_loop_time_ms:      235.697889
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.576889	mean_restore_model_ms:   30.862941	mean_train_time_ms:      29.966712	mean_wait_model_ms:     4635.257588
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    195.738387	step_per_second:             448.0	train_loss:               6.344773	train_reward_avg:         1.020833
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:20: Task: T0         | Train_count:        32 | Steps:     12620 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         2.022099	mean_explore_ms:        651.697704	mean_inference_ms:        2.793736	mean_loop_time_ms:      296.065247
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     1.240313	mean_restore_model_ms:   23.805516	mean_train_time_ms:      28.980076	mean_wait_model_ms:     2323.077951
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    258.266413	step_per_second:             494.0	train_loss:             -20.452732	train_reward_avg:              1.1
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:20: speedup(3): binding env 3 to CPU 4
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58142)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m good
[2m[36m(train_xt pid=58142)[0m log filename ================== /tmp/16945940188342528
[2m[36m(train_xt pid=58142)[0m step_per_second ============ 563.0
[2m[36m(train_xt pid=58142)[0m tune_cost =================== True
[2m[36m(train_xt pid=58142)[0m  61433
[2m[36m(train_xt pid=58142)[0m =======================env_pool_size======================5
[2m[36m(train_xt pid=58142)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=58142)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=58142)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945940956580021.yaml
[2m[36m(train_xt pid=58142)[0m run_log ======================== /tmp/test_opt_bys16945940956580021.log
== Status ==
Current time: 2023-09-13 16:34:57 (running for 00:01:48.50)
Memory usage on this node: 20.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m plasma_store -m 100000000 -s /tmp/plasma63538T0
== Status ==
Current time: 2023-09-13 16:35:02 (running for 00:01:53.51)
Memory usage on this node: 21.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=58142)[0m start_core ======================================== True
[2m[36m(train_xt pid=58142)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=58142)[0m plasma_store -m 1000000000 -s /tmp/plasma64377
[2m[36m(train_xt pid=58142)[0m self.time_record_filename ============= /tmp/16945940956580021
== Status ==
Current time: 2023-09-13 16:35:07 (running for 00:01:58.51)
Memory usage on this node: 22.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=58142)[0m plasma_store -m 100000000 -s /tmp/plasma65259T0
== Status ==
Current time: 2023-09-13 16:35:12 (running for 00:02:03.52)
Memory usage on this node: 24.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:35:17 (running for 00:02:08.53)
Memory usage on this node: 24.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:35:22 (running for 00:02:13.53)
Memory usage on this node: 25.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:35:27 (running for 00:02:18.54)
Memory usage on this node: 25.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=58142)[0m   self.run()
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:25: Task: T0         | Train_count:         6 | Steps:      2429 | Elapsed time: 20 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         4.324447	mean_explore_ms:        1104.707479	mean_inference_ms:         3.76307	mean_loop_time_ms:       219.83703
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     1.152039	mean_restore_model_ms:   59.904814	mean_train_time_ms:     319.661345	mean_wait_model_ms:     5247.246408
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    2643.516609	step_per_second:             116.0	train_loss:              14.175711	train_reward_avg:              0.0
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:26: Task: T0         | Train_count:        61 | Steps:     23763 | Elapsed time: 37 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         3.442581	mean_explore_ms:        872.484702	mean_inference_ms:        3.087074	mean_loop_time_ms:      290.998495
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:      1.26214	mean_restore_model_ms:   23.218944	mean_train_time_ms:      31.832564	mean_wait_model_ms:     3309.935533
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    249.423647	step_per_second:             636.0	train_loss:              25.318647	train_reward_avg:         1.322917
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:30: Task: T0         | Train_count:        58 | Steps:     22627 | Elapsed time: 35 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         2.159983	mean_explore_ms:        666.022825	mean_inference_ms:        2.800236	mean_loop_time_ms:      380.003512
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     1.214683	mean_restore_model_ms:   18.503523	mean_train_time_ms:      29.290712	mean_wait_model_ms:     1717.502475
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    341.081154	step_per_second:             639.0	train_loss:              37.432846	train_reward_avg:         1.342857
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:34: Task: T0         | Train_count:        32 | Steps:     12561 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:           3.9633	mean_explore_ms:        1009.522968	mean_inference_ms:        3.540144	mean_loop_time_ms:      307.646787
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     1.220489	mean_restore_model_ms:   36.577251	mean_train_time_ms:      27.590561	mean_wait_model_ms:     3049.170123
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    271.466565	step_per_second:             427.0	train_loss:             120.702438	train_reward_avg:             0.84
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:35: Task: T0         | Train_count:        88 | Steps:     34001 | Elapsed time: 45 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         3.858204	mean_explore_ms:        937.888636	mean_inference_ms:        3.192939	mean_loop_time_ms:      294.278407
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.475906	mean_restore_model_ms:   19.199946	mean_train_time_ms:      28.129244	mean_wait_model_ms:     2603.450677
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    257.012951	step_per_second:             750.0	train_loss:               26.81403	train_reward_avg:         1.340278
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:40: Task: T0         | Train_count:        84 | Steps:     32627 | Elapsed time: 45 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         2.553809	mean_explore_ms:        721.354183	mean_inference_ms:        2.858004	mean_loop_time_ms:      372.918689
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     1.176345	mean_restore_model_ms:   15.211916	mean_train_time_ms:      29.480171	mean_wait_model_ms:     1246.859741
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    334.714508	step_per_second:             724.0	train_loss:              19.032009	train_reward_avg:         1.733333
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57623)[0m /tmp/plasma62885:   
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:41: Task: T0         | Train_count:        58 | Steps:     22635 | Elapsed time: 36 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         3.746155	mean_explore_ms:        965.999802	mean_inference_ms:        3.466067	mean_loop_time_ms:      284.204316
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     1.233792	mean_restore_model_ms:    29.50565	mean_train_time_ms:      26.579189	mean_wait_model_ms:     2364.782512
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    249.770796	step_per_second:             618.0	train_loss:              82.433151	train_reward_avg:            0.975
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:41: broker status timeout!
[2m[36m(train_xt pid=57623)[0m /tmp/plasma_share62956:
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:43: Finished train job normally.
[2m[36m(train_xt pid=57623)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m [I 2023-09-13 16:35:43,876] Trial 3 finished with value: 480.0 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 3, 'infer_size': 5}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=57623)[0m /tmp/plasma62956T0: 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:47: Task: T0         | Train_count:        84 | Steps:     32639 | Elapsed time: 42 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         3.347895	mean_explore_ms:        886.295125	mean_inference_ms:         3.28073	mean_loop_time_ms:      234.589744
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     1.289809	mean_restore_model_ms:   23.828879	mean_train_time_ms:      27.503479	mean_wait_model_ms:     1853.865489
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    197.936273	step_per_second:             762.0	train_loss:              63.009445	train_reward_avg:         1.133333
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57578)[0m /tmp/plasma62931:   
[2m[36m(train_xt pid=57623)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57623)[0m Instructions for updating:
[2m[36m(train_xt pid=57623)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:47: broker status timeout!
[2m[36m(train_xt pid=57578)[0m /tmp/plasma_share63538:
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:50: Finished train job normally.
[2m[36m(train_xt pid=57578)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m [I 2023-09-13 16:35:50,389] Trial 4 finished with value: 441.9889502762431 and parameters: {'env_pool_size': 5, 'env_pool_wait_nums': 3, 'infer_size': 3}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=57578)[0m /tmp/plasma63538T0: 
[2m[36m(train_xt pid=57623)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:51: 
[2m[36m(train_xt pid=57623)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m  XT start work...
[2m[36m(train_xt pid=57623)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694594144918212.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57623)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:52: init learner with:
[2m[36m(train_xt pid=57623)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57623)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57623)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57623)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57623)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57623)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57623)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=57623)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57623)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57623)[0m                           'save_model': True,
[2m[36m(train_xt pid=57623)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57623)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57623)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57623)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57623)[0m                                    'model_config': {'LR': 0.003159321,
[2m[36m(train_xt pid=57623)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57623)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57623)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57623)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57623)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57623)[0m                                                 84,
[2m[36m(train_xt pid=57623)[0m                                                 4],
[2m[36m(train_xt pid=57623)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57623)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57623)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57623)[0m              'id': 'ImpalaCnnOpt_now_time_1694594144918212',
[2m[36m(train_xt pid=57623)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57623)[0m 'env_num': 2,
[2m[36m(train_xt pid=57623)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57623)[0m                         'size': 4,
[2m[36m(train_xt pid=57623)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=57623)[0m                         'vision': False,
[2m[36m(train_xt pid=57623)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=57623)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57623)[0m             'now_time': '1694594144918212'},
[2m[36m(train_xt pid=57623)[0m 'gpu': -1,
[2m[36m(train_xt pid=57623)[0m 'group_num': 1,
[2m[36m(train_xt pid=57623)[0m 'lock': 1,
[2m[36m(train_xt pid=57623)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57623)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57623)[0m                        'model_config': {'LR': 0.003159321,
[2m[36m(train_xt pid=57623)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57623)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57623)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57623)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57623)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57623)[0m                                     84,
[2m[36m(train_xt pid=57623)[0m                                     4],
[2m[36m(train_xt pid=57623)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57623)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57623)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57623)[0m                'dummy_user',
[2m[36m(train_xt pid=57623)[0m                'dummy_password')],
[2m[36m(train_xt pid=57623)[0m 'speedup': 3,
[2m[36m(train_xt pid=57623)[0m 'start_core': True}
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:52: Init Broker server info:
[2m[36m(train_xt pid=57623)[0m {'recv': {'port': 29690,
== Status ==
Current time: 2023-09-13 16:35:32 (running for 00:02:23.54)
Memory usage on this node: 25.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:35:37 (running for 00:02:28.55)
Memory usage on this node: 26.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m  62960
[2m[36m(train_xt pid=57623)[0m  63982
== Status ==
Current time: 2023-09-13 16:35:42 (running for 00:02:33.55)
Memory usage on this node: 26.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m good
[2m[36m(train_xt pid=57623)[0m log filename ================== /tmp/16945940803061812
[2m[36m(train_xt pid=57623)[0m step_per_second ============ 750.0
[2m[36m(train_xt pid=57623)[0m tune_cost =================== True
[2m[36m(train_xt pid=57623)[0m  63990
[2m[36m(train_xt pid=57623)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=57623)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=57623)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=57623)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694594144918212.yaml
[2m[36m(train_xt pid=57623)[0m run_log ======================== /tmp/test_opt_bys1694594144918212.log
== Status ==
Current time: 2023-09-13 16:35:47 (running for 00:02:38.56)
Memory usage on this node: 23.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m  63540
[2m[36m(train_xt pid=57578)[0m  64653
[2m[36m(train_xt pid=57578)[0m good
[2m[36m(train_xt pid=57578)[0m log filename ================== /tmp/16945940857344055
[2m[36m(train_xt pid=57578)[0m step_per_second ============ 724.0
[2m[36m(train_xt pid=57578)[0m tune_cost =================== True
[2m[36m(train_xt pid=57578)[0m  64662
[2m[36m(train_xt pid=57578)[0m =======================env_pool_size======================5
[2m[36m(train_xt pid=57578)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=57578)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=57578)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945941514261553.yaml
[2m[36m(train_xt pid=57578)[0m run_log ======================== /tmp/test_opt_bys16945941514261553.log
== Status ==
Current time: 2023-09-13 16:35:52 (running for 00:02:43.56)
Memory usage on this node: 22.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m start_core ======================================== True
[2m[36m(train_xt pid=57623)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=57623)[0m plasma_store -m 1000000000 -s /tmp/plasma68084
[2m[36m(train_xt pid=57623)[0m self.time_record_filename ============= /tmp/1694594144918212
[2m[36m(train_xt pid=58142)[0m  65261
[2m[36m(train_xt pid=58142)[0m  66853
[2m[36m(train_xt pid=58142)[0m good
[2m[36m(train_xt pid=58142)[0m log filename ================== /tmp/16945940956580021
[2m[36m(train_xt pid=58142)[0m step_per_second ============ 762.0
[2m[36m(train_xt pid=58142)[0m tune_cost =================== True
[2m[36m(train_xt pid=58142)[0m  66865
== Status ==
Current time: 2023-09-13 16:35:57 (running for 00:02:48.57)
Memory usage on this node: 21.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57623)[0m 'send': [{'port': 34154,
[2m[36m(train_xt pid=57623)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:52: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 29690, 34154, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:52: launch local broker with lib success
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:52: **********
[2m[36m(train_xt pid=57623)[0m workspace:
[2m[36m(train_xt pid=57623)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_1694594144918212
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=58142)[0m /tmp/plasma64377:   
[2m[36m(train_xt pid=57578)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57578)[0m Instructions for updating:
[2m[36m(train_xt pid=57578)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:54: broker status timeout!
[2m[36m(train_xt pid=58142)[0m /tmp/plasma_share65259:
[2m[36m(train_xt pid=57623)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57623)[0m Instructions for updating:
[2m[36m(train_xt pid=57623)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:56: Finished train job normally.
[2m[36m(train_xt pid=58142)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m [I 2023-09-13 16:35:56,485] Trial 5 finished with value: 472.4409448818898 and parameters: {'env_pool_size': 5, 'env_pool_wait_nums': 3, 'infer_size': 4}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=58142)[0m /tmp/plasma65259T0: 
[2m[36m(train_xt pid=57578)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:57: 
[2m[36m(train_xt pid=57578)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m  XT start work...
[2m[36m(train_xt pid=57578)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945941514261553.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57578)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:57: set verbosity in broker: info
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:57: init broker with id-0
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:57: share buf: plasma_store -m 400000000 -s /tmp/plasma_share68159
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:58: init learner with:
[2m[36m(train_xt pid=57578)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57578)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57578)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57578)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57578)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57578)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57578)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=57578)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57578)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57578)[0m                           'save_model': True,
[2m[36m(train_xt pid=57578)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57578)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57578)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57578)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57578)[0m                                    'model_config': {'LR': 0.004340898,
[2m[36m(train_xt pid=57578)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57578)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57578)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57578)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57578)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57578)[0m                                                 84,
[2m[36m(train_xt pid=57578)[0m                                                 4],
[2m[36m(train_xt pid=57578)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57578)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57578)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57578)[0m              'id': 'ImpalaCnnOpt_now_time_16945941514261553',
[2m[36m(train_xt pid=57578)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57578)[0m 'env_num': 3,
[2m[36m(train_xt pid=57578)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57578)[0m                         'size': 5,
[2m[36m(train_xt pid=57578)[0m                         'vector_env_size': 5,
[2m[36m(train_xt pid=57578)[0m                         'vision': False,
[2m[36m(train_xt pid=57578)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=57578)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57578)[0m             'now_time': '16945941514261553'},
[2m[36m(train_xt pid=57578)[0m 'gpu': -1,
[2m[36m(train_xt pid=57578)[0m 'group_num': 1,
[2m[36m(train_xt pid=57578)[0m 'lock': 1,
[2m[36m(train_xt pid=57578)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57578)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57578)[0m                        'model_config': {'LR': 0.004340898,
[2m[36m(train_xt pid=57578)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57578)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57578)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57578)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57578)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57578)[0m                                     84,
[2m[36m(train_xt pid=57578)[0m                                     4],
[2m[36m(train_xt pid=57578)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57578)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57578)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57578)[0m                'dummy_user',
[2m[36m(train_xt pid=57578)[0m                'dummy_password')],
[2m[36m(train_xt pid=57578)[0m 'speedup': 3,
[2m[36m(train_xt pid=57578)[0m 'start_core': True}
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:58: Init Broker server info:
[2m[36m(train_xt pid=57578)[0m {'recv': {'port': 39603,
[2m[36m(train_xt pid=57578)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57578)[0m 'send': [{'port': 36150,
[2m[36m(train_xt pid=57578)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:58: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 39603, 36150, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:58: launch local broker with lib success
[2m[36m(train_xt pid=57623)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.run()
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:58: init explorer with id: 0, buf_path: /tmp/plasma_share68159
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:58: init agent group for: explore
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:58: **********
[2m[36m(train_xt pid=57578)[0m workspace:
[2m[36m(train_xt pid=57578)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945941514261553
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:35:59: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58142)[0m Instructions for updating:
[2m[36m(train_xt pid=58142)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57578)[0m Instructions for updating:
[2m[36m(train_xt pid=57578)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:01: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:01: init explorer with id: 1, buf_path: /tmp/plasma_share68159
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: 
[2m[36m(train_xt pid=58142)[0m **************************************************
[2m[36m(train_xt pid=58142)[0m  XT start work...
[2m[36m(train_xt pid=58142)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945941575241063.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=58142)[0m **************************************************
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: init learner with:
[2m[36m(train_xt pid=58142)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=58142)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=58142)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=58142)[0m               'agent_num': 1},
[2m[36m(train_xt pid=58142)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=58142)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=58142)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=58142)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=58142)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=58142)[0m                           'save_model': True,
[2m[36m(train_xt pid=58142)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=58142)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=58142)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58142)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=58142)[0m                                    'model_config': {'LR': 0.001242505,
[2m[36m(train_xt pid=58142)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=58142)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58142)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=58142)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58142)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=58142)[0m                                                 84,
[2m[36m(train_xt pid=58142)[0m                                                 4],
[2m[36m(train_xt pid=58142)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=58142)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=58142)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=58142)[0m              'id': 'ImpalaCnnOpt_now_time_16945941575241063',
[2m[36m(train_xt pid=58142)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=58142)[0m 'env_num': 5,
[2m[36m(train_xt pid=58142)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=58142)[0m                         'size': 3,
[2m[36m(train_xt pid=58142)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=58142)[0m                         'vision': False,
[2m[36m(train_xt pid=58142)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=58142)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=58142)[0m             'now_time': '16945941575241063'},
[2m[36m(train_xt pid=58142)[0m 'gpu': -1,
[2m[36m(train_xt pid=58142)[0m 'group_num': 1,
[2m[36m(train_xt pid=58142)[0m 'lock': 1,
[2m[36m(train_xt pid=58142)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58142)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=58142)[0m                        'model_config': {'LR': 0.001242505,
[2m[36m(train_xt pid=58142)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=58142)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58142)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=58142)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58142)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=58142)[0m                                     84,
[2m[36m(train_xt pid=58142)[0m                                     4],
[2m[36m(train_xt pid=58142)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=58142)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=58142)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=58142)[0m                'dummy_user',
[2m[36m(train_xt pid=58142)[0m                'dummy_password')],
[2m[36m(train_xt pid=58142)[0m 'speedup': 3,
[2m[36m(train_xt pid=58142)[0m 'start_core': True}
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: Init Broker server info:
[2m[36m(train_xt pid=58142)[0m {'recv': {'port': 32342,
[2m[36m(train_xt pid=58142)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=58142)[0m 'send': [{'port': 25118,
[2m[36m(train_xt pid=58142)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57578)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: set verbosity in broker: info
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: init broker with id-0
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: share buf: plasma_store -m 400000000 -s /tmp/plasma_share68781
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 32342, 25118, '127.0.0.1', 'info')
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:03: launch local broker with lib success
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:04: **********
[2m[36m(train_xt pid=58142)[0m workspace:
[2m[36m(train_xt pid=58142)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945941575241063
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57578)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.run()
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:04: init explorer with id: 0, buf_path: /tmp/plasma_share68781
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:04: init agent group for: explore
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:04: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:06: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58142)[0m Instructions for updating:
[2m[36m(train_xt pid=58142)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:07: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:07: init explorer with id: 1, buf_path: /tmp/plasma_share68781
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57623)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.run()
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:07: Task: T0         | Train_count:         0 | Steps:       381 | Elapsed time: 12 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         3.258192	mean_explore_ms:        894.528031	mean_inference_ms:         3.24585	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.473188	mean_restore_model_ms:   68.007588	mean_train_time_ms:            nan	mean_wait_model_ms:     2923.891664
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    10885.341167	step_per_second:              29.0	train_loss:             242.293884	train_reward_avg:              0.0
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:09: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:09: set verbosity in broker: info
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:09: init broker with id-0
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:09: share buf: plasma_store -m 400000000 -s /tmp/plasma_share69891
[2m[36m(train_xt pid=58142)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.run()
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:10: init explorer with id: 0, buf_path: /tmp/plasma_share69891
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:10: init agent group for: explore
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:10: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:10: init explorer with id: 2, buf_path: /tmp/plasma_share68781
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:11: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:12: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:13: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:13: init explorer with id: 1, buf_path: /tmp/plasma_share69891
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:13: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:15: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:16: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:16: init explorer with id: 2, buf_path: /tmp/plasma_share69891
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:18: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57578)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.run()
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:18: Task: T0         | Train_count:         4 | Steps:      2529 | Elapsed time: 17 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         2.780724	mean_explore_ms:        871.254762	mean_inference_ms:        3.445152	mean_loop_time_ms:       316.84047
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     1.323223	mean_restore_model_ms:    52.04018	mean_train_time_ms:     456.922388	mean_wait_model_ms:     4417.392651
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    3029.739285	step_per_second:             143.0	train_loss:              28.507536	train_reward_avg:            1.875
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:19: Task: T0         | Train_count:        20 | Steps:     10738 | Elapsed time: 24 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         3.101209	mean_explore_ms:        833.905041	mean_inference_ms:        3.083428	mean_loop_time_ms:      592.337334
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.519132	mean_restore_model_ms:   36.686122	mean_train_time_ms:      28.818321	mean_wait_model_ms:     1675.108671
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    551.666391	step_per_second:             434.0	train_loss:              -9.068089	train_reward_avg:             1.25
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:19: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:19: init explorer with id: 3, buf_path: /tmp/plasma_share69891
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:21: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:22: speedup(3): binding env 3 to CPU 4
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:22: init explorer with id: 4, buf_path: /tmp/plasma_share69891
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:24: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:25: speedup(3): binding env 4 to CPU 5
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:26: Task: T0         | Train_count:        24 | Steps:     12559 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         2.641561	mean_explore_ms:        805.640817	mean_inference_ms:        3.261165	mean_loop_time_ms:      391.933012
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     1.538491	mean_restore_model_ms:   28.300762	mean_train_time_ms:      27.554381	mean_wait_model_ms:     2727.991422
[2m[36m(train_xt pid=58142)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=58142)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=58142)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=58142)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945941575241063.yaml
[2m[36m(train_xt pid=58142)[0m run_log ======================== /tmp/test_opt_bys16945941575241063.log
[2m[36m(train_xt pid=57578)[0m start_core ======================================== True
[2m[36m(train_xt pid=57578)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=57623)[0m plasma_store -m 100000000 -s /tmp/plasma68159T0
[2m[36m(train_xt pid=57578)[0m plasma_store -m 1000000000 -s /tmp/plasma68133
[2m[36m(train_xt pid=57578)[0m self.time_record_filename ============= /tmp/16945941514261553
== Status ==
Current time: 2023-09-13 16:36:02 (running for 00:02:53.57)
Memory usage on this node: 22.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=58142)[0m start_core ======================================== True
[2m[36m(train_xt pid=58142)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=58142)[0m plasma_store -m 1000000000 -s /tmp/plasma68739
[2m[36m(train_xt pid=58142)[0m self.time_record_filename ============= /tmp/16945941575241063
[2m[36m(train_xt pid=57578)[0m plasma_store -m 100000000 -s /tmp/plasma68781T0
== Status ==
Current time: 2023-09-13 16:36:07 (running for 00:02:58.58)
Memory usage on this node: 24.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=58142)[0m plasma_store -m 100000000 -s /tmp/plasma69891T0
== Status ==
Current time: 2023-09-13 16:36:12 (running for 00:03:03.58)
Memory usage on this node: 24.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:36:17 (running for 00:03:08.59)
Memory usage on this node: 25.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:36:22 (running for 00:03:13.59)
Memory usage on this node: 26.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:36:27 (running for 00:03:18.60)
Memory usage on this node: 26.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:36:32 (running for 00:03:23.61)
Memory usage on this node: 27.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:     354.93319	step_per_second:             494.0	train_loss:             118.806046	train_reward_avg:         1.433333
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58142)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.run()
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:29: Task: T0         | Train_count:         2 | Steps:      1149 | Elapsed time: 23 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         6.558245	mean_explore_ms:        1425.572395	mean_inference_ms:        4.116204	mean_loop_time_ms:        49.82686
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     1.155059	mean_restore_model_ms:   81.212425	mean_train_time_ms:     684.097211	mean_wait_model_ms:     7640.422678
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    7050.346851	step_per_second:              49.0	train_loss:              -8.618244	train_reward_avg:              0.0
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:33: Task: T0         | Train_count:        40 | Steps:     20939 | Elapsed time: 38 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         3.187924	mean_explore_ms:        841.813842	mean_inference_ms:        3.094673	mean_loop_time_ms:      696.700013
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.489484	mean_restore_model_ms:   27.682583	mean_train_time_ms:      27.903068	mean_wait_model_ms:     1254.504681
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    659.576261	step_per_second:             541.0	train_loss:             136.010406	train_reward_avg:             1.45
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:34: Task: T0         | Train_count:        44 | Steps:     22983 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         2.788166	mean_explore_ms:        813.010242	mean_inference_ms:        3.227705	mean_loop_time_ms:      437.749946
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     1.725924	mean_restore_model_ms:   21.143013	mean_train_time_ms:      27.266562	mean_wait_model_ms:     1964.224444
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    400.924599	step_per_second:             672.0	train_loss:             -76.356682	train_reward_avg:             1.45
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:38: Task: T0         | Train_count:        30 | Steps:     11847 | Elapsed time: 32 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         6.615793	mean_explore_ms:        1387.27604	mean_inference_ms:        3.892006	mean_loop_time_ms:      282.585382
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     1.069188	mean_restore_model_ms:   47.926161	mean_train_time_ms:      21.912062	mean_wait_model_ms:     4565.021197
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    252.660906	step_per_second:             369.0	train_loss:             -11.968136	train_reward_avg:         0.666667
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:43: Task: T0         | Train_count:        64 | Steps:     33252 | Elapsed time: 43 seconds
[2m[36m(train_xt pid=57578)[0m mean_env_step_ms:         3.059132	mean_explore_ms:        848.819673	mean_inference_ms:        3.261068	mean_loop_time_ms:       447.99763
[2m[36m(train_xt pid=57578)[0m mean_prepare_data_ms:     1.686668	mean_restore_model_ms:   17.302295	mean_train_time_ms:      28.781676	mean_wait_model_ms:     1583.56899
[2m[36m(train_xt pid=57578)[0m mean_wait_sample_ms:    409.899724	step_per_second:             771.0	train_loss:             -57.182354	train_reward_avg:         1.322222
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:46: Task: T0         | Train_count:        56 | Steps:     21858 | Elapsed time: 40 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         6.405936	mean_explore_ms:        1345.89927	mean_inference_ms:        3.826102	mean_loop_time_ms:      329.300165
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:     1.150119	mean_restore_model_ms:   35.183595	mean_train_time_ms:      23.468137	mean_wait_model_ms:     3253.052656
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    297.837579	step_per_second:             543.0	train_loss:             -114.222076	train_reward_avg:              1.2
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:48: Task: T0         | Train_count:        60 | Steps:     31155 | Elapsed time: 54 seconds
[2m[36m(train_xt pid=57623)[0m mean_env_step_ms:         3.859929	mean_explore_ms:        936.945534	mean_inference_ms:        3.203665	mean_loop_time_ms:      767.980039
[2m[36m(train_xt pid=57623)[0m mean_prepare_data_ms:     1.450944	mean_restore_model_ms:   19.478846	mean_train_time_ms:      28.975475	mean_wait_model_ms:     937.809539
[2m[36m(train_xt pid=57623)[0m mean_wait_sample_ms:    729.416966	step_per_second:             576.0	train_loss:             104.012184	train_reward_avg:         1.444444
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57578)[0m /tmp/plasma68133:   
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:52: broker status timeout!
[2m[36m(train_xt pid=57578)[0m /tmp/plasma_share68781:
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:53: Task: T0         | Train_count:        84 | Steps:     32283 | Elapsed time: 47 seconds
[2m[36m(train_xt pid=58142)[0m mean_env_step_ms:         6.086151	mean_explore_ms:        1279.002562	mean_inference_ms:        3.648273	mean_loop_time_ms:      267.178953
[2m[36m(train_xt pid=58142)[0m mean_prepare_data_ms:      1.19803	mean_restore_model_ms:   30.170664	mean_train_time_ms:      23.077857	mean_wait_model_ms:     2699.24517
[2m[36m(train_xt pid=58142)[0m mean_wait_sample_ms:    236.903334	step_per_second:             680.0	train_loss:              32.880543	train_reward_avg:         1.282051
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57578)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:36:54: Finished train job normally.
[2m[36m(train_xt pid=57578)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m [I 2023-09-13 16:36:54,998] Trial 7 finished with value: 415.0453955901427 and parameters: {'env_pool_size': 5, 'env_pool_wait_nums': 4, 'infer_size': 3}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=57578)[0m /tmp/plasma68781T0: 
[2m[36m(train_xt pid=57578)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57578)[0m Instructions for updating:
[2m[36m(train_xt pid=57578)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=58142)[0m /tmp/plasma68739:   
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:00: broker status timeout!
[2m[36m(train_xt pid=58142)[0m /tmp/plasma_share69891:
[2m[36m(train_xt pid=57578)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:02: 
[2m[36m(train_xt pid=57578)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m  XT start work...
[2m[36m(train_xt pid=57578)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945942160422244.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57578)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m /tmp/plasma68084:   
[2m[36m(train_xt pid=58142)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:02: Finished train job normally.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:02: init learner with:
[2m[36m(train_xt pid=57578)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57578)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57578)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57578)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57578)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57578)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57578)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=57578)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57578)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57578)[0m                           'save_model': True,
[2m[36m(train_xt pid=57578)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57578)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57578)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57578)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57578)[0m                                    'model_config': {'LR': 0.004340898,
[2m[36m(train_xt pid=57578)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57578)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57578)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57578)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57578)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57578)[0m                                                 84,
[2m[36m(train_xt pid=57578)[0m                                                 4],
[2m[36m(train_xt pid=57578)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57578)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57578)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57578)[0m              'id': 'ImpalaCnnOpt_now_time_16945942160422244',
[2m[36m(train_xt pid=57578)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57578)[0m 'env_num': 5,
[2m[36m(train_xt pid=57578)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57578)[0m                         'size': 4,
[2m[36m(train_xt pid=57578)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=57578)[0m                         'vision': False,
[2m[36m(train_xt pid=57578)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=57578)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57578)[0m             'now_time': '16945942160422244'},
[2m[36m(train_xt pid=57578)[0m 'gpu': -1,
[2m[36m(train_xt pid=57578)[0m 'group_num': 1,
[2m[36m(train_xt pid=57578)[0m 'lock': 1,
[2m[36m(train_xt pid=57578)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57578)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57578)[0m                        'model_config': {'LR': 0.004340898,
[2m[36m(train_xt pid=57578)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57578)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57578)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57578)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57578)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57578)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57578)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57578)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57578)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57578)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57578)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57578)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57578)[0m                                     84,
[2m[36m(train_xt pid=57578)[0m                                     4],
== Status ==
Current time: 2023-09-13 16:36:37 (running for 00:03:28.61)
Memory usage on this node: 27.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:36:42 (running for 00:03:33.62)
Memory usage on this node: 27.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:36:47 (running for 00:03:38.63)
Memory usage on this node: 27.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m  68786
== Status ==
Current time: 2023-09-13 16:36:52 (running for 00:03:43.63)
Memory usage on this node: 27.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m  69896
[2m[36m(train_xt pid=57578)[0m good
[2m[36m(train_xt pid=57578)[0m log filename ================== /tmp/16945941514261553
[2m[36m(train_xt pid=57578)[0m step_per_second ============ 771.0
[2m[36m(train_xt pid=57578)[0m tune_cost =================== True
[2m[36m(train_xt pid=57578)[0m  69908
[2m[36m(train_xt pid=57578)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=57578)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=57578)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=57578)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945942160422244.yaml
[2m[36m(train_xt pid=57578)[0m run_log ======================== /tmp/test_opt_bys16945942160422244.log
== Status ==
Current time: 2023-09-13 16:36:57 (running for 00:03:48.64)
Memory usage on this node: 25.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=58142)[0m  69897
[2m[36m(train_xt pid=58142)[0m  71005
== Status ==
Current time: 2023-09-13 16:37:02 (running for 00:03:53.64)
Memory usage on this node: 25.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m  68161
[2m[36m(train_xt pid=57578)[0m start_core ======================================== True
[2m[36m(train_xt pid=57578)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=58142)[0m good
[2m[36m(train_xt pid=57578)[0m plasma_store -m 1000000000 -s /tmp/plasma72738
[2m[36m(train_xt pid=57578)[0m self.time_record_filename ============= /tmp/16945942160422244
[2m[36m(train_xt pid=58142)[0m log filename ================== /tmp/16945941575241063
[2m[36m(train_xt pid=58142)[0m step_per_second ============ 680.0
[2m[36m(train_xt pid=58142)[0m tune_cost =================== True
[2m[36m(train_xt pid=58142)[0m  71013
[2m[36m(train_xt pid=57578)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57578)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57578)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57578)[0m                'dummy_user',
[2m[36m(train_xt pid=57578)[0m                'dummy_password')],
[2m[36m(train_xt pid=57578)[0m 'speedup': 3,
[2m[36m(train_xt pid=57578)[0m 'start_core': True}
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:02: Init Broker server info:
[2m[36m(train_xt pid=57578)[0m {'recv': {'port': 29686,
[2m[36m(train_xt pid=57578)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57578)[0m 'send': [{'port': 36648,
[2m[36m(train_xt pid=57578)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:02: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 29686, 36648, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:02: launch local broker with lib success
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:02: broker status timeout!
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:02: **********
[2m[36m(train_xt pid=57578)[0m workspace:
[2m[36m(train_xt pid=57578)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945942160422244
[2m[36m(train_xt pid=57578)[0m 
[2m[36m(train_xt pid=58142)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m [I 2023-09-13 16:37:03,012] Trial 8 finished with value: 470.5882352941176 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 5}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=58142)[0m /tmp/plasma69891T0: 
[2m[36m(train_xt pid=57623)[0m /tmp/plasma_share68159:
[2m[36m(train_xt pid=57623)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:04: Finished train job normally.
[2m[36m(train_xt pid=57623)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m [I 2023-09-13 16:37:05,232] Trial 6 finished with value: 416.66666666666663 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 2}. Best is trial 1 with value: 404.04040404040404.
[2m[36m(train_xt pid=57578)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57578)[0m Instructions for updating:
[2m[36m(train_xt pid=57578)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57623)[0m /tmp/plasma68159T0: 
[2m[36m(train_xt pid=58142)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58142)[0m Instructions for updating:
[2m[36m(train_xt pid=58142)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:08: set verbosity in broker: info
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:08: init broker with id-0
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:08: share buf: plasma_store -m 400000000 -s /tmp/plasma_share72800
[2m[36m(train_xt pid=57623)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57623)[0m Instructions for updating:
[2m[36m(train_xt pid=57623)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57578)[0m   self.run()
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:08: init explorer with id: 0, buf_path: /tmp/plasma_share72800
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:08: init agent group for: explore
[2m[36m(train_xt pid=58142)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:10: 
[2m[36m(train_xt pid=58142)[0m **************************************************
[2m[36m(train_xt pid=58142)[0m  XT start work...
[2m[36m(train_xt pid=58142)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945942240442493.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=58142)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:10: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:10: init learner with:
[2m[36m(train_xt pid=58142)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=58142)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=58142)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=58142)[0m               'agent_num': 1},
[2m[36m(train_xt pid=58142)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=58142)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=58142)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=58142)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=58142)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=58142)[0m                           'save_model': True,
[2m[36m(train_xt pid=58142)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=58142)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=58142)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58142)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=58142)[0m                                    'model_config': {'LR': 0.001242505,
[2m[36m(train_xt pid=58142)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=58142)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58142)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=58142)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58142)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=58142)[0m                                                 84,
[2m[36m(train_xt pid=58142)[0m                                                 4],
[2m[36m(train_xt pid=58142)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=58142)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=58142)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=58142)[0m              'id': 'ImpalaCnnOpt_now_time_16945942240442493',
[2m[36m(train_xt pid=58142)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=58142)[0m 'env_num': 3,
[2m[36m(train_xt pid=58142)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=58142)[0m                         'size': 3,
[2m[36m(train_xt pid=58142)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=58142)[0m                         'vision': False,
[2m[36m(train_xt pid=58142)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=58142)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=58142)[0m             'now_time': '16945942240442493'},
[2m[36m(train_xt pid=58142)[0m 'gpu': -1,
[2m[36m(train_xt pid=58142)[0m 'group_num': 1,
[2m[36m(train_xt pid=58142)[0m 'lock': 1,
[2m[36m(train_xt pid=58142)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58142)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=58142)[0m                        'model_config': {'LR': 0.001242505,
[2m[36m(train_xt pid=58142)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=58142)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=58142)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=58142)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=58142)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58142)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=58142)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=58142)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=58142)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=58142)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=58142)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58142)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=58142)[0m                                     84,
[2m[36m(train_xt pid=58142)[0m                                     4],
[2m[36m(train_xt pid=58142)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=58142)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=58142)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=58142)[0m                'dummy_user',
[2m[36m(train_xt pid=58142)[0m                'dummy_password')],
[2m[36m(train_xt pid=58142)[0m 'speedup': 3,
[2m[36m(train_xt pid=58142)[0m 'start_core': True}
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:10: Init Broker server info:
[2m[36m(train_xt pid=58142)[0m {'recv': {'port': 21438,
[2m[36m(train_xt pid=58142)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=58142)[0m 'send': [{'port': 20688,
[2m[36m(train_xt pid=58142)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:10: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 21438, 20688, '127.0.0.1', 'info')
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:10: launch local broker with lib success
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:10: **********
[2m[36m(train_xt pid=58142)[0m workspace:
[2m[36m(train_xt pid=58142)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945942240442493
[2m[36m(train_xt pid=58142)[0m 
[2m[36m(train_xt pid=57623)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:11: 
[2m[36m(train_xt pid=57623)[0m **************************************************
[2m[36m(train_xt pid=57623)[0m  XT start work...
[2m[36m(train_xt pid=57623)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945942262670822.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57623)[0m **************************************************
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:11: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:12: init explorer with id: 1, buf_path: /tmp/plasma_share72800
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:12: init learner with:
[2m[36m(train_xt pid=57623)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57623)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57623)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57623)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57623)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57623)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57623)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=57623)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57623)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57623)[0m                           'save_model': True,
[2m[36m(train_xt pid=57623)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57623)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57623)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57623)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57623)[0m                                    'model_config': {'LR': 0.003159321,
[2m[36m(train_xt pid=57623)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57623)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57623)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57623)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57623)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57623)[0m                                                 84,
[2m[36m(train_xt pid=57623)[0m                                                 4],
[2m[36m(train_xt pid=57623)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57623)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57623)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57623)[0m              'id': 'ImpalaCnnOpt_now_time_16945942262670822',
[2m[36m(train_xt pid=57623)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57623)[0m 'env_num': 2,
[2m[36m(train_xt pid=57623)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57623)[0m                         'size': 2,
[2m[36m(train_xt pid=57623)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=57623)[0m                         'vision': False,
[2m[36m(train_xt pid=57623)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=57623)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57623)[0m             'now_time': '16945942262670822'},
[2m[36m(train_xt pid=57623)[0m 'gpu': -1,
[2m[36m(train_xt pid=57623)[0m 'group_num': 1,
[2m[36m(train_xt pid=57623)[0m 'lock': 1,
[2m[36m(train_xt pid=57623)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57623)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57623)[0m                        'model_config': {'LR': 0.003159321,
[2m[36m(train_xt pid=57623)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57623)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57623)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57623)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57623)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57623)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57623)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57623)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57623)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57623)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57623)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57623)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57623)[0m                                     84,
[2m[36m(train_xt pid=57623)[0m                                     4],
[2m[36m(train_xt pid=57623)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57623)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57623)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57623)[0m                'dummy_user',
[2m[36m(train_xt pid=57623)[0m                'dummy_password')],
[2m[36m(train_xt pid=57623)[0m 'speedup': 3,
[2m[36m(train_xt pid=57623)[0m 'start_core': True}
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:12: Init Broker server info:
[2m[36m(train_xt pid=57623)[0m {'recv': {'port': 23127,
[2m[36m(train_xt pid=57623)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57623)[0m 'send': [{'port': 36738,
[2m[36m(train_xt pid=57623)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:12: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 23127, 36738, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:12: launch local broker with lib success
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:12: **********
[2m[36m(train_xt pid=57623)[0m workspace:
[2m[36m(train_xt pid=57623)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945942262670822
[2m[36m(train_xt pid=57623)[0m 
[2m[36m(train_xt pid=58142)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58142)[0m Instructions for updating:
[2m[36m(train_xt pid=58142)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:13: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:15: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:15: init explorer with id: 2, buf_path: /tmp/plasma_share72800
[2m[36m(train_xt pid=57623)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57623)[0m Instructions for updating:
[2m[36m(train_xt pid=57623)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=58142)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:16: set verbosity in broker: info
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:16: init broker with id-0
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:16: share buf: plasma_store -m 400000000 -s /tmp/plasma_share73701
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:16: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58142)[0m   self.run()
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:16: init explorer with id: 0, buf_path: /tmp/plasma_share73701
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:16: init agent group for: explore
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:18: speedup(3): binding env 2 to CPU 3
[2m[36m(train_xt pid=57623)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:18: set verbosity in broker: info
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:18: init broker with id-0
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:18: share buf: plasma_store -m 400000000 -s /tmp/plasma_share74255
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:18: init explorer with id: 3, buf_path: /tmp/plasma_share72800
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:18: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57623)[0m   self.run()
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:18: init explorer with id: 0, buf_path: /tmp/plasma_share74255
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:18: init agent group for: explore
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:19: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:19: init explorer with id: 1, buf_path: /tmp/plasma_share73701
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:19: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:20: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:21: speedup(3): binding env 3 to CPU 4
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:21: init explorer with id: 4, buf_path: /tmp/plasma_share72800
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:21: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:21: speedup(3): binding env 0 to CPU 1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:21: init explorer with id: 1, buf_path: /tmp/plasma_share74255
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:22: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:23: init explorer with id: 2, buf_path: /tmp/plasma_share73701
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:23: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:23: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57578)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:24: speedup(3): binding env 4 to CPU 5
[2m[36m(train_xt pid=57623)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:24: speedup(3): binding env 1 to CPU 2
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:24: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58142)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:37:26: speedup(3): binding env 2 to CPU 3
2023-09-13 16:37:27,345	WARNING tune.py:687 -- Stop signal received (e.g. via SIGINT/Ctrl+C), ending Ray Tune run. This will try to checkpoint the experiment state one last time. Press CTRL+C (or send SIGINT/SIGKILL/SIGTERM) to skip. 

[2m[36m(train_xt pid=57623)[0m  68753
[2m[36m(train_xt pid=58142)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=58142)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=58142)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=58142)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945942240442493.yaml
[2m[36m(train_xt pid=58142)[0m run_log ======================== /tmp/test_opt_bys16945942240442493.log
[2m[36m(train_xt pid=57623)[0m good
[2m[36m(train_xt pid=57623)[0m log filename ================== /tmp/1694594144918212
[2m[36m(train_xt pid=57623)[0m step_per_second ============ 576.0
[2m[36m(train_xt pid=57623)[0m tune_cost =================== True
[2m[36m(train_xt pid=57623)[0m  68767
[2m[36m(train_xt pid=57623)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=57623)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=57623)[0m get max throughput start_core============================= True
[2m[36m(train_xt pid=57623)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945942262670822.yaml
[2m[36m(train_xt pid=57623)[0m run_log ======================== /tmp/test_opt_bys16945942262670822.log
== Status ==
Current time: 2023-09-13 16:37:07 (running for 00:03:58.65)
Memory usage on this node: 22.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57578)[0m plasma_store -m 100000000 -s /tmp/plasma72800T0
[2m[36m(train_xt pid=58142)[0m start_core ======================================== True
[2m[36m(train_xt pid=58142)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=58142)[0m plasma_store -m 1000000000 -s /tmp/plasma73333
[2m[36m(train_xt pid=58142)[0m self.time_record_filename ============= /tmp/16945942240442493
== Status ==
Current time: 2023-09-13 16:37:12 (running for 00:04:03.65)
Memory usage on this node: 23.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m start_core ======================================== True
[2m[36m(train_xt pid=57623)[0m 	[WARN] start_core % 10 == 0 recommended.
[2m[36m(train_xt pid=57623)[0m plasma_store -m 1000000000 -s /tmp/plasma73365
[2m[36m(train_xt pid=57623)[0m self.time_record_filename ============= /tmp/16945942262670822
[2m[36m(train_xt pid=58142)[0m plasma_store -m 100000000 -s /tmp/plasma73701T0
== Status ==
Current time: 2023-09-13 16:37:17 (running for 00:04:08.66)
Memory usage on this node: 25.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57623)[0m plasma_store -m 100000000 -s /tmp/plasma74255T0
== Status ==
Current time: 2023-09-13 16:37:22 (running for 00:04:13.66)
Memory usage on this node: 25.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:37:27 (running for 00:04:18.67)
Memory usage on this node: 27.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:37:27 (running for 00:04:18.67)
Memory usage on this node: 27.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.72 GiB heap, 0.0/72.87 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_2ad5a_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_2ad5a_00000_0_lr=0.0024_2023-09-13_16-33-08/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

Traceback (most recent call last):
  File "test_xt_with_tune.py", line 262, in <module>
    results_grid = tuner.fit()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/tuner.py", line 234, in fit
    return self._local_tuner.fit()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/impl/tuner_internal.py", line 283, in fit
    analysis = self._fit_internal(trainable, param_space)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/impl/tuner_internal.py", line 381, in _fit_internal
    **args,
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/tune.py", line 743, in run
    runner.cleanup()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/execution/trial_runner.py", line 1474, in cleanup
    self.cleanup_trials()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/execution/trial_runner.py", line 1470, in cleanup_trials
    self.trial_executor.cleanup(self.get_trials())
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/execution/ray_trial_executor.py", line 843, in cleanup
    ready, _ = ray.wait(list(self._futures.keys()), timeout=0)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/_private/client_mode_hook.py", line 105, in wrapper
    return func(*args, **kwargs)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/_private/worker.py", line 2471, in wait
    fetch_local,
  File "python/ray/_raylet.pyx", line 1414, in ray._raylet.CoreWorker.wait
  File "python/ray/_raylet.pyx", line 173, in ray._raylet.check_status
KeyboardInterrupt
Error in atexit._run_exitfuncs:
Traceback (most recent call last):
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/_private/client_mode_hook.py", line 105, in wrapper
    return func(*args, **kwargs)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/_private/worker.py", line 1580, in shutdown
    time.sleep(0.5)
KeyboardInterrupt
