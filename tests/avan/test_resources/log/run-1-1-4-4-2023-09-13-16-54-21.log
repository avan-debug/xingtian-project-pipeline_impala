WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
2023-09-13 16:54:32,885	INFO worker.py:1515 -- Started a local Ray instance. View the dashboard at [1m[32mhttp://127.0.0.1:8265 [39m[22m
2023-09-13 16:54:35,202	WARNING function_trainable.py:620 -- Function checkpointing is disabled. This may result in unexpected behavior when using checkpointing features or certain schedulers. To enable, set the train function arguments to be `func(config, checkpoint_dir=None)`.
2023-09-13 16:54:35,256	WARNING trial_runner.py:1583 -- You are trying to access _search_alg interface of TrialRunner in TrialScheduler, which is being restricted. If you believe it is reasonable for your scheduler to access this TrialRunner API, please reach out to Ray team on GitHub. A more strict API access pattern would be enforced starting 1.12s.0
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py:166: ExperimentalWarning: BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57746)[0m   n_startup_trials=1,
[2m[36m(train_xt pid=57746)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57746)[0m Instructions for updating:
[2m[36m(train_xt pid=57746)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py:166: ExperimentalWarning: BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57794)[0m   n_startup_trials=1,
[2m[36m(train_xt pid=57746)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:49: 
[2m[36m(train_xt pid=57746)[0m **************************************************
[2m[36m(train_xt pid=57746)[0m  XT start work...
[2m[36m(train_xt pid=57746)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945952836956935.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57746)[0m **************************************************
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:50: init learner with:
[2m[36m(train_xt pid=57746)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57746)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57746)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57746)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57746)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57746)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57746)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=57746)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57746)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57746)[0m                           'save_model': True,
[2m[36m(train_xt pid=57746)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57746)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57746)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57746)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57746)[0m                                    'model_config': {'LR': 0.004727524,
[2m[36m(train_xt pid=57746)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57746)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57746)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57746)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57746)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57746)[0m                                                 84,
[2m[36m(train_xt pid=57746)[0m                                                 4],
[2m[36m(train_xt pid=57746)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57746)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57746)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57746)[0m              'id': 'ImpalaCnnOpt_now_time_16945952836956935',
[2m[36m(train_xt pid=57746)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57746)[0m 'env_num': 4,
[2m[36m(train_xt pid=57746)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57746)[0m                         'size': 2,
[2m[36m(train_xt pid=57746)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=57746)[0m                         'vision': False,
[2m[36m(train_xt pid=57746)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=57746)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57746)[0m             'now_time': '16945952836956935'},
[2m[36m(train_xt pid=57746)[0m 'gpu': -1,
[2m[36m(train_xt pid=57746)[0m 'group_num': 1,
[2m[36m(train_xt pid=57746)[0m 'lock': 1,
[2m[36m(train_xt pid=57746)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57746)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57746)[0m                        'model_config': {'LR': 0.004727524,
[2m[36m(train_xt pid=57746)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57746)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57746)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57746)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57746)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57746)[0m                                     84,
[2m[36m(train_xt pid=57746)[0m                                     4],
[2m[36m(train_xt pid=57746)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57746)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57746)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57746)[0m                'dummy_user',
[2m[36m(train_xt pid=57746)[0m                'dummy_password')],
[2m[36m(train_xt pid=57746)[0m 'speedup': 3,
[2m[36m(train_xt pid=57746)[0m 'start_core': 0}
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:50: Init Broker server info:
[2m[36m(train_xt pid=57746)[0m {'recv': {'port': 21086,
[2m[36m(train_xt pid=57746)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57746)[0m 'send': [{'port': 28249,
[2m[36m(train_xt pid=57746)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:50: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 21086, 28249, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:50: launch local broker with lib success
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:50: **********
[2m[36m(train_xt pid=57746)[0m workspace:
[2m[36m(train_xt pid=57746)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945952836956935
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57746)[0m Instructions for updating:
[2m[36m(train_xt pid=57746)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57794)[0m Instructions for updating:
[2m[36m(train_xt pid=57794)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py:166: ExperimentalWarning: BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57857)[0m   n_startup_trials=1,
[2m[36m(train_xt pid=57746)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:55: set verbosity in broker: info
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:55: init broker with id-0
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:55: share buf: plasma_store -m 400000000 -s /tmp/plasma_share57878
[2m[36m(train_xt pid=57794)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:56: 
[2m[36m(train_xt pid=57794)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m  XT start work...
[2m[36m(train_xt pid=57794)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694595290293426.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57794)[0m **************************************************
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.run()
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:56: init explorer with id: 0, buf_path: /tmp/plasma_share57878
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:56: init agent group for: explore
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:56: init learner with:
[2m[36m(train_xt pid=57794)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57794)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57794)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57794)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57794)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57794)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57794)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=57794)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57794)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57794)[0m                           'save_model': True,
[2m[36m(train_xt pid=57794)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57794)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57794)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57794)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57794)[0m                                    'model_config': {'LR': 0.001431732,
[2m[36m(train_xt pid=57794)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57794)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57794)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57794)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57794)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57794)[0m                                                 84,
[2m[36m(train_xt pid=57794)[0m                                                 4],
[2m[36m(train_xt pid=57794)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57794)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57794)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57794)[0m              'id': 'ImpalaCnnOpt_now_time_1694595290293426',
[2m[36m(train_xt pid=57794)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57794)[0m 'env_num': 3,
[2m[36m(train_xt pid=57794)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57794)[0m                         'size': 2,
[2m[36m(train_xt pid=57794)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=57794)[0m                         'vision': False,
[2m[36m(train_xt pid=57794)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=57794)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57794)[0m             'now_time': '1694595290293426'},
[2m[36m(train_xt pid=57794)[0m 'gpu': -1,
[2m[36m(train_xt pid=57794)[0m 'group_num': 1,
[2m[36m(train_xt pid=57794)[0m 'lock': 1,
[2m[36m(train_xt pid=57794)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57794)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57794)[0m                        'model_config': {'LR': 0.001431732,
[2m[36m(train_xt pid=57794)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57794)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57794)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57794)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57794)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57794)[0m                                     84,
[2m[36m(train_xt pid=57794)[0m                                     4],
[2m[36m(train_xt pid=57794)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57794)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57794)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57794)[0m                'dummy_user',
[2m[36m(train_xt pid=57794)[0m                'dummy_password')],
[2m[36m(train_xt pid=57794)[0m 'speedup': 3,
[2m[36m(train_xt pid=57794)[0m 'start_core': 10}
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:56: Init Broker server info:
[2m[36m(train_xt pid=57794)[0m {'recv': {'port': 29321,
[2m[36m(train_xt pid=57794)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57794)[0m 'send': [{'port': 21451,
[2m[36m(train_xt pid=57794)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:56: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 29321, 21451, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:56: launch local broker with lib success
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:56: **********
[2m[36m(train_xt pid=57794)[0m workspace:
[2m[36m(train_xt pid=57794)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_1694595290293426
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:58: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:59: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:54:59: init explorer with id: 1, buf_path: /tmp/plasma_share57878
[2m[36m(train_xt pid=57794)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57794)[0m Instructions for updating:
[2m[36m(train_xt pid=57794)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57857)[0m Instructions for updating:
[2m[36m(train_xt pid=57857)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:01: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:02: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:02: init explorer with id: 2, buf_path: /tmp/plasma_share57878
[2m[36m(train_xt pid=57794)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:02: set verbosity in broker: info
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:02: init broker with id-0
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:02: share buf: plasma_store -m 400000000 -s /tmp/plasma_share58606
[2m[36m(train_xt pid=57857)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:02: 
[2m[36m(train_xt pid=57857)[0m **************************************************
[2m[36m(train_xt pid=57857)[0m  XT start work...
[2m[36m(train_xt pid=57857)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945952969102023.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57857)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.run()
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:02: init explorer with id: 0, buf_path: /tmp/plasma_share58606
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:03: init agent group for: explore
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:03: init learner with:
[2m[36m(train_xt pid=57857)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57857)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57857)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57857)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57857)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57857)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57857)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=57857)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57857)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57857)[0m                           'save_model': True,
[2m[36m(train_xt pid=57857)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57857)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57857)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57857)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57857)[0m                                    'model_config': {'LR': 0.00233677,
[2m[36m(train_xt pid=57857)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57857)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57857)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57857)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57857)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57857)[0m                                                 84,
[2m[36m(train_xt pid=57857)[0m                                                 4],
[2m[36m(train_xt pid=57857)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57857)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57857)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57857)[0m              'id': 'ImpalaCnnOpt_now_time_16945952969102023',
[2m[36m(train_xt pid=57857)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57857)[0m 'env_num': 3,
[2m[36m(train_xt pid=57857)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57857)[0m                         'size': 3,
[2m[36m(train_xt pid=57857)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=57857)[0m                         'vision': False,
[2m[36m(train_xt pid=57857)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=57857)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57857)[0m             'now_time': '16945952969102023'},
[2m[36m(train_xt pid=57857)[0m 'gpu': -1,
[2m[36m(train_xt pid=57857)[0m 'group_num': 1,
[2m[36m(train_xt pid=57857)[0m 'lock': 1,
[2m[36m(train_xt pid=57857)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57857)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57857)[0m                        'model_config': {'LR': 0.00233677,
[2m[36m(train_xt pid=57857)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57857)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57857)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57857)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57857)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57857)[0m                                     84,
[2m[36m(train_xt pid=57857)[0m                                     4],
[2m[36m(train_xt pid=57857)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57857)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57857)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57857)[0m                'dummy_user',
[2m[36m(train_xt pid=57857)[0m                'dummy_password')],
[2m[36m(train_xt pid=57857)[0m 'speedup': 3,
[2m[36m(train_xt pid=57857)[0m 'start_core': 20}
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:03: Init Broker server info:
[2m[36m(train_xt pid=57857)[0m {'recv': {'port': 27286,
[2m[36m(train_xt pid=57857)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57857)[0m 'send': [{'port': 39748,
[2m[36m(train_xt pid=57857)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:03: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 27286, 39748, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:03: launch local broker with lib success
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:03: **********
[2m[36m(train_xt pid=57857)[0m workspace:
[2m[36m(train_xt pid=57857)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945952969102023
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/test_resources/test_optuna_bys.py:166: ExperimentalWarning: BoTorchSampler is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=58659)[0m   n_startup_trials=1,
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:04: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:04: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:05: speedup(3): binding env 2 to CPU 2
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:05: init explorer with id: 3, buf_path: /tmp/plasma_share57878
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:06: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=57857)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57857)[0m Instructions for updating:
[2m[36m(train_xt pid=57857)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:06: init explorer with id: 1, buf_path: /tmp/plasma_share58606
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:07: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58659)[0m Instructions for updating:
[2m[36m(train_xt pid=58659)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:07: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:08: speedup(3): binding env 3 to CPU 3
[2m[36m(train_xt pid=57857)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:08: set verbosity in broker: info
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:08: init broker with id-0
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:08: share buf: plasma_store -m 400000000 -s /tmp/plasma_share60016
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:09: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:09: init explorer with id: 2, buf_path: /tmp/plasma_share58606
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.run()
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:09: init explorer with id: 0, buf_path: /tmp/plasma_share60016
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:09: init agent group for: explore
[2m[36m(train_xt pid=58659)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:10: 
[2m[36m(train_xt pid=58659)[0m **************************************************
[2m[36m(train_xt pid=58659)[0m  XT start work...
[2m[36m(train_xt pid=58659)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953050909235.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=58659)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:11: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:11: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:11: init learner with:
[2m[36m(train_xt pid=58659)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=58659)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=58659)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=58659)[0m               'agent_num': 1},
[2m[36m(train_xt pid=58659)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=58659)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=58659)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=58659)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=58659)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=58659)[0m                           'save_model': True,
[2m[36m(train_xt pid=58659)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=58659)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=58659)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58659)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=58659)[0m                                    'model_config': {'LR': 0.003470463,
[2m[36m(train_xt pid=58659)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=58659)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58659)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=58659)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58659)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=58659)[0m                                                 84,
[2m[36m(train_xt pid=58659)[0m                                                 4],
[2m[36m(train_xt pid=58659)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=58659)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=58659)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=58659)[0m              'id': 'ImpalaCnnOpt_now_time_16945953050909235',
[2m[36m(train_xt pid=58659)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=58659)[0m 'env_num': 4,
[2m[36m(train_xt pid=58659)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=58659)[0m                         'size': 3,
[2m[36m(train_xt pid=58659)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=58659)[0m                         'vision': False,
[2m[36m(train_xt pid=58659)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=58659)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=58659)[0m             'now_time': '16945953050909235'},
[2m[36m(train_xt pid=58659)[0m 'gpu': -1,
[2m[36m(train_xt pid=58659)[0m 'group_num': 1,
[2m[36m(train_xt pid=58659)[0m 'lock': 1,
[2m[36m(train_xt pid=58659)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58659)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=58659)[0m                        'model_config': {'LR': 0.003470463,
[2m[36m(train_xt pid=58659)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=58659)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58659)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=58659)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58659)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=58659)[0m                                     84,
[2m[36m(train_xt pid=58659)[0m                                     4],
[2m[36m(train_xt pid=58659)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=58659)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=58659)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=58659)[0m                'dummy_user',
[2m[36m(train_xt pid=58659)[0m                'dummy_password')],
[2m[36m(train_xt pid=58659)[0m 'speedup': 3,
[2m[36m(train_xt pid=58659)[0m 'start_core': 30}
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:11: Init Broker server info:
[2m[36m(train_xt pid=58659)[0m {'recv': {'port': 24686,
[2m[36m(train_xt pid=58659)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=58659)[0m 'send': [{'port': 31427,
[2m[36m(train_xt pid=58659)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:11: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 24686, 31427, '127.0.0.1', 'info')
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:11: launch local broker with lib success
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:11: **********
[2m[36m(train_xt pid=58659)[0m workspace:
[2m[36m(train_xt pid=58659)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945953050909235
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.run()
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:11: Task: T0         | Train_count:         2 | Steps:       765 | Elapsed time: 19 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         3.139806	mean_explore_ms:        767.844737	mean_inference_ms:        2.579548	mean_loop_time_ms:       51.799774
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.794649	mean_restore_model_ms:   56.903481	mean_train_time_ms:     635.228713	mean_wait_model_ms:     6062.644422
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    5717.326244	step_per_second:              39.0	train_loss:              10.071098	train_reward_avg:              0.0
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:12: speedup(3): binding env 2 to CPU 12
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:12: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:12: init explorer with id: 1, buf_path: /tmp/plasma_share60016
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:14: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58659)[0m Instructions for updating:
[2m[36m(train_xt pid=58659)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.run()
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:15: Task: T0         | Train_count:         0 | Steps:       253 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.528842	mean_explore_ms:        705.786467	mean_inference_ms:        2.702701	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:      1.91164	mean_restore_model_ms:   52.690188	mean_train_time_ms:            nan	mean_wait_model_ms:     4461.871545
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    13985.671997	step_per_second:              15.0	train_loss:              -3.538476	train_reward_avg:              0.0
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:15: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:15: init explorer with id: 2, buf_path: /tmp/plasma_share60016
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:17: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:17: set verbosity in broker: infotune_system ================== True
with_samper ================== True
== Status ==
Current time: 2023-09-13 16:54:41 (running for 00:00:06.66)
Memory usage on this node: 15.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 10.0/80 CPUs, 0.4/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (3 PENDING, 1 RUNNING)


[2m[36m(train_xt pid=57746)[0m {'lr': 0.004727524413416425, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=57746)[0m trail id ================= 29b15_00000
[2m[36m(train_xt pid=57746)[0m tune with_samper ===================== True
[2m[36m(train_xt pid=57746)[0m =================with_samper=========================True
[2m[36m(train_xt pid=57746)[0m =================with_samper=========================
[2m[36m(train_xt pid=57746)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=57746)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=57746)[0m get max throughput start_core============================= 0
[2m[36m(train_xt pid=57746)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945952836956935.yaml
[2m[36m(train_xt pid=57746)[0m run_log ======================== /tmp/test_opt_bys16945952836956935.log
== Status ==
Current time: 2023-09-13 16:54:48 (running for 00:00:13.25)
Memory usage on this node: 16.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 20.0/80 CPUs, 0.8/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (2 PENDING, 2 RUNNING)


[2m[36m(train_xt pid=57794)[0m {'lr': 0.001431731842468822, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=57794)[0m trail id ================= 29b15_00001
[2m[36m(train_xt pid=57794)[0m tune with_samper ===================== True
[2m[36m(train_xt pid=57794)[0m =================with_samper=========================True
[2m[36m(train_xt pid=57794)[0m =================with_samper=========================
[2m[36m(train_xt pid=57746)[0m start_core ======================================== 0
[2m[36m(train_xt pid=57794)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=57794)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=57794)[0m get max throughput start_core============================= 10
[2m[36m(train_xt pid=57794)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694595290293426.yaml
[2m[36m(train_xt pid=57794)[0m run_log ======================== /tmp/test_opt_bys1694595290293426.log
[2m[36m(train_xt pid=57746)[0m plasma_store -m 1000000000 -s /tmp/plasma57804
[2m[36m(train_xt pid=57746)[0m self.time_record_filename ============= /tmp/16945952836956935
== Status ==
Current time: 2023-09-13 16:54:55 (running for 00:00:19.82)
Memory usage on this node: 17.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 PENDING, 3 RUNNING)


[2m[36m(train_xt pid=57857)[0m {'lr': 0.002336770201939026, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=57857)[0m trail id ================= 29b15_00002
[2m[36m(train_xt pid=57857)[0m tune with_samper ===================== True
[2m[36m(train_xt pid=57857)[0m =================with_samper=========================True
[2m[36m(train_xt pid=57857)[0m =================with_samper=========================
[2m[36m(train_xt pid=57746)[0m plasma_store -m 100000000 -s /tmp/plasma57878T0
[2m[36m(train_xt pid=57794)[0m start_core ======================================== 10
[2m[36m(train_xt pid=57857)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=57857)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=57857)[0m get max throughput start_core============================= 20
[2m[36m(train_xt pid=57794)[0m plasma_store -m 1000000000 -s /tmp/plasma57893
[2m[36m(train_xt pid=57794)[0m self.time_record_filename ============= /tmp/1694595290293426
[2m[36m(train_xt pid=57857)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945952969102023.yaml
[2m[36m(train_xt pid=57857)[0m run_log ======================== /tmp/test_opt_bys16945952969102023.log
[2m[36m(train_xt pid=57794)[0m plasma_store -m 100000000 -s /tmp/plasma58606T0
== Status ==
Current time: 2023-09-13 16:55:03 (running for 00:00:28.01)
Memory usage on this node: 19.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m {'lr': 0.0034704634546811807, 'checkpoint_interval': 1}
[2m[36m(train_xt pid=58659)[0m trail id ================= 29b15_00003
[2m[36m(train_xt pid=58659)[0m tune with_samper ===================== True
[2m[36m(train_xt pid=57857)[0m start_core ======================================== 20
[2m[36m(train_xt pid=58659)[0m =================with_samper=========================True
[2m[36m(train_xt pid=58659)[0m =================with_samper=========================
[2m[36m(train_xt pid=57857)[0m plasma_store -m 1000000000 -s /tmp/plasma58616
[2m[36m(train_xt pid=57857)[0m self.time_record_filename ============= /tmp/16945952969102023
[2m[36m(train_xt pid=58659)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=58659)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=58659)[0m get max throughput start_core============================= 30
[2m[36m(train_xt pid=58659)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953050909235.yaml
[2m[36m(train_xt pid=58659)[0m run_log ======================== /tmp/test_opt_bys16945953050909235.log
== Status ==
Current time: 2023-09-13 16:55:08 (running for 00:00:33.02)
Memory usage on this node: 20.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57857)[0m plasma_store -m 100000000 -s /tmp/plasma60016T0
[2m[36m(train_xt pid=58659)[0m start_core ======================================== 30
[2m[36m(train_xt pid=58659)[0m plasma_store -m 1000000000 -s /tmp/plasma60794
[2m[36m(train_xt pid=58659)[0m self.time_record_filename ============= /tmp/16945953050909235
== Status ==
Current time: 2023-09-13 16:55:13 (running for 00:00:38.02)
Memory usage on this node: 23.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m plasma_store -m 100000000 -s /tmp/plasma61933T0
== Status ==
Current time: 2023-09-13 16:55:18 (running for 00:00:43.03)
Memory usage on this node: 24.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:17: init broker with id-0
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:17: share buf: plasma_store -m 400000000 -s /tmp/plasma_share61933
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.run()
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:17: init explorer with id: 0, buf_path: /tmp/plasma_share61933
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:18: init agent group for: explore
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:18: speedup(3): binding env 2 to CPU 22
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:19: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:20: Task: T0         | Train_count:        42 | Steps:     10883 | Elapsed time: 28 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         3.059218	mean_explore_ms:        716.393995	mean_inference_ms:        2.369146	mean_loop_time_ms:      220.752394
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.832248	mean_restore_model_ms:     25.5229	mean_train_time_ms:      22.672415	mean_wait_model_ms:     2739.760828
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:     191.02385	step_per_second:             386.0	train_loss:             -65.628654	train_reward_avg:           1.1875
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:20: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:21: init explorer with id: 1, buf_path: /tmp/plasma_share61933
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.run()
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:21: Task: T0         | Train_count:         2 | Steps:       893 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.876052	mean_explore_ms:        795.531591	mean_inference_ms:        2.956948	mean_loop_time_ms:       66.138029
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.231114	mean_restore_model_ms:   50.277154	mean_train_time_ms:     723.466555	mean_wait_model_ms:     4497.95874
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    4604.227146	step_per_second:              55.0	train_loss:               0.901517	train_reward_avg:              0.0
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:22: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:24: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:24: init explorer with id: 2, buf_path: /tmp/plasma_share61933
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:26: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:26: Task: T0         | Train_count:        40 | Steps:     10398 | Elapsed time: 27 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.618347	mean_explore_ms:        669.330324	mean_inference_ms:        2.433313	mean_loop_time_ms:      294.464874
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.050639	mean_restore_model_ms:    24.85449	mean_train_time_ms:       21.29271	mean_wait_model_ms:     2309.78741
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    263.784301	step_per_second:             380.0	train_loss:              61.900356	train_reward_avg:         0.916667
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:27: speedup(3): binding env 2 to CPU 32
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:27: init explorer with id: 3, buf_path: /tmp/plasma_share61933
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:29: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:29: Task: T0         | Train_count:        82 | Steps:     21190 | Elapsed time: 37 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:          2.99638	mean_explore_ms:        700.387367	mean_inference_ms:        2.330162	mean_loop_time_ms:      224.480498
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.988114	mean_restore_model_ms:   18.604104	mean_train_time_ms:      24.352729	mean_wait_model_ms:     1901.049153
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    191.881824	step_per_second:             571.0	train_loss:              -4.909086	train_reward_avg:         1.423077
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:30: speedup(3): binding env 3 to CPU 33
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:31: Task: T0         | Train_count:        28 | Steps:     10907 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.789406	mean_explore_ms:        740.152631	mean_inference_ms:        2.756427	mean_loop_time_ms:      354.433942
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.161551	mean_restore_model_ms:   23.899385	mean_train_time_ms:      27.012837	mean_wait_model_ms:     2382.316964
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    318.033385	step_per_second:             430.0	train_loss:              -43.43993	train_reward_avg:              0.5
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.run()
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:34: Task: T0         | Train_count:         4 | Steps:      1234 | Elapsed time: 20 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         2.686679	mean_explore_ms:        730.243146	mean_inference_ms:         2.68341	mean_loop_time_ms:      231.824458
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     0.757837	mean_restore_model_ms:   52.300096	mean_train_time_ms:      443.99457	mean_wait_model_ms:     5988.198698
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    3654.194069	step_per_second:              59.0	train_loss:              -1.686961	train_reward_avg:              1.5
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:38: Task: T0         | Train_count:        80 | Steps:     20665 | Elapsed time: 38 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.560827	mean_explore_ms:        647.553701	mean_inference_ms:        2.357054	mean_loop_time_ms:      270.742154
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     0.921571	mean_restore_model_ms:   15.767703	mean_train_time_ms:      22.915876	mean_wait_model_ms:     1352.654604
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:     238.52458	step_per_second:             532.0	train_loss:               -14.1738	train_reward_avg:            1.375
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:39: Task: T0         | Train_count:       122 | Steps:     31478 | Elapsed time: 46 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         3.030745	mean_explore_ms:        702.943694	mean_inference_ms:        2.330392	mean_loop_time_ms:      242.640352
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.964081	mean_restore_model_ms:   14.595064	mean_train_time_ms:      26.706612	mean_wait_model_ms:     1380.105246
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    207.097602	step_per_second:             673.0	train_loss:              20.729336	train_reward_avg:            1.225
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:40: Task: T0         | Train_count:        54 | Steps:     20908 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.836727	mean_explore_ms:        738.011122	mean_inference_ms:        2.726381	mean_loop_time_ms:      361.488903
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.213074	mean_restore_model_ms:   17.951369	mean_train_time_ms:      27.460706	mean_wait_model_ms:     1755.23138
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    323.778927	step_per_second:             604.0	train_loss:             -40.296688	train_reward_avg:         0.555556
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:43: Task: T0         | Train_count:        46 | Steps:     12021 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         2.430823	mean_explore_ms:        666.325521	mean_inference_ms:        2.561467	mean_loop_time_ms:       214.43764
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     0.946546	mean_restore_model_ms:   23.671436	mean_train_time_ms:      20.963609	mean_wait_model_ms:     2752.86572
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    185.083139	step_per_second:             410.0	train_loss:              55.946136	train_reward_avg:         1.166667
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57746)[0m /tmp/plasma57804:   
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:49: Task: T0         | Train_count:        80 | Steps:     31011 | Elapsed time: 43 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.863604	mean_explore_ms:        739.635614	mean_inference_ms:        2.729257	mean_loop_time_ms:      324.351275
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.263297	mean_restore_model_ms:   14.765464	mean_train_time_ms:      27.632713	mean_wait_model_ms:     1417.376023
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    287.517095	step_per_second:             719.0	train_loss:             -42.182182	train_reward_avg:         1.111111
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:49: broker status timeout!
[2m[36m(train_xt pid=57746)[0m /tmp/plasma_share57878:
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:50: Task: T0         | Train_count:       120 | Steps:     30875 | Elapsed time: 51 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.599051	mean_explore_ms:        653.328808	mean_inference_ms:        2.376673	mean_loop_time_ms:      300.277317
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     0.883532	mean_restore_model_ms:   12.298622	mean_train_time_ms:       21.88412	mean_wait_model_ms:     1003.541156
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    268.637717	step_per_second:             603.0	train_loss:             -93.589149	train_reward_avg:         1.305556
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:51: Finished train job normally.
[2m[36m(train_xt pid=57746)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m [I 2023-09-13 16:55:51,846] Trial 0 finished with value: 356.6121842496285 and parameters: {'env_pool_size': 2, 'env_pool_wait_nums': 2, 'infer_size': 4}. Best is trial 0 with value: 356.6121842496285.
[2m[36m(train_xt pid=57746)[0m /tmp/plasma57878T0: 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:52: Task: T0         | Train_count:        88 | Steps:     22597 | Elapsed time: 38 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         2.330797	mean_explore_ms:        639.306977	mean_inference_ms:        2.483793	mean_loop_time_ms:      200.113547
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     0.857449	mean_restore_model_ms:   16.736731	mean_train_time_ms:      18.637812	mean_wait_model_ms:     1802.062184
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    173.199904	step_per_second:             591.0	train_loss:             -13.992822	train_reward_avg:         1.333333
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57746)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=57746)[0m [W 2023-09-13 16:55:52,949] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=57746)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57746)[0m Instructions for updating:
[2m[36m(train_xt pid=57746)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m /tmp/plasma58616:   
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:55:58: broker status timeout!
[2m[36m(train_xt pid=57857)[0m /tmp/plasma_share60016:
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:00: Task: T0         | Train_count:       127 | Steps:     32628 | Elapsed time: 46 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         2.279065	mean_explore_ms:        623.148192	mean_inference_ms:        2.425751	mean_loop_time_ms:      195.762336
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     0.812209	mean_restore_model_ms:   13.555559	mean_train_time_ms:      19.339907	mean_wait_model_ms:     1372.068264
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    167.525482	step_per_second:             707.0	train_loss:             104.478889	train_reward_avg:         1.462963
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57746)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:00: 
[2m[36m(train_xt pid=57746)[0m **************************************************
[2m[36m(train_xt pid=57746)[0m  XT start work...
[2m[36m(train_xt pid=57746)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953529022021.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57746)[0m **************************************************
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:01: Finished train job normally.
[2m[36m(train_xt pid=57857)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m [I 2023-09-13 16:56:01,362] Trial 2 finished with value: 333.79694019471486 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 3}. Best is trial 2 with value: 333.79694019471486.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:01: init learner with:
[2m[36m(train_xt pid=57746)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57746)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57746)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57746)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57746)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57746)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57746)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=57746)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57746)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57746)[0m                           'save_model': True,
[2m[36m(train_xt pid=57746)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57746)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57746)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57746)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57746)[0m                                    'model_config': {'LR': 0.004727524,
[2m[36m(train_xt pid=57746)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57746)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57746)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57746)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57746)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57746)[0m                                                 84,
[2m[36m(train_xt pid=57746)[0m                                                 4],
[2m[36m(train_xt pid=57746)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57746)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57746)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57746)[0m              'id': 'ImpalaCnnOpt_now_time_16945953529022021',
[2m[36m(train_xt pid=57746)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57746)[0m 'env_num': 2,
[2m[36m(train_xt pid=57746)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57746)[0m                         'size': 3,
[2m[36m(train_xt pid=57746)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=57746)[0m                         'vision': False,
[2m[36m(train_xt pid=57746)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=57746)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57746)[0m             'now_time': '16945953529022021'},
[2m[36m(train_xt pid=57746)[0m 'gpu': -1,
[2m[36m(train_xt pid=57746)[0m 'group_num': 1,
[2m[36m(train_xt pid=57746)[0m 'lock': 1,
[2m[36m(train_xt pid=57746)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57746)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57746)[0m                        'model_config': {'LR': 0.004727524,
[2m[36m(train_xt pid=57746)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57746)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57746)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57746)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57746)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57746)[0m                                     84,
[2m[36m(train_xt pid=57746)[0m                                     4],
[2m[36m(train_xt pid=57746)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57746)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57746)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57746)[0m                'dummy_user',
[2m[36m(train_xt pid=57746)[0m                'dummy_password')],
[2m[36m(train_xt pid=57746)[0m 'speedup': 3,
[2m[36m(train_xt pid=57746)[0m 'start_core': 0}
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:01: Init Broker server info:
[2m[36m(train_xt pid=57746)[0m {'recv': {'port': 32691,
[2m[36m(train_xt pid=57746)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57746)[0m 'send': [{'port': 36366,
[2m[36m(train_xt pid=57746)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57857)[0m /tmp/plasma60016T0: 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:01: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 32691, 36366, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:01: launch local broker with lib success
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:01: **********
[2m[36m(train_xt pid=57746)[0m workspace:
[2m[36m(train_xt pid=57746)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945953529022021
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57794)[0m /tmp/plasma57893:   
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57857)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=57857)[0m [W 2023-09-13 16:56:02,453] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:02: broker status timeout!
[2m[36m(train_xt pid=57794)[0m /tmp/plasma_share58606:
[2m[36m(train_xt pid=57746)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57746)[0m Instructions for updating:
[2m[36m(train_xt pid=57746)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:04: Finished train job normally.
[2m[36m(train_xt pid=57794)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m [I 2023-09-13 16:56:05,061] Trial 1 finished with value: 331.6749585406302 and parameters: {'env_pool_size': 2, 'env_pool_wait_nums': 2, 'infer_size': 3}. Best is trial 1 with value: 331.6749585406302.
[2m[36m(train_xt pid=57794)[0m /tmp/plasma58606T0: 
[2m[36m(train_xt pid=57857)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57857)[0m Instructions for updating:
[2m[36m(train_xt pid=57857)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57794)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=57794)[0m [W 2023-09-13 16:56:06,144] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=58659)[0m /tmp/plasma60794:   
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:06: broker status timeout!
[2m[36m(train_xt pid=57746)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:07: set verbosity in broker: info
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:07: init broker with id-0
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:07: share buf: plasma_store -m 400000000 -s /tmp/plasma_share64339
[2m[36m(train_xt pid=58659)[0m /tmp/plasma_share61933:
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.run()
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:07: init explorer with id: 0, buf_path: /tmp/plasma_share64339
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:07: init agent group for: explore
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:09: Finished train job normally.
[2m[36m(train_xt pid=57857)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:09: 
[2m[36m(train_xt pid=57857)[0m **************************************************
[2m[36m(train_xt pid=57857)[0m  XT start work...
[2m[36m(train_xt pid=57857)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953624102137.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57857)[0m **************************************************
[2m[36m(train_xt pid=58659)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:09: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m [I 2023-09-13 16:56:09,433] Trial 3 finished with value: 396.03960396039605 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 2, 'infer_size': 4}. Best is trial 1 with value: 331.6749585406302.
[2m[36m(train_xt pid=58659)[0m /tmp/plasma61933T0: 
[2m[36m(train_xt pid=57794)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57794)[0m Instructions for updating:
[2m[36m(train_xt pid=57794)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:10: init learner with:
[2m[36m(train_xt pid=57857)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57857)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57857)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57857)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57857)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57857)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57857)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=57857)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57857)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57857)[0m                           'save_model': True,
[2m[36m(train_xt pid=57857)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57857)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57857)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57857)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57857)[0m                                    'model_config': {'LR': 0.00233677,
[2m[36m(train_xt pid=57857)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57857)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57857)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57857)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57857)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57857)[0m                                                 84,
[2m[36m(train_xt pid=57857)[0m                                                 4],
[2m[36m(train_xt pid=57857)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57857)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57857)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57857)[0m              'id': 'ImpalaCnnOpt_now_time_16945953624102137',
[2m[36m(train_xt pid=57857)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57857)[0m 'env_num': 4,
[2m[36m(train_xt pid=57857)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57857)[0m                         'size': 3,
[2m[36m(train_xt pid=57857)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=57857)[0m                         'vision': False,
[2m[36m(train_xt pid=57857)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=57857)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57857)[0m             'now_time': '16945953624102137'},
[2m[36m(train_xt pid=57857)[0m 'gpu': -1,
[2m[36m(train_xt pid=57857)[0m 'group_num': 1,
[2m[36m(train_xt pid=57857)[0m 'lock': 1,
[2m[36m(train_xt pid=57857)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57857)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57857)[0m                        'model_config': {'LR': 0.00233677,
[2m[36m(train_xt pid=57857)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57857)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57857)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57857)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57857)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57857)[0m                                     84,
[2m[36m(train_xt pid=57857)[0m                                     4],
[2m[36m(train_xt pid=57857)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57857)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57857)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57857)[0m                'dummy_user',
[2m[36m(train_xt pid=57857)[0m                'dummy_password')],
[2m[36m(train_xt pid=57857)[0m 'speedup': 3,
[2m[36m(train_xt pid=57857)[0m 'start_core': 20}
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:10: Init Broker server info:
[2m[36m(train_xt pid=57857)[0m {'recv': {'port': 37984,
[2m[36m(train_xt pid=57857)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57857)[0m 'send': [{'port': 27414,
[2m[36m(train_xt pid=57857)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:10: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 37984, 27414, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:10: launch local broker with lib success
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:10: **********
[2m[36m(train_xt pid=57857)[0m workspace:
[2m[36m(train_xt pid=57857)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945953624102137
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=58659)[0m   completed_params, completed_values, con, bounds, running_params
== Status ==
Current time: 2023-09-13 16:55:23 (running for 00:00:48.03)
Memory usage on this node: 25.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:55:28 (running for 00:00:53.04)
Memory usage on this node: 25.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:55:33 (running for 00:00:58.04)
Memory usage on this node: 26.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:55:38 (running for 00:01:03.05)
Memory usage on this node: 26.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:55:43 (running for 00:01:08.05)
Memory usage on this node: 26.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:55:48 (running for 00:01:13.06)
Memory usage on this node: 27.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57746)[0m  57880
[2m[36m(train_xt pid=57746)[0m  58560
[2m[36m(train_xt pid=57746)[0m good
[2m[36m(train_xt pid=57746)[0m log filename ================== /tmp/16945952836956935
[2m[36m(train_xt pid=57746)[0m step_per_second ============ 673.0
[2m[36m(train_xt pid=57746)[0m tune_cost =================== True
[2m[36m(train_xt pid=57746)[0m  58568
== Status ==
Current time: 2023-09-13 16:55:53 (running for 00:01:18.06)
Memory usage on this node: 24.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57746)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=57746)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=57746)[0m get max throughput start_core============================= 0
[2m[36m(train_xt pid=57746)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953529022021.yaml
[2m[36m(train_xt pid=57746)[0m run_log ======================== /tmp/test_opt_bys16945953529022021.log
== Status ==
Current time: 2023-09-13 16:55:58 (running for 00:01:23.07)
Memory usage on this node: 25.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57857)[0m  60018
[2m[36m(train_xt pid=57857)[0m  61364
[2m[36m(train_xt pid=57857)[0m good
[2m[36m(train_xt pid=57857)[0m log filename ================== /tmp/16945952969102023
[2m[36m(train_xt pid=57857)[0m step_per_second ============ 719.0
[2m[36m(train_xt pid=57857)[0m tune_cost =================== True
[2m[36m(train_xt pid=57746)[0m start_core ======================================== 0
[2m[36m(train_xt pid=57857)[0m  61371
[2m[36m(train_xt pid=57746)[0m plasma_store -m 1000000000 -s /tmp/plasma64261
[2m[36m(train_xt pid=57746)[0m self.time_record_filename ============= /tmp/16945953529022021
[2m[36m(train_xt pid=57794)[0m  58608
[2m[36m(train_xt pid=57794)[0m  59721
== Status ==
Current time: 2023-09-13 16:56:03 (running for 00:01:28.07)
Memory usage on this node: 23.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57857)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=57857)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=57857)[0m get max throughput start_core============================= 20
[2m[36m(train_xt pid=57857)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953624102137.yaml
[2m[36m(train_xt pid=57857)[0m run_log ======================== /tmp/test_opt_bys16945953624102137.log
[2m[36m(train_xt pid=57794)[0m good
[2m[36m(train_xt pid=57794)[0m log filename ================== /tmp/1694595290293426
[2m[36m(train_xt pid=57794)[0m step_per_second ============ 603.0
[2m[36m(train_xt pid=57794)[0m tune_cost =================== True
[2m[36m(train_xt pid=57794)[0m  59730
[2m[36m(train_xt pid=58659)[0m  61935
[2m[36m(train_xt pid=57794)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=57794)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=57794)[0m get max throughput start_core============================= 10
[2m[36m(train_xt pid=57794)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953661074288.yaml
[2m[36m(train_xt pid=57794)[0m run_log ======================== /tmp/test_opt_bys16945953661074288.log
[2m[36m(train_xt pid=58659)[0m  63026
[2m[36m(train_xt pid=57746)[0m plasma_store -m 100000000 -s /tmp/plasma64339T0
== Status ==
Current time: 2023-09-13 16:56:08 (running for 00:01:33.08)
Memory usage on this node: 22.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m good
[2m[36m(train_xt pid=58659)[0m log filename ================== /tmp/16945953050909235
[2m[36m(train_xt pid=58659)[0m step_per_second ============ 707.0
[2m[36m(train_xt pid=58659)[0m tune_cost =================== True
[2m[36m(train_xt pid=58659)[0m  63034
[2m[36m(train_xt pid=57857)[0m start_core ======================================== 20
[2m[36m(train_xt pid=57857)[0m plasma_store -m 1000000000 -s /tmp/plasma64872
[2m[36m(train_xt pid=57857)[0m self.time_record_filename ============= /tmp/16945953624102137
[2m[36m(train_xt pid=58659)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=58659)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=58659)[0m get max throughput start_core============================= 30
[2m[36m(train_xt pid=58659)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953704810827.yaml
[2m[36m(train_xt pid=58659)[0m run_log ======================== /tmp/test_opt_bys16945953704810827.log
[2m[36m(train_xt pid=58659)[0m [W 2023-09-13 16:56:10,515] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:10: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:10: init explorer with id: 1, buf_path: /tmp/plasma_share64339
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:12: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57857)[0m Instructions for updating:
[2m[36m(train_xt pid=57857)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:13: 
[2m[36m(train_xt pid=57794)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m  XT start work...
[2m[36m(train_xt pid=57794)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953661074288.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57794)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:13: init learner with:
[2m[36m(train_xt pid=57794)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57794)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57794)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57794)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57794)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57794)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57794)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=57794)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57794)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57794)[0m                           'save_model': True,
[2m[36m(train_xt pid=57794)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57794)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57794)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57794)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57794)[0m                                    'model_config': {'LR': 0.001431732,
[2m[36m(train_xt pid=57794)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57794)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57794)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57794)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57794)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57794)[0m                                                 84,
[2m[36m(train_xt pid=57794)[0m                                                 4],
[2m[36m(train_xt pid=57794)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57794)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57794)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57794)[0m              'id': 'ImpalaCnnOpt_now_time_16945953661074288',
[2m[36m(train_xt pid=57794)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57794)[0m 'env_num': 4,
[2m[36m(train_xt pid=57794)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57794)[0m                         'size': 4,
[2m[36m(train_xt pid=57794)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=57794)[0m                         'vision': False,
[2m[36m(train_xt pid=57794)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=57794)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57794)[0m             'now_time': '16945953661074288'},
[2m[36m(train_xt pid=57794)[0m 'gpu': -1,
[2m[36m(train_xt pid=57794)[0m 'group_num': 1,
[2m[36m(train_xt pid=57794)[0m 'lock': 1,
[2m[36m(train_xt pid=57794)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57794)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57794)[0m                        'model_config': {'LR': 0.001431732,
[2m[36m(train_xt pid=57794)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57794)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57794)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57794)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57794)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57794)[0m                                     84,
[2m[36m(train_xt pid=57794)[0m                                     4],
[2m[36m(train_xt pid=57794)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57794)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57794)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57794)[0m                'dummy_user',
[2m[36m(train_xt pid=57794)[0m                'dummy_password')],
[2m[36m(train_xt pid=57794)[0m 'speedup': 3,
[2m[36m(train_xt pid=57794)[0m 'start_core': 10}
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:13: Init Broker server info:
[2m[36m(train_xt pid=57794)[0m {'recv': {'port': 29884,
[2m[36m(train_xt pid=57794)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57794)[0m 'send': [{'port': 39227,
[2m[36m(train_xt pid=57794)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:13: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 29884, 39227, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:13: launch local broker with lib success
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:13: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:13: **********
[2m[36m(train_xt pid=57794)[0m workspace:
[2m[36m(train_xt pid=57794)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945953661074288
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58659)[0m Instructions for updating:
[2m[36m(train_xt pid=58659)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:15: set verbosity in broker: info
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:15: init broker with id-0
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:15: share buf: plasma_store -m 400000000 -s /tmp/plasma_share65274
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.run()
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:16: init explorer with id: 0, buf_path: /tmp/plasma_share65274
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:16: init agent group for: explore
[2m[36m(train_xt pid=57794)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57794)[0m Instructions for updating:
[2m[36m(train_xt pid=57794)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.run()
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:17: Task: T0         | Train_count:         0 | Steps:       253 | Elapsed time: 12 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         2.539054	mean_explore_ms:        748.826385	mean_inference_ms:        2.929803	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     1.163721	mean_restore_model_ms:   50.749183	mean_train_time_ms:            nan	mean_wait_model_ms:     2961.875439
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    10773.339987	step_per_second:              19.0	train_loss:             104.462616	train_reward_avg:              0.0
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:17: 
[2m[36m(train_xt pid=58659)[0m **************************************************
[2m[36m(train_xt pid=58659)[0m  XT start work...
[2m[36m(train_xt pid=58659)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945953704810827.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=58659)[0m **************************************************
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:17: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:18: init learner with:
[2m[36m(train_xt pid=58659)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=58659)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=58659)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=58659)[0m               'agent_num': 1},
[2m[36m(train_xt pid=58659)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=58659)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=58659)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=58659)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=58659)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=58659)[0m                           'save_model': True,
[2m[36m(train_xt pid=58659)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=58659)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=58659)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58659)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=58659)[0m                                    'model_config': {'LR': 0.003470463,
[2m[36m(train_xt pid=58659)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=58659)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58659)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=58659)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58659)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=58659)[0m                                                 84,
[2m[36m(train_xt pid=58659)[0m                                                 4],
[2m[36m(train_xt pid=58659)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=58659)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=58659)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=58659)[0m              'id': 'ImpalaCnnOpt_now_time_16945953704810827',
[2m[36m(train_xt pid=58659)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=58659)[0m 'env_num': 3,
[2m[36m(train_xt pid=58659)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=58659)[0m                         'size': 4,
[2m[36m(train_xt pid=58659)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=58659)[0m                         'vision': False,
[2m[36m(train_xt pid=58659)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=58659)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=58659)[0m             'now_time': '16945953704810827'},
[2m[36m(train_xt pid=58659)[0m 'gpu': -1,
[2m[36m(train_xt pid=58659)[0m 'group_num': 1,
[2m[36m(train_xt pid=58659)[0m 'lock': 1,
[2m[36m(train_xt pid=58659)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58659)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=58659)[0m                        'model_config': {'LR': 0.003470463,
[2m[36m(train_xt pid=58659)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=58659)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58659)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=58659)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58659)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=58659)[0m                                     84,
[2m[36m(train_xt pid=58659)[0m                                     4],
[2m[36m(train_xt pid=58659)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=58659)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=58659)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=58659)[0m                'dummy_user',
[2m[36m(train_xt pid=58659)[0m                'dummy_password')],
[2m[36m(train_xt pid=58659)[0m 'speedup': 3,
[2m[36m(train_xt pid=58659)[0m 'start_core': 30}
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:18: Init Broker server info:
[2m[36m(train_xt pid=58659)[0m {'recv': {'port': 28935,
[2m[36m(train_xt pid=58659)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=58659)[0m 'send': [{'port': 25567,
[2m[36m(train_xt pid=58659)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:18: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 28935, 25567, '127.0.0.1', 'info')
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:18: launch local broker with lib success
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:18: **********
[2m[36m(train_xt pid=58659)[0m workspace:
[2m[36m(train_xt pid=58659)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945953704810827
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:19: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:19: init explorer with id: 1, buf_path: /tmp/plasma_share65274
[2m[36m(train_xt pid=57794)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:19: set verbosity in broker: info
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:19: init broker with id-0
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:19: share buf: plasma_store -m 400000000 -s /tmp/plasma_share66109
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.run()
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:19: init explorer with id: 0, buf_path: /tmp/plasma_share66109
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:20: init agent group for: explore
[2m[36m(train_xt pid=58659)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58659)[0m Instructions for updating:
[2m[36m(train_xt pid=58659)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:21: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:21: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:22: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:22: init explorer with id: 2, buf_path: /tmp/plasma_share65274
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:23: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:23: init explorer with id: 1, buf_path: /tmp/plasma_share66109
[2m[36m(train_xt pid=58659)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:23: set verbosity in broker: info
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:23: init broker with id-0
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:23: share buf: plasma_store -m 400000000 -s /tmp/plasma_share66989
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.run()
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:24: init explorer with id: 0, buf_path: /tmp/plasma_share66989
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:24: init agent group for: explore
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:24: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:24: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:25: speedup(3): binding env 2 to CPU 22
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:25: init explorer with id: 3, buf_path: /tmp/plasma_share65274
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:25: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:26: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:26: init explorer with id: 2, buf_path: /tmp/plasma_share66109
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:27: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:27: init explorer with id: 1, buf_path: /tmp/plasma_share66989
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:27: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:27: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:28: speedup(3): binding env 3 to CPU 23
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:28: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:29: speedup(3): binding env 2 to CPU 12
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:29: init explorer with id: 3, buf_path: /tmp/plasma_share66109
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:29: Task: T0         | Train_count:        28 | Steps:     11078 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         2.609039	mean_explore_ms:        694.899003	mean_inference_ms:        2.610866	mean_loop_time_ms:       463.74681
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     1.105344	mean_restore_model_ms:   20.076593	mean_train_time_ms:      22.826636	mean_wait_model_ms:     1165.348291
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    432.998228	step_per_second:             428.0	train_loss:              60.004425	train_reward_avg:         1.166667
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:30: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:30: init explorer with id: 2, buf_path: /tmp/plasma_share66989
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:31: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:32: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:32: speedup(3): binding env 3 to CPU 13
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.run()
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:32: Task: T0         | Train_count:         4 | Steps:      1280 | Elapsed time: 19 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.444112	mean_explore_ms:        673.398781	mean_inference_ms:        2.534655	mean_loop_time_ms:      207.849801
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     0.769472	mean_restore_model_ms:   40.270042	mean_train_time_ms:     416.811752	mean_wait_model_ms:     5216.183376
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    3545.282316	step_per_second:              64.0	train_loss:              -3.555467	train_reward_avg:              1.0
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:33: speedup(3): binding env 2 to CPU 32
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.run()
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:37: Task: T0         | Train_count:         4 | Steps:      1904 | Elapsed time: 20 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.920273	mean_explore_ms:         837.42106	mean_inference_ms:        3.174901	mean_loop_time_ms:       283.71352
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.146507	mean_restore_model_ms:   59.961915	mean_train_time_ms:     473.655987	mean_wait_model_ms:     6105.639577
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    3657.70359	step_per_second:              91.0	train_loss:               14.88229	train_reward_avg:              3.5
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.run()
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:37: Task: T0         | Train_count:         0 | Steps:       253 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         3.169384	mean_explore_ms:        908.716679	mean_inference_ms:        3.405481	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.701593	mean_restore_model_ms:    50.45414	mean_train_time_ms:            nan	mean_wait_model_ms:     4521.572351
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    14029.938221	step_per_second:              15.0	train_loss:             146.072922	train_reward_avg:              0.0
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:40: Task: T0         | Train_count:        44 | Steps:     11452 | Elapsed time: 28 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.291691	mean_explore_ms:        634.871459	mean_inference_ms:        2.462626	mean_loop_time_ms:      214.908111
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     0.933909	mean_restore_model_ms:   22.581363	mean_train_time_ms:      20.979822	mean_wait_model_ms:     2728.642941
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    184.564602	step_per_second:             405.0	train_loss:              87.194664	train_reward_avg:         1.166667
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:44: Task: T0         | Train_count:        56 | Steps:     21836 | Elapsed time: 40 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         2.697093	mean_explore_ms:        706.950108	mean_inference_ms:        2.644608	mean_loop_time_ms:      539.779937
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     1.119089	mean_restore_model_ms:   15.039338	mean_train_time_ms:      23.702443	mean_wait_model_ms:      885.16834
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    507.923222	step_per_second:             538.0	train_loss:              42.951839	train_reward_avg:         1.148148
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:45: Task: T0         | Train_count:        32 | Steps:     12504 | Elapsed time: 28 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.769833	mean_explore_ms:        779.055225	mean_inference_ms:         3.01784	mean_loop_time_ms:      270.513439
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.207566	mean_restore_model_ms:   29.668543	mean_train_time_ms:      29.565597	mean_wait_model_ms:     3142.473194
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:     231.58772	step_per_second:             440.0	train_loss:             135.498215	train_reward_avg:         0.866667
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:46: Task: T0         | Train_count:        22 | Steps:     11562 | Elapsed time: 25 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         3.246963	mean_explore_ms:          894.9965	mean_inference_ms:        3.357983	mean_loop_time_ms:      449.305034
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.490533	mean_restore_model_ms:   32.798958	mean_train_time_ms:      36.706519	mean_wait_model_ms:     3272.561312
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:     403.20195	step_per_second:             454.0	train_loss:              62.722588	train_reward_avg:              0.5
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:49: Task: T0         | Train_count:        84 | Steps:     21718 | Elapsed time: 36 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.261758	mean_explore_ms:        629.005146	mean_inference_ms:        2.469613	mean_loop_time_ms:      214.653337
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     0.890005	mean_restore_model_ms:   17.156204	mean_train_time_ms:       19.86587	mean_wait_model_ms:     1898.817285
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    185.615337	step_per_second:             589.0	train_loss:              10.706258	train_reward_avg:         1.333333
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:51: Task: T0         | Train_count:        58 | Steps:     22595 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.723896	mean_explore_ms:        769.821427	mean_inference_ms:         3.01293	mean_loop_time_ms:       262.53382
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.075196	mean_restore_model_ms:   25.342876	mean_train_time_ms:      29.960406	mean_wait_model_ms:     2626.660152
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    222.759295	step_per_second:             648.0	train_loss:               62.26347	train_reward_avg:         1.119048
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:54: Task: T0         | Train_count:        42 | Steps:     21942 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         3.274274	mean_explore_ms:        877.002746	mean_inference_ms:        3.273828	mean_loop_time_ms:      429.536295
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.483774	mean_restore_model_ms:   22.184819	mean_train_time_ms:      34.789968	mean_wait_model_ms:     2197.41711
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    385.315573	step_per_second:             644.0	train_loss:              49.532486	train_reward_avg:            0.875
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:57: Task: T0         | Train_count:       124 | Steps:     31969 | Elapsed time: 45 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.231535	mean_explore_ms:        622.301459	mean_inference_ms:        2.462654	mean_loop_time_ms:      204.648256
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     0.944817	mean_restore_model_ms:   13.362538	mean_train_time_ms:      20.685089	mean_wait_model_ms:     1374.908566
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    174.384522	step_per_second:             706.0	train_loss:              -67.16555	train_reward_avg:         1.462963
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:58: Task: T0         | Train_count:        82 | Steps:     31871 | Elapsed time: 54 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         2.766788	mean_explore_ms:        722.493447	mean_inference_ms:         2.70971	mean_loop_time_ms:      527.754498
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     1.171827	mean_restore_model_ms:    11.85309	mean_train_time_ms:       23.28254	mean_wait_model_ms:     711.105108
== Status ==
Current time: 2023-09-13 16:56:13 (running for 00:01:38.08)
Memory usage on this node: 21.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57794)[0m start_core ======================================== 10
[2m[36m(train_xt pid=57794)[0m plasma_store -m 1000000000 -s /tmp/plasma64937
[2m[36m(train_xt pid=57794)[0m self.time_record_filename ============= /tmp/16945953661074288
[2m[36m(train_xt pid=57857)[0m plasma_store -m 100000000 -s /tmp/plasma65274T0
[2m[36m(train_xt pid=58659)[0m start_core ======================================== 30
[2m[36m(train_xt pid=58659)[0m plasma_store -m 1000000000 -s /tmp/plasma65815
[2m[36m(train_xt pid=58659)[0m self.time_record_filename ============= /tmp/16945953704810827
== Status ==
Current time: 2023-09-13 16:56:18 (running for 00:01:43.09)
Memory usage on this node: 23.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57794)[0m plasma_store -m 100000000 -s /tmp/plasma66109T0
== Status ==
Current time: 2023-09-13 16:56:23 (running for 00:01:48.09)
Memory usage on this node: 25.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m plasma_store -m 100000000 -s /tmp/plasma66989T0
== Status ==
Current time: 2023-09-13 16:56:28 (running for 00:01:53.10)
Memory usage on this node: 25.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:56:33 (running for 00:01:58.10)
Memory usage on this node: 26.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:56:38 (running for 00:02:03.11)
Memory usage on this node: 28.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:56:43 (running for 00:02:08.11)
Memory usage on this node: 29.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:56:48 (running for 00:02:13.12)
Memory usage on this node: 29.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:56:53 (running for 00:02:18.12)
Memory usage on this node: 29.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:56:58 (running for 00:02:23.13)
Memory usage on this node: 29.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:57:03 (running for 00:02:28.14)
Memory usage on this node: 29.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57794)[0m  66111
[2m[36m(train_xt pid=57857)[0m  65276
[2m[36m(train_xt pid=57794)[0m  67532
[2m[36m(train_xt pid=57857)[0m  66663
[2m[36m(train_xt pid=57794)[0m good
[2m[36m(train_xt pid=57794)[0m log filename ================== /tmp/16945953661074288
[2m[36m(train_xt pid=57794)[0m step_per_second ============ 788.0
[2m[36m(train_xt pid=57794)[0m tune_cost =================== True
[2m[36m(train_xt pid=57794)[0m  67542
== Status ==
Current time: 2023-09-13 16:57:08 (running for 00:02:33.14)
Memory usage on this node: 27.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57857)[0m good
[2m[36m(train_xt pid=57857)[0m log filename ================== /tmp/16945953624102137
[2m[36m(train_xt pid=57857)[0m step_per_second ============ 706.0
[2m[36m(train_xt pid=57857)[0m tune_cost =================== True
[2m[36m(train_xt pid=57857)[0m  66671
[2m[36m(train_xt pid=57794)[0m =======================env_pool_size======================5
[2m[36m(train_xt pid=57794)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=57794)[0m get max throughput start_core============================= 10
[2m[36m(train_xt pid=57794)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945954291301625.yaml
[2m[36m(train_xt pid=57794)[0m run_log ======================== /tmp/test_opt_bys16945954291301625.log
[2m[36m(train_xt pid=57746)[0m  64341
[2m[36m(train_xt pid=58659)[0m  66991
[2m[36m(train_xt pid=57746)[0m  64946
[2m[36m(train_xt pid=58659)[0m  68381
[2m[36m(train_xt pid=57857)[0m =======================env_pool_size======================5
[2m[36m(train_xt pid=57857)[0m =======================env_pool_wait_nums======================5
[2m[36m(train_xt pid=57857)[0m get max throughput start_core============================= 20
[2m[36m(train_xt pid=57857)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945954303394263.yaml
[2m[36m(train_xt pid=57857)[0m run_log ======================== /tmp/test_opt_bys16945954303394263.log
[2m[36m(train_xt pid=57746)[0m good
== Status ==
Current time: 2023-09-13 16:57:13 (running for 00:02:38.15)
Memory usage on this node: 22.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57746)[0m log filename ================== /tmp/16945953529022021
[2m[36m(train_xt pid=57746)[0m step_per_second ============ 587.0
[2m[36m(train_xt pid=57746)[0m tune_cost =================== True
[2m[36m(train_xt pid=58659)[0m good
[2m[36m(train_xt pid=57746)[0m  64956
[2m[36m(train_xt pid=58659)[0m log filename ================== /tmp/16945953704810827
[2m[36m(train_xt pid=58659)[0m step_per_second ============ 773.0
[2m[36m(train_xt pid=58659)[0m tune_cost =================== True
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    496.512902	step_per_second:             587.0	train_loss:              21.513317	train_reward_avg:         1.282051
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:56:58: Task: T0         | Train_count:        86 | Steps:     33399 | Elapsed time: 42 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.637367	mean_explore_ms:        749.648914	mean_inference_ms:        2.969518	mean_loop_time_ms:      267.193472
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.075113	mean_restore_model_ms:   19.192189	mean_train_time_ms:      30.645454	mean_wait_model_ms:     1917.898893
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    227.762699	step_per_second:             788.0	train_loss:             -49.109047	train_reward_avg:         1.319444
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:02: Task: T0         | Train_count:        62 | Steps:     32240 | Elapsed time: 41 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         3.302615	mean_explore_ms:        875.943834	mean_inference_ms:        3.275935	mean_loop_time_ms:      382.345927
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.529849	mean_restore_model_ms:   17.340768	mean_train_time_ms:      34.922397	mean_wait_model_ms:     1710.221247
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:     337.29285	step_per_second:             773.0	train_loss:             -57.365601	train_reward_avg:         1.159091
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57794)[0m /tmp/plasma64937:   
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:05: broker status timeout!
[2m[36m(train_xt pid=57857)[0m /tmp/plasma64872:   
[2m[36m(train_xt pid=57794)[0m /tmp/plasma_share66109:
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:06: broker status timeout!
[2m[36m(train_xt pid=57857)[0m /tmp/plasma_share65274:
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:07: Finished train job normally.
[2m[36m(train_xt pid=57794)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m [I 2023-09-13 16:57:08,078] Trial 6 finished with value: 406.0913705583756 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 3, 'infer_size': 4}. Best is trial 1 with value: 331.6749585406302.
[2m[36m(train_xt pid=57794)[0m /tmp/plasma66109T0: 
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:08: Finished train job normally.
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57794)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=57794)[0m [W 2023-09-13 16:57:09,169] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=57857)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m [I 2023-09-13 16:57:09,277] Trial 5 finished with value: 396.600566572238 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 2, 'infer_size': 4}. Best is trial 1 with value: 331.6749585406302.
[2m[36m(train_xt pid=57857)[0m /tmp/plasma65274T0: 
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57857)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=57857)[0m [W 2023-09-13 16:57:10,375] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=57746)[0m /tmp/plasma64261:   
[2m[36m(train_xt pid=58659)[0m /tmp/plasma65815:   
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:10: broker status timeout!
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:11: broker status timeout!
[2m[36m(train_xt pid=57746)[0m /tmp/plasma_share64339:
[2m[36m(train_xt pid=58659)[0m /tmp/plasma_share66989:
[2m[36m(train_xt pid=57794)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57794)[0m Instructions for updating:
[2m[36m(train_xt pid=57794)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:13: Finished train job normally.
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:13: Finished train job normally.
[2m[36m(train_xt pid=57746)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m [I 2023-09-13 16:57:13,414] Trial 4 finished with value: 340.7155025553663 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 3, 'infer_size': 2}. Best is trial 1 with value: 331.6749585406302.
[2m[36m(train_xt pid=57746)[0m /tmp/plasma64339T0: 
[2m[36m(train_xt pid=58659)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m [I 2023-09-13 16:57:13,666] Trial 7 finished with value: 362.22509702457955 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 3}. Best is trial 1 with value: 331.6749585406302.
[2m[36m(train_xt pid=58659)[0m /tmp/plasma66989T0: 
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=57746)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=57746)[0m [W 2023-09-13 16:57:14,503] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=57857)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57857)[0m Instructions for updating:
[2m[36m(train_xt pid=57857)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/optuna/integration/botorch.py:844: ExperimentalWarning: qei_candidates_func is experimental (supported from v2.4.0). The interface can change in the future.
[2m[36m(train_xt pid=58659)[0m   completed_params, completed_values, con, bounds, running_params
[2m[36m(train_xt pid=58659)[0m [W 2023-09-13 16:57:14,762] No objective values are feasible. Using 0 as the best objective in qEI.
[2m[36m(train_xt pid=57794)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:15: 
[2m[36m(train_xt pid=57794)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m  XT start work...
[2m[36m(train_xt pid=57794)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945954291301625.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57794)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:16: init learner with:
[2m[36m(train_xt pid=57794)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57794)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57794)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57794)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57794)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57794)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57794)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=57794)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57794)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57794)[0m                           'save_model': True,
[2m[36m(train_xt pid=57794)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57794)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57794)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57794)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57794)[0m                                    'model_config': {'LR': 0.001431732,
[2m[36m(train_xt pid=57794)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57794)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57794)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57794)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57794)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57794)[0m                                                 84,
[2m[36m(train_xt pid=57794)[0m                                                 4],
[2m[36m(train_xt pid=57794)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57794)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57794)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57794)[0m              'id': 'ImpalaCnnOpt_now_time_16945954291301625',
[2m[36m(train_xt pid=57794)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57794)[0m 'env_num': 4,
[2m[36m(train_xt pid=57794)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57794)[0m                         'size': 5,
[2m[36m(train_xt pid=57794)[0m                         'vector_env_size': 5,
[2m[36m(train_xt pid=57794)[0m                         'vision': False,
[2m[36m(train_xt pid=57794)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=57794)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57794)[0m             'now_time': '16945954291301625'},
[2m[36m(train_xt pid=57794)[0m 'gpu': -1,
[2m[36m(train_xt pid=57794)[0m 'group_num': 1,
[2m[36m(train_xt pid=57794)[0m 'lock': 1,
[2m[36m(train_xt pid=57794)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57794)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57794)[0m                        'model_config': {'LR': 0.001431732,
[2m[36m(train_xt pid=57794)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57794)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57794)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57794)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57794)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57794)[0m                                     84,
[2m[36m(train_xt pid=57794)[0m                                     4],
[2m[36m(train_xt pid=57794)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57794)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57794)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57794)[0m                'dummy_user',
[2m[36m(train_xt pid=57794)[0m                'dummy_password')],
[2m[36m(train_xt pid=57794)[0m 'speedup': 3,
[2m[36m(train_xt pid=57794)[0m 'start_core': 10}
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:16: Init Broker server info:
[2m[36m(train_xt pid=57794)[0m {'recv': {'port': 21689,
[2m[36m(train_xt pid=57794)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57794)[0m 'send': [{'port': 29647,
[2m[36m(train_xt pid=57794)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:16: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 21689, 29647, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:16: launch local broker with lib success
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:16: **********
[2m[36m(train_xt pid=57794)[0m workspace:
[2m[36m(train_xt pid=57794)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945954291301625
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57857)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:17: 
[2m[36m(train_xt pid=57857)[0m **************************************************
[2m[36m(train_xt pid=57857)[0m  XT start work...
[2m[36m(train_xt pid=57857)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945954303394263.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57857)[0m **************************************************
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:18: init learner with:
[2m[36m(train_xt pid=57857)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57857)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57857)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57857)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57857)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57857)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57857)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=57857)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57857)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57857)[0m                           'save_model': True,
[2m[36m(train_xt pid=57857)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57857)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57857)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57857)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57857)[0m                                    'model_config': {'LR': 0.00233677,
[2m[36m(train_xt pid=57857)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57857)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57857)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57857)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57857)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57857)[0m                                                 84,
[2m[36m(train_xt pid=57857)[0m                                                 4],
[2m[36m(train_xt pid=57857)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57857)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57857)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57857)[0m              'id': 'ImpalaCnnOpt_now_time_16945954303394263',
[2m[36m(train_xt pid=57857)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57857)[0m 'env_num': 2,
[2m[36m(train_xt pid=57857)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57857)[0m                         'size': 5,
[2m[36m(train_xt pid=57857)[0m                         'vector_env_size': 5,
[2m[36m(train_xt pid=57857)[0m                         'vision': False,
[2m[36m(train_xt pid=57857)[0m                         'wait_num': 5},
[2m[36m(train_xt pid=57857)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57857)[0m             'now_time': '16945954303394263'},
[2m[36m(train_xt pid=57857)[0m 'gpu': -1,
[2m[36m(train_xt pid=57857)[0m 'group_num': 1,
[2m[36m(train_xt pid=57857)[0m 'lock': 1,
[2m[36m(train_xt pid=57857)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57857)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57857)[0m                        'model_config': {'LR': 0.00233677,
[2m[36m(train_xt pid=57857)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57857)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57857)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57857)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57857)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57857)[0m                                     84,
[2m[36m(train_xt pid=57857)[0m                                     4],
[2m[36m(train_xt pid=57857)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57857)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57857)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57857)[0m                'dummy_user',
[2m[36m(train_xt pid=57857)[0m                'dummy_password')],
[2m[36m(train_xt pid=57857)[0m 'speedup': 3,
[2m[36m(train_xt pid=57857)[0m 'start_core': 20}
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:18: Init Broker server info:
[2m[36m(train_xt pid=57857)[0m {'recv': {'port': 20990,
[2m[36m(train_xt pid=57857)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57857)[0m 'send': [{'port': 25273,
[2m[36m(train_xt pid=57857)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:18: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 20990, 25273, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:18: launch local broker with lib success
[2m[36m(train_xt pid=57746)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57746)[0m Instructions for updating:
[2m[36m(train_xt pid=57746)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:18: **********
[2m[36m(train_xt pid=57857)[0m workspace:
[2m[36m(train_xt pid=57857)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945954303394263
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58659)[0m Instructions for updating:
[2m[36m(train_xt pid=58659)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57794)[0m Instructions for updating:
[2m[36m(train_xt pid=57794)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57857)[0m Instructions for updating:
[2m[36m(train_xt pid=57857)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57746)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:21: 
[2m[36m(train_xt pid=57746)[0m **************************************************
[2m[36m(train_xt pid=57746)[0m  XT start work...
[2m[36m(train_xt pid=57746)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945954344685476.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57746)[0m **************************************************
[2m[36m(train_xt pid=58659)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: 
[2m[36m(train_xt pid=58659)[0m **************************************************
[2m[36m(train_xt pid=58659)[0m  XT start work...
[2m[36m(train_xt pid=58659)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694595434728141.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=58659)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: set verbosity in broker: info
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: init broker with id-0
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: share buf: plasma_store -m 400000000 -s /tmp/plasma_share70522
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: init learner with:
[2m[36m(train_xt pid=57746)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57746)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57746)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57746)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57746)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57746)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57746)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                           'instance_num': 5,
[2m[36m(train_xt pid=57746)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57746)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57746)[0m                           'save_model': True,
[2m[36m(train_xt pid=57746)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57746)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57746)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57746)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57746)[0m                                    'model_config': {'LR': 0.004727524,
[2m[36m(train_xt pid=57746)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57746)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57746)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57746)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57746)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57746)[0m                                                 84,
[2m[36m(train_xt pid=57746)[0m                                                 4],
[2m[36m(train_xt pid=57746)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57746)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57746)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57746)[0m              'id': 'ImpalaCnnOpt_now_time_16945954344685476',
[2m[36m(train_xt pid=57746)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57746)[0m 'env_num': 5,
[2m[36m(train_xt pid=57746)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57746)[0m                         'size': 2,
[2m[36m(train_xt pid=57746)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=57746)[0m                         'vision': False,
[2m[36m(train_xt pid=57746)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=57746)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57746)[0m             'now_time': '16945954344685476'},
[2m[36m(train_xt pid=57746)[0m 'gpu': -1,
[2m[36m(train_xt pid=57746)[0m 'group_num': 1,
[2m[36m(train_xt pid=57746)[0m 'lock': 1,
[2m[36m(train_xt pid=57746)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57746)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57746)[0m                        'model_config': {'LR': 0.004727524,
[2m[36m(train_xt pid=57746)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57746)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57746)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57746)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57746)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57746)[0m                                     84,
[2m[36m(train_xt pid=57746)[0m                                     4],
[2m[36m(train_xt pid=57746)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57746)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57746)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57746)[0m                'dummy_user',
[2m[36m(train_xt pid=57746)[0m                'dummy_password')],
[2m[36m(train_xt pid=57746)[0m 'speedup': 3,
[2m[36m(train_xt pid=57746)[0m 'start_core': 0}
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: Init Broker server info:
[2m[36m(train_xt pid=57746)[0m {'recv': {'port': 23251,
[2m[36m(train_xt pid=57746)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57746)[0m 'send': [{'port': 29761,
[2m[36m(train_xt pid=57746)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 23251, 29761, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: launch local broker with lib success
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.run()
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: init explorer with id: 0, buf_path: /tmp/plasma_share70522
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: init agent group for: explore
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: **********
[2m[36m(train_xt pid=57746)[0m workspace:
[2m[36m(train_xt pid=57746)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945954344685476
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: init learner with:
[2m[36m(train_xt pid=58659)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=58659)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=58659)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=58659)[0m               'agent_num': 1},
[2m[36m(train_xt pid=58659)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=58659)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=58659)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=58659)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=58659)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=58659)[0m                           'save_model': True,
[2m[36m(train_xt pid=58659)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=58659)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=58659)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58659)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=58659)[0m                                    'model_config': {'LR': 0.003470463,
[2m[36m(train_xt pid=58659)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=58659)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58659)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=58659)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58659)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=58659)[0m                                                 84,
[2m[36m(train_xt pid=58659)[0m                                                 4],
[2m[36m(train_xt pid=58659)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=58659)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=58659)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=58659)[0m              'id': 'ImpalaCnnOpt_now_time_1694595434728141',
[2m[36m(train_xt pid=58659)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=58659)[0m 'env_num': 2,
[2m[36m(train_xt pid=58659)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=58659)[0m                         'size': 2,
[2m[36m(train_xt pid=58659)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=58659)[0m                         'vision': False,
[2m[36m(train_xt pid=58659)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=58659)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=58659)[0m             'now_time': '1694595434728141'},
[2m[36m(train_xt pid=58659)[0m 'gpu': -1,
[2m[36m(train_xt pid=58659)[0m 'group_num': 1,
[2m[36m(train_xt pid=58659)[0m 'lock': 1,
[2m[36m(train_xt pid=58659)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58659)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=58659)[0m                        'model_config': {'LR': 0.003470463,
[2m[36m(train_xt pid=58659)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=58659)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58659)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=58659)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58659)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=58659)[0m                                     84,
[2m[36m(train_xt pid=58659)[0m                                     4],
[2m[36m(train_xt pid=58659)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=58659)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=58659)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=58659)[0m                'dummy_user',
[2m[36m(train_xt pid=58659)[0m                'dummy_password')],
[2m[36m(train_xt pid=58659)[0m 'speedup': 3,
[2m[36m(train_xt pid=58659)[0m 'start_core': 30}
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: Init Broker server info:
[2m[36m(train_xt pid=58659)[0m {'recv': {'port': 39900,
[2m[36m(train_xt pid=58659)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=58659)[0m 'send': [{'port': 27279,
[2m[36m(train_xt pid=58659)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 39900, 27279, '127.0.0.1', 'info')
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:22: launch local broker with lib success
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:23: **********
[2m[36m(train_xt pid=58659)[0m workspace:
[2m[36m(train_xt pid=58659)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_1694595434728141
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57857)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:24: set verbosity in broker: info
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:24: init broker with id-0
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:24: share buf: plasma_store -m 400000000 -s /tmp/plasma_share71070
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:24: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.run()
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:24: init explorer with id: 0, buf_path: /tmp/plasma_share71070
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:24: init agent group for: explore
[2m[36m(train_xt pid=57746)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57746)[0m Instructions for updating:
[2m[36m(train_xt pid=57746)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=58659)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58659)[0m Instructions for updating:
[2m[36m(train_xt pid=58659)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:25: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:25: init explorer with id: 1, buf_path: /tmp/plasma_share70522
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:26: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:27: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:27: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:27: init explorer with id: 1, buf_path: /tmp/plasma_share71070
[2m[36m(train_xt pid=57746)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: set verbosity in broker: info
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: init broker with id-0
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: share buf: plasma_store -m 400000000 -s /tmp/plasma_share71694
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.run()
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: init explorer with id: 0, buf_path: /tmp/plasma_share71694
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: init agent group for: explore
[2m[36m(train_xt pid=58659)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: set verbosity in broker: info
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: init broker with id-0
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: share buf: plasma_store -m 400000000 -s /tmp/plasma_share71891
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:28: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:29: init explorer with id: 2, buf_path: /tmp/plasma_share70522
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.run()
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:29: init explorer with id: 0, buf_path: /tmp/plasma_share71891
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:29: init agent group for: explore
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:29: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:30: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:30: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:30: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:30: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:31: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:31: init explorer with id: 1, buf_path: /tmp/plasma_share71694
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:32: speedup(3): binding env 2 to CPU 12
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:32: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:32: init explorer with id: 3, buf_path: /tmp/plasma_share70522
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:32: init explorer with id: 1, buf_path: /tmp/plasma_share71891
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:33: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:33: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:34: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.run()
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:34: Task: T0         | Train_count:         0 | Steps:       637 | Elapsed time: 13 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.884367	mean_explore_ms:        920.311689	mean_inference_ms:        3.704277	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.827478	mean_restore_model_ms:   48.736453	mean_train_time_ms:            nan	mean_wait_model_ms:     2956.260324
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    10857.888222	step_per_second:              48.0	train_loss:              72.102684	train_reward_avg:              0.0
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:34: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:35: init explorer with id: 2, buf_path: /tmp/plasma_share71694
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:35: speedup(3): binding env 3 to CPU 13
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:35: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:36: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:38: speedup(3): binding env 2 to CPU 2
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:38: init explorer with id: 3, buf_path: /tmp/plasma_share71694
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.run()
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:38: Task: T0         | Train_count:         0 | Steps:       125 | Elapsed time: 12 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         2.457999	mean_explore_ms:        705.033064	mean_inference_ms:        2.763195	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     0.899792	mean_restore_model_ms:   58.713436	mean_train_time_ms:            nan	mean_wait_model_ms:     2835.318565
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    10751.666069	step_per_second:               9.0	train_loss:             151.675278	train_reward_avg:              0.0
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.run()
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:39: Task: T0         | Train_count:         4 | Steps:      1741 | Elapsed time: 19 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.385283	mean_explore_ms:        744.820237	mean_inference_ms:        3.004479	mean_loop_time_ms:      251.784563
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.187372	mean_restore_model_ms:   58.243692	mean_train_time_ms:     419.659472	mean_wait_model_ms:     6103.108108
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    3529.912901	step_per_second:              87.0	train_loss:               2.171506	train_reward_avg:              1.0
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:40: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:41: speedup(3): binding env 3 to CPU 3
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:41: init explorer with id: 4, buf_path: /tmp/plasma_share71694
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:43: explorer-4 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:44: speedup(3): binding env 4 to CPU 4
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:45: Task: T0         | Train_count:        16 | Steps:     10855 | Elapsed time: 23 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         3.097354	mean_explore_ms:        905.406654	mean_inference_ms:        3.579129	mean_loop_time_ms:      669.228509
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.803342	mean_restore_model_ms:    26.89141	mean_train_time_ms:     159.415526	mean_wait_model_ms:     1707.629204
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    1216.978508	step_per_second:             458.0	train_loss:              -2.057338	train_reward_avg:             0.85
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:45: Task: T0         | Train_count:        32 | Steps:     12544 | Elapsed time: 26 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.198307	mean_explore_ms:        686.832547	mean_inference_ms:        2.864137	mean_loop_time_ms:      236.427617
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.302159	mean_restore_model_ms:   31.936765	mean_train_time_ms:      25.376165	mean_wait_model_ms:     3441.781163
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:     201.17979	step_per_second:             474.0	train_loss:               3.820976	train_reward_avg:              1.1
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.run()
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:48: Task: T0         | Train_count:         2 | Steps:       765 | Elapsed time: 22 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         4.847781	mean_explore_ms:        1038.706112	mean_inference_ms:        2.954819	mean_loop_time_ms:       57.263613
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.824451	mean_restore_model_ms:   74.502325	mean_train_time_ms:     769.509157	mean_wait_model_ms:     7534.571934
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    6745.885372	step_per_second:              33.0	train_loss:               0.176753	train_reward_avg:              0.0
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:51: Task: T0         | Train_count:        58 | Steps:     22558 | Elapsed time: 32 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.138149	mean_explore_ms:        667.371392	mean_inference_ms:        2.813797	mean_loop_time_ms:      239.501166
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.276946	mean_restore_model_ms:   23.037056	mean_train_time_ms:       28.02453	mean_wait_model_ms:     2403.257489
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    201.499331	step_per_second:             698.0	train_loss:                81.0765	train_reward_avg:              1.6
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:55: Task: T0         | Train_count:        40 | Steps:     10380 | Elapsed time: 29 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:          2.46705	mean_explore_ms:        660.437028	mean_inference_ms:        2.526426	mean_loop_time_ms:      433.526278
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.228726	mean_restore_model_ms:   23.056746	mean_train_time_ms:      19.176269	mean_wait_model_ms:     1104.330222
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    405.782235	step_per_second:             346.0	train_loss:              25.969044	train_reward_avg:              1.0
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:55: Task: T0         | Train_count:        32 | Steps:     20879 | Elapsed time: 34 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         3.100127	mean_explore_ms:        887.567401	mean_inference_ms:        3.506975	mean_loop_time_ms:      684.341645
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.718998	mean_restore_model_ms:   20.573735	mean_train_time_ms:      41.606545	mean_wait_model_ms:     1304.544608
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    632.847536	step_per_second:             602.0	train_loss:              85.679474	train_reward_avg:         1.266667
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:57: Task: T0         | Train_count:        42 | Steps:     11005 | Elapsed time: 32 seconds
[2m[36m(train_xt pid=58659)[0m  68391
[2m[36m(train_xt pid=57746)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=57746)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=57746)[0m get max throughput start_core============================= 0
[2m[36m(train_xt pid=57746)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945954344685476.yaml
[2m[36m(train_xt pid=57746)[0m run_log ======================== /tmp/test_opt_bys16945954344685476.log
[2m[36m(train_xt pid=58659)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=58659)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=58659)[0m get max throughput start_core============================= 30
[2m[36m(train_xt pid=58659)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_1694595434728141.yaml
[2m[36m(train_xt pid=58659)[0m run_log ======================== /tmp/test_opt_bys1694595434728141.log
[2m[36m(train_xt pid=57794)[0m start_core ======================================== 10
[2m[36m(train_xt pid=57794)[0m plasma_store -m 1000000000 -s /tmp/plasma70407
[2m[36m(train_xt pid=57794)[0m self.time_record_filename ============= /tmp/16945954291301625
== Status ==
Current time: 2023-09-13 16:57:18 (running for 00:02:43.15)
Memory usage on this node: 22.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57857)[0m start_core ======================================== 20
[2m[36m(train_xt pid=57857)[0m plasma_store -m 1000000000 -s /tmp/plasma70438
[2m[36m(train_xt pid=57857)[0m self.time_record_filename ============= /tmp/16945954303394263
[2m[36m(train_xt pid=57746)[0m start_core ======================================== 0
[2m[36m(train_xt pid=57794)[0m plasma_store -m 100000000 -s /tmp/plasma70522T0
[2m[36m(train_xt pid=57746)[0m plasma_store -m 1000000000 -s /tmp/plasma70499
[2m[36m(train_xt pid=57746)[0m self.time_record_filename ============= /tmp/16945954344685476
[2m[36m(train_xt pid=58659)[0m start_core ======================================== 30
[2m[36m(train_xt pid=58659)[0m plasma_store -m 1000000000 -s /tmp/plasma70510
[2m[36m(train_xt pid=58659)[0m self.time_record_filename ============= /tmp/1694595434728141
== Status ==
Current time: 2023-09-13 16:57:23 (running for 00:02:48.16)
Memory usage on this node: 24.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57857)[0m plasma_store -m 100000000 -s /tmp/plasma71070T0
== Status ==
Current time: 2023-09-13 16:57:28 (running for 00:02:53.16)
Memory usage on this node: 26.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57746)[0m plasma_store -m 100000000 -s /tmp/plasma71694T0
[2m[36m(train_xt pid=58659)[0m plasma_store -m 100000000 -s /tmp/plasma71891T0
== Status ==
Current time: 2023-09-13 16:57:33 (running for 00:02:58.16)
Memory usage on this node: 27.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:57:38 (running for 00:03:03.17)
Memory usage on this node: 29.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:57:43 (running for 00:03:08.17)
Memory usage on this node: 29.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:57:48 (running for 00:03:13.18)
Memory usage on this node: 30.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:57:53 (running for 00:03:18.18)
Memory usage on this node: 31.1/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:57:58 (running for 00:03:23.19)
Memory usage on this node: 31.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:58:03 (running for 00:03:28.19)
Memory usage on this node: 31.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:58:08 (running for 00:03:33.21)
Memory usage on this node: 31.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57794)[0m  70526
[2m[36m(train_xt pid=57794)[0m  71665
[2m[36m(train_xt pid=57794)[0m good
[2m[36m(train_xt pid=57794)[0m log filename ================== /tmp/16945954291301625
[2m[36m(train_xt pid=57794)[0m step_per_second ============ 829.0
[2m[36m(train_xt pid=57794)[0m tune_cost =================== True
== Status ==
Current time: 2023-09-13 16:58:13 (running for 00:03:38.22)
Memory usage on this node: 29.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57794)[0m  71678
[2m[36m(train_xt pid=57794)[0m =======================env_pool_size======================3
[2m[36m(train_xt pid=57794)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=57794)[0m get max throughput start_core============================= 10
[2m[36m(train_xt pid=57794)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945954939902427.yaml
[2m[36m(train_xt pid=57794)[0m run_log ======================== /tmp/test_opt_bys16945954939902427.log
== Status ==
Current time: 2023-09-13 16:58:18 (running for 00:03:43.23)
Memory usage on this node: 29.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         4.749321	mean_explore_ms:        989.925385	mean_inference_ms:         2.78166	mean_loop_time_ms:      253.179812
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.940239	mean_restore_model_ms:   37.539721	mean_train_time_ms:      20.956957	mean_wait_model_ms:     3770.875454
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    223.334944	step_per_second:             339.0	train_loss:             -14.888959	train_reward_avg:              1.0
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:57:59: Task: T0         | Train_count:        86 | Steps:     33346 | Elapsed time: 40 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.215098	mean_explore_ms:        697.426766	mean_inference_ms:        2.969112	mean_loop_time_ms:      294.459271
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     1.310098	mean_restore_model_ms:   19.564986	mean_train_time_ms:      28.102958	mean_wait_model_ms:      1899.6768
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    254.688907	step_per_second:             829.0	train_loss:              39.435383	train_reward_avg:              1.7
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m /tmp/plasma70407:   
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:10: broker status timeout!
[2m[36m(train_xt pid=57794)[0m /tmp/plasma_share70522:
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:12: Finished train job normally.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:12: Task: T0         | Train_count:        48 | Steps:     31289 | Elapsed time: 51 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         3.602524	mean_explore_ms:        1037.520587	mean_inference_ms:        4.157891	mean_loop_time_ms:      969.995964
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     2.042782	mean_restore_model_ms:   16.965657	mean_train_time_ms:      51.822948	mean_wait_model_ms:     1209.71185
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    905.709469	step_per_second:             611.0	train_loss:             -28.048977	train_reward_avg:            1.425
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57794)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m [I 2023-09-13 16:58:12,899] Trial 8 finished with value: 434.2581423401689 and parameters: {'env_pool_size': 5, 'env_pool_wait_nums': 3, 'infer_size': 4}. Best is trial 12 with value: -20.965919129940442.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:12: Task: T0         | Train_count:        82 | Steps:     21221 | Elapsed time: 47 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         5.559794	mean_explore_ms:        1189.721882	mean_inference_ms:         3.55242	mean_loop_time_ms:      364.030445
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     1.085413	mean_restore_model_ms:   35.165936	mean_train_time_ms:      30.854249	mean_wait_model_ms:     2714.969993
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    319.198072	step_per_second:             445.0	train_loss:             -22.566849	train_reward_avg:         1.233333
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57794)[0m /tmp/plasma70522T0: 
[2m[36m(train_xt pid=57794)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57794)[0m Instructions for updating:
[2m[36m(train_xt pid=57794)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:20: Task: T0         | Train_count:        80 | Steps:     20630 | Elapsed time: 55 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         2.874482	mean_explore_ms:         789.00373	mean_inference_ms:        3.103219	mean_loop_time_ms:      570.132494
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.518214	mean_restore_model_ms:   14.653504	mean_train_time_ms:       27.59161	mean_wait_model_ms:     716.480672
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    529.818058	step_per_second:             373.0	train_loss:              94.753082	train_reward_avg:         1.181818
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57794)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:21: 
[2m[36m(train_xt pid=57794)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m  XT start work...
[2m[36m(train_xt pid=57794)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945954939902427.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57794)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:22: init learner with:
[2m[36m(train_xt pid=57794)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57794)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57794)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57794)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57794)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57794)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57794)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=57794)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57794)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57794)[0m                           'save_model': True,
[2m[36m(train_xt pid=57794)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57794)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57794)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57794)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57794)[0m                                    'model_config': {'LR': 0.001431732,
[2m[36m(train_xt pid=57794)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57794)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57794)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57794)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57794)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57794)[0m                                                 84,
[2m[36m(train_xt pid=57794)[0m                                                 4],
[2m[36m(train_xt pid=57794)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57794)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57794)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57794)[0m              'id': 'ImpalaCnnOpt_now_time_16945954939902427',
[2m[36m(train_xt pid=57794)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57794)[0m 'env_num': 4,
[2m[36m(train_xt pid=57794)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57794)[0m                         'size': 3,
[2m[36m(train_xt pid=57794)[0m                         'vector_env_size': 3,
[2m[36m(train_xt pid=57794)[0m                         'vision': False,
[2m[36m(train_xt pid=57794)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=57794)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57794)[0m             'now_time': '16945954939902427'},
[2m[36m(train_xt pid=57794)[0m 'gpu': -1,
[2m[36m(train_xt pid=57794)[0m 'group_num': 1,
[2m[36m(train_xt pid=57794)[0m 'lock': 1,
[2m[36m(train_xt pid=57794)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57794)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57794)[0m                        'model_config': {'LR': 0.001431732,
[2m[36m(train_xt pid=57794)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57794)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57794)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57794)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57794)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57794)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57794)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57794)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57794)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57794)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57794)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57794)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57794)[0m                                     84,
[2m[36m(train_xt pid=57794)[0m                                     4],
[2m[36m(train_xt pid=57794)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57794)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57794)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57794)[0m                'dummy_user',
[2m[36m(train_xt pid=57794)[0m                'dummy_password')],
[2m[36m(train_xt pid=57794)[0m 'speedup': 3,
[2m[36m(train_xt pid=57794)[0m 'start_core': 10}
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:22: Init Broker server info:
[2m[36m(train_xt pid=57794)[0m {'recv': {'port': 33013,
[2m[36m(train_xt pid=57794)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57794)[0m 'send': [{'port': 35079,
[2m[36m(train_xt pid=57794)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:23: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 33013, 35079, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:23: launch local broker with lib success
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:23: **********
[2m[36m(train_xt pid=57794)[0m workspace:
[2m[36m(train_xt pid=57794)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945954939902427
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:23: Task: T0         | Train_count:       122 | Steps:     31427 | Elapsed time: 57 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         5.268485	mean_explore_ms:        1119.158537	mean_inference_ms:        3.314378	mean_loop_time_ms:      194.290423
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.846863	mean_restore_model_ms:    26.11578	mean_train_time_ms:      18.892896	mean_wait_model_ms:     1974.246087
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    167.402291	step_per_second:             541.0	train_loss:              -5.626151	train_reward_avg:              1.5
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57857)[0m /tmp/plasma70438:   
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:25: broker status timeout!
[2m[36m(train_xt pid=57794)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57794)[0m Instructions for updating:
[2m[36m(train_xt pid=57794)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m /tmp/plasma_share71070:
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:27: Finished train job normally.
[2m[36m(train_xt pid=57857)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m [I 2023-09-13 16:58:28,045] Trial 9 finished with value: 458.26513911620293 and parameters: {'env_pool_size': 5, 'env_pool_wait_nums': 5, 'infer_size': 2}. Best is trial 12 with value: -20.965919129940442.
[2m[36m(train_xt pid=57857)[0m /tmp/plasma71070T0: 
[2m[36m(train_xt pid=57794)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:29: set verbosity in broker: info
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:29: init broker with id-0
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:29: share buf: plasma_store -m 400000000 -s /tmp/plasma_share77069
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.run()
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:29: init explorer with id: 0, buf_path: /tmp/plasma_share77069
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:29: init agent group for: explore
[2m[36m(train_xt pid=57746)[0m /tmp/plasma70499:   
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:31: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:31: broker status timeout!
[2m[36m(train_xt pid=57857)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57857)[0m Instructions for updating:
[2m[36m(train_xt pid=57857)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57746)[0m /tmp/plasma_share71694:
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:32: speedup(3): binding env 0 to CPU 10
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:32: init explorer with id: 1, buf_path: /tmp/plasma_share77069
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:33: Finished train job normally.
[2m[36m(train_xt pid=57746)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m [I 2023-09-13 16:58:34,212] Trial 10 finished with value: 517.5600739371534 and parameters: {'env_pool_size': 2, 'env_pool_wait_nums': 2, 'infer_size': 5}. Best is trial 12 with value: -20.965919129940442.
[2m[36m(train_xt pid=57746)[0m /tmp/plasma71694T0: 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:34: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57857)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:35: 
[2m[36m(train_xt pid=57857)[0m **************************************************
[2m[36m(train_xt pid=57857)[0m  XT start work...
[2m[36m(train_xt pid=57857)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945955091141882.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57857)[0m **************************************************
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:35: speedup(3): binding env 1 to CPU 11
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:35: init explorer with id: 2, buf_path: /tmp/plasma_share77069
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:36: init learner with:
[2m[36m(train_xt pid=57857)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57857)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57857)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57857)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57857)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57857)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57857)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                           'instance_num': 2,
[2m[36m(train_xt pid=57857)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57857)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57857)[0m                           'save_model': True,
[2m[36m(train_xt pid=57857)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57857)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57857)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57857)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57857)[0m                                    'model_config': {'LR': 0.00233677,
[2m[36m(train_xt pid=57857)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57857)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57857)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57857)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57857)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57857)[0m                                                 84,
[2m[36m(train_xt pid=57857)[0m                                                 4],
[2m[36m(train_xt pid=57857)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57857)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57857)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57857)[0m              'id': 'ImpalaCnnOpt_now_time_16945955091141882',
[2m[36m(train_xt pid=57857)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57857)[0m 'env_num': 2,
[2m[36m(train_xt pid=57857)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57857)[0m                         'size': 4,
[2m[36m(train_xt pid=57857)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=57857)[0m                         'vision': False,
[2m[36m(train_xt pid=57857)[0m                         'wait_num': 3},
[2m[36m(train_xt pid=57857)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57857)[0m             'now_time': '16945955091141882'},
[2m[36m(train_xt pid=57857)[0m 'gpu': -1,
[2m[36m(train_xt pid=57857)[0m 'group_num': 1,
[2m[36m(train_xt pid=57857)[0m 'lock': 1,
[2m[36m(train_xt pid=57857)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57857)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57857)[0m                        'model_config': {'LR': 0.00233677,
[2m[36m(train_xt pid=57857)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57857)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57857)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57857)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57857)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57857)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57857)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57857)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57857)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57857)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57857)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57857)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57857)[0m                                     84,
[2m[36m(train_xt pid=57857)[0m                                     4],
[2m[36m(train_xt pid=57857)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57857)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57857)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57857)[0m                'dummy_user',
[2m[36m(train_xt pid=57857)[0m                'dummy_password')],
[2m[36m(train_xt pid=57857)[0m 'speedup': 3,
[2m[36m(train_xt pid=57857)[0m 'start_core': 20}
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:36: Init Broker server info:
[2m[36m(train_xt pid=57857)[0m {'recv': {'port': 20055,
[2m[36m(train_xt pid=57857)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57857)[0m 'send': [{'port': 22957,
[2m[36m(train_xt pid=57857)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:36: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 20055, 22957, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:36: launch local broker with lib success
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:36: **********
[2m[36m(train_xt pid=57857)[0m workspace:
[2m[36m(train_xt pid=57857)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945955091141882
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:36: Task: T0         | Train_count:       120 | Steps:     30906 | Elapsed time: 1 minutes, 10 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         2.690935	mean_explore_ms:        720.311032	mean_inference_ms:        2.782089	mean_loop_time_ms:      379.759455
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     0.841558	mean_restore_model_ms:    11.35287	mean_train_time_ms:      17.267001	mean_wait_model_ms:     545.672337
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    355.725813	step_per_second:             436.0	train_loss:             135.200882	train_reward_avg:         0.882353
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:37: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57746)[0m Instructions for updating:
[2m[36m(train_xt pid=57746)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57857)[0m Instructions for updating:
[2m[36m(train_xt pid=57857)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:38: speedup(3): binding env 2 to CPU 12
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:39: init explorer with id: 3, buf_path: /tmp/plasma_share77069
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:40: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:41: 
[2m[36m(train_xt pid=57746)[0m **************************************************
[2m[36m(train_xt pid=57746)[0m  XT start work...
[2m[36m(train_xt pid=57746)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945955152686462.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=57746)[0m **************************************************
[2m[36m(train_xt pid=57857)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:41: set verbosity in broker: info
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:41: init broker with id-0
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:41: share buf: plasma_store -m 400000000 -s /tmp/plasma_share78344
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:42: init learner with:
[2m[36m(train_xt pid=57746)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=57746)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=57746)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=57746)[0m               'agent_num': 1},
[2m[36m(train_xt pid=57746)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=57746)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=57746)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                           'instance_num': 4,
[2m[36m(train_xt pid=57746)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=57746)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=57746)[0m                           'save_model': True,
[2m[36m(train_xt pid=57746)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=57746)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=57746)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57746)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=57746)[0m                                    'model_config': {'LR': 0.004727524,
[2m[36m(train_xt pid=57746)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=57746)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57746)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=57746)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57746)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=57746)[0m                                                 84,
[2m[36m(train_xt pid=57746)[0m                                                 4],
[2m[36m(train_xt pid=57746)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=57746)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=57746)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=57746)[0m              'id': 'ImpalaCnnOpt_now_time_16945955152686462',
[2m[36m(train_xt pid=57746)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=57746)[0m 'env_num': 4,
[2m[36m(train_xt pid=57746)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=57746)[0m                         'size': 2,
[2m[36m(train_xt pid=57746)[0m                         'vector_env_size': 2,
[2m[36m(train_xt pid=57746)[0m                         'vision': False,
[2m[36m(train_xt pid=57746)[0m                         'wait_num': 2},
[2m[36m(train_xt pid=57746)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=57746)[0m             'now_time': '16945955152686462'},
[2m[36m(train_xt pid=57746)[0m 'gpu': -1,
[2m[36m(train_xt pid=57746)[0m 'group_num': 1,
[2m[36m(train_xt pid=57746)[0m 'lock': 1,
[2m[36m(train_xt pid=57746)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=57746)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=57746)[0m                        'model_config': {'LR': 0.004727524,
[2m[36m(train_xt pid=57746)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=57746)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=57746)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=57746)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=57746)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=57746)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=57746)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=57746)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=57746)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=57746)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=57746)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=57746)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=57746)[0m                                     84,
[2m[36m(train_xt pid=57746)[0m                                     4],
[2m[36m(train_xt pid=57746)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=57746)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=57746)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=57746)[0m                'dummy_user',
[2m[36m(train_xt pid=57746)[0m                'dummy_password')],
[2m[36m(train_xt pid=57746)[0m 'speedup': 3,
[2m[36m(train_xt pid=57746)[0m 'start_core': 0}
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:42: Init Broker server info:
[2m[36m(train_xt pid=57746)[0m {'recv': {'port': 27990,
[2m[36m(train_xt pid=57746)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57746)[0m 'send': [{'port': 22364,
[2m[36m(train_xt pid=57746)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:42: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 27990, 22364, '127.0.0.1', 'info')
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:42: launch local broker with lib success
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:42: speedup(3): binding env 3 to CPU 13
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:42: **********
[2m[36m(train_xt pid=57746)[0m workspace:
[2m[36m(train_xt pid=57746)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945955152686462
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.run()
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:42: init explorer with id: 0, buf_path: /tmp/plasma_share78344
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:42: init agent group for: explore
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:44: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=57746)[0m Instructions for updating:
[2m[36m(train_xt pid=57746)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:45: speedup(3): binding env 0 to CPU 20
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:45: init explorer with id: 1, buf_path: /tmp/plasma_share78344
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57794)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.run()
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:45: Task: T0         | Train_count:         4 | Steps:      1237 | Elapsed time: 20 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:          2.57823	mean_explore_ms:         691.49251	mean_inference_ms:        2.544874	mean_loop_time_ms:      222.339153
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     0.695419	mean_restore_model_ms:   43.120384	mean_train_time_ms:     385.649538	mean_wait_model_ms:     5288.543463
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    3643.51635	step_per_second:              60.0	train_loss:              27.528988	train_reward_avg:              0.0
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:47: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:48: set verbosity in broker: info
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:48: init broker with id-0
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:48: share buf: plasma_store -m 400000000 -s /tmp/plasma_share79451
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:48: speedup(3): binding env 1 to CPU 21
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.run()
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:48: init explorer with id: 0, buf_path: /tmp/plasma_share79451
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:48: init agent group for: explore
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:50: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:51: speedup(3): binding env 0 to CPU 0
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:51: init explorer with id: 1, buf_path: /tmp/plasma_share79451
[2m[36m(train_xt pid=58659)[0m /tmp/plasma70510:   
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:52: broker status timeout!
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57857)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.run()
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:52: Task: T0         | Train_count:         2 | Steps:      1041 | Elapsed time: 14 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.365802	mean_explore_ms:        770.903111	mean_inference_ms:        3.217882	mean_loop_time_ms:      510.682821
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.248995	mean_restore_model_ms:   52.077293	mean_train_time_ms:     784.298261	mean_wait_model_ms:     2769.118905
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    3930.883964	step_per_second:              72.0	train_loss:               4.006084	train_reward_avg:         0.666667
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:53: Task: T0         | Train_count:        44 | Steps:     11277 | Elapsed time: 28 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:          2.36542	mean_explore_ms:        635.004377	mean_inference_ms:        2.395467	mean_loop_time_ms:      193.494797
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     0.909412	mean_restore_model_ms:   24.573851	mean_train_time_ms:       18.69911	mean_wait_model_ms:     2755.222154
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    166.324592	step_per_second:             400.0	train_loss:             102.403824	train_reward_avg:         1.166667
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m /tmp/plasma_share71891:
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:53: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:54: Finished train job normally.
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:55: speedup(3): binding env 1 to CPU 1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:55: init explorer with id: 2, buf_path: /tmp/plasma_share79451
[2m[36m(train_xt pid=58659)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m [I 2023-09-13 16:58:55,306] Trial 11 finished with value: 366.9724770642202 and parameters: {'env_pool_size': 2, 'env_pool_wait_nums': 2, 'infer_size': 2}. Best is trial 12 with value: -20.965919129940442.
[2m[36m(train_xt pid=58659)[0m /tmp/plasma71891T0: 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:57: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:58: speedup(3): binding env 2 to CPU 2
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:58:58: init explorer with id: 3, buf_path: /tmp/plasma_share79451
[2m[36m(train_xt pid=58659)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58659)[0m Instructions for updating:
[2m[36m(train_xt pid=58659)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:00: explorer-3 start with sync interval-1
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:01: speedup(3): binding env 3 to CPU 3
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:01: Task: T0         | Train_count:        84 | Steps:     21720 | Elapsed time: 36 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.268524	mean_explore_ms:        609.073907	mean_inference_ms:        2.319523	mean_loop_time_ms:      197.455454
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     0.852942	mean_restore_model_ms:   17.888486	mean_train_time_ms:      18.964303	mean_wait_model_ms:     1800.507307
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:    170.891702	step_per_second:             603.0	train_loss:              -35.87904	train_reward_avg:         1.138889
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:02: 
[2m[36m(train_xt pid=58659)[0m **************************************************
[2m[36m(train_xt pid=58659)[0m  XT start work...
[2m[36m(train_xt pid=58659)[0m Namespace(config_file='/home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945955363702037.yaml', env_num=None, gpu=-1, group_num=None, lock=1, save_to_s3=None, size=None, speedup=None, start_core=None, task='train', verbosity='info', wait_num=None)
[2m[36m(train_xt pid=58659)[0m **************************************************
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:03: init learner with:
[2m[36m(train_xt pid=58659)[0m {'agent_para': {'agent_config': {'complete_step': 40000,
[2m[36m(train_xt pid=58659)[0m                               'max_steps': 128},
[2m[36m(train_xt pid=58659)[0m               'agent_name': 'AtariImpalaOpt',
[2m[36m(train_xt pid=58659)[0m               'agent_num': 1},
[2m[36m(train_xt pid=58659)[0m 'alg_para': {'alg_config': {'BATCH_SIZE': 512,
[2m[36m(train_xt pid=58659)[0m                           'agent_num': 1,
[2m[36m(train_xt pid=58659)[0m                           'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                           'env_attr': {'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                       'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                       'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                       'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                       'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                       'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                       'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                           'instance_num': 3,
[2m[36m(train_xt pid=58659)[0m                           'prepare_times_per_train': 1,
[2m[36m(train_xt pid=58659)[0m                           'save_interval': 5,
[2m[36m(train_xt pid=58659)[0m                           'save_model': True,
[2m[36m(train_xt pid=58659)[0m                           'train_per_checkpoint': 1},
[2m[36m(train_xt pid=58659)[0m             'alg_name': 'IMPALAOpt',
[2m[36m(train_xt pid=58659)[0m             'model_info': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58659)[0m                                    'input_dtype': 'uint8',
[2m[36m(train_xt pid=58659)[0m                                    'model_config': {'LR': 0.003470463,
[2m[36m(train_xt pid=58659)[0m                                                    'action_type': 'Categorical',
[2m[36m(train_xt pid=58659)[0m                                                    'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                                    'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                                    'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                                    'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58659)[0m                                                    'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                                    'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                                    'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                                    'sample_batch_step': 128,
[2m[36m(train_xt pid=58659)[0m                                                    'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                                    'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58659)[0m                                    'state_dim': [84,
[2m[36m(train_xt pid=58659)[0m                                                 84,
[2m[36m(train_xt pid=58659)[0m                                                 4],
[2m[36m(train_xt pid=58659)[0m                                    'state_mean': 0.0,
[2m[36m(train_xt pid=58659)[0m                                    'state_std': 255.0}}},
[2m[36m(train_xt pid=58659)[0m 'benchmark': {'archive_root': '/home/xys/avan/xt_archive',
[2m[36m(train_xt pid=58659)[0m              'id': 'ImpalaCnnOpt_now_time_16945955363702037',
[2m[36m(train_xt pid=58659)[0m              'log_interval_to_train': 2},
[2m[36m(train_xt pid=58659)[0m 'env_num': 3,
[2m[36m(train_xt pid=58659)[0m 'env_para': {'env_info': {'name': 'BreakoutNoFrameskip-v4',
[2m[36m(train_xt pid=58659)[0m                         'size': 4,
[2m[36m(train_xt pid=58659)[0m                         'vector_env_size': 4,
[2m[36m(train_xt pid=58659)[0m                         'vision': False,
[2m[36m(train_xt pid=58659)[0m                         'wait_num': 4},
[2m[36m(train_xt pid=58659)[0m             'env_name': 'EnvPool',
[2m[36m(train_xt pid=58659)[0m             'now_time': '16945955363702037'},
[2m[36m(train_xt pid=58659)[0m 'gpu': -1,
[2m[36m(train_xt pid=58659)[0m 'group_num': 1,
[2m[36m(train_xt pid=58659)[0m 'lock': 1,
[2m[36m(train_xt pid=58659)[0m 'model_para': {'actor': {'action_dim': 4,
[2m[36m(train_xt pid=58659)[0m                        'input_dtype': 'uint8',
[2m[36m(train_xt pid=58659)[0m                        'model_config': {'LR': 0.003470463,
[2m[36m(train_xt pid=58659)[0m                                        'action_type': 'Categorical',
[2m[36m(train_xt pid=58659)[0m                                        'agent_ids': [0],
[2m[36m(train_xt pid=58659)[0m                                        'api_type': 'standalone',
[2m[36m(train_xt pid=58659)[0m                                        'episode_limit': 300,
[2m[36m(train_xt pid=58659)[0m                                        'grad_norm_clip': 40.0,
[2m[36m(train_xt pid=58659)[0m                                        'n_actions': 7,
[2m[36m(train_xt pid=58659)[0m                                        'n_agents': 2,
[2m[36m(train_xt pid=58659)[0m                                        'obs_shape': 17,
[2m[36m(train_xt pid=58659)[0m                                        'sample_batch_step': 128,
[2m[36m(train_xt pid=58659)[0m                                        'state_shape': 27},
[2m[36m(train_xt pid=58659)[0m                        'model_name': 'ImpalaCnnOpt',
[2m[36m(train_xt pid=58659)[0m                        'state_dim': [84,
[2m[36m(train_xt pid=58659)[0m                                     84,
[2m[36m(train_xt pid=58659)[0m                                     4],
[2m[36m(train_xt pid=58659)[0m                        'state_mean': 0.0,
[2m[36m(train_xt pid=58659)[0m                        'state_std': 255.0}},
[2m[36m(train_xt pid=58659)[0m 'node_config': [('127.0.0.1',
[2m[36m(train_xt pid=58659)[0m                'dummy_user',
[2m[36m(train_xt pid=58659)[0m                'dummy_password')],
[2m[36m(train_xt pid=58659)[0m 'speedup': 3,
[2m[36m(train_xt pid=58659)[0m 'start_core': 30}
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:03: Init Broker server info:
[2m[36m(train_xt pid=58659)[0m {'recv': {'port': 21775,
[2m[36m(train_xt pid=58659)[0m         'type': 'PULL'},
[2m[36m(train_xt pid=57794)[0m start_core ======================================== 10
[2m[36m(train_xt pid=57794)[0m plasma_store -m 1000000000 -s /tmp/plasma76998
[2m[36m(train_xt pid=57794)[0m self.time_record_filename ============= /tmp/16945954939902427
== Status ==
Current time: 2023-09-13 16:58:23 (running for 00:03:48.23)
Memory usage on this node: 29.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57857)[0m  71072
[2m[36m(train_xt pid=57857)[0m  72849
[2m[36m(train_xt pid=57857)[0m good
[2m[36m(train_xt pid=57857)[0m log filename ================== /tmp/16945954303394263
[2m[36m(train_xt pid=57857)[0m step_per_second ============ 611.0
[2m[36m(train_xt pid=57857)[0m tune_cost =================== True
[2m[36m(train_xt pid=57857)[0m  72938
== Status ==
Current time: 2023-09-13 16:58:28 (running for 00:03:53.24)
Memory usage on this node: 28.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57857)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=57857)[0m =======================env_pool_wait_nums======================3
[2m[36m(train_xt pid=57857)[0m get max throughput start_core============================= 20
[2m[36m(train_xt pid=57857)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945955091141882.yaml
[2m[36m(train_xt pid=57857)[0m run_log ======================== /tmp/test_opt_bys16945955091141882.log
[2m[36m(train_xt pid=57794)[0m plasma_store -m 100000000 -s /tmp/plasma77069T0
[2m[36m(train_xt pid=57746)[0m  71706
[2m[36m(train_xt pid=57746)[0m  73624
== Status ==
Current time: 2023-09-13 16:58:33 (running for 00:03:58.24)
Memory usage on this node: 28.7/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57746)[0m good
[2m[36m(train_xt pid=57746)[0m log filename ================== /tmp/16945954344685476
[2m[36m(train_xt pid=57746)[0m step_per_second ============ 541.0
[2m[36m(train_xt pid=57746)[0m tune_cost =================== True
[2m[36m(train_xt pid=57746)[0m  73876
[2m[36m(train_xt pid=57746)[0m =======================env_pool_size======================2
[2m[36m(train_xt pid=57746)[0m =======================env_pool_wait_nums======================2
[2m[36m(train_xt pid=57746)[0m get max throughput start_core============================= 0
[2m[36m(train_xt pid=57746)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945955152686462.yaml
[2m[36m(train_xt pid=57746)[0m run_log ======================== /tmp/test_opt_bys16945955152686462.log
[2m[36m(train_xt pid=57857)[0m start_core ======================================== 20
[2m[36m(train_xt pid=57857)[0m plasma_store -m 1000000000 -s /tmp/plasma77641
[2m[36m(train_xt pid=57857)[0m self.time_record_filename ============= /tmp/16945955091141882
== Status ==
Current time: 2023-09-13 16:58:38 (running for 00:04:03.25)
Memory usage on this node: 27.5/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57746)[0m start_core ======================================== 0
[2m[36m(train_xt pid=57746)[0m plasma_store -m 1000000000 -s /tmp/plasma78311
[2m[36m(train_xt pid=57746)[0m self.time_record_filename ============= /tmp/16945955152686462
[2m[36m(train_xt pid=57857)[0m plasma_store -m 100000000 -s /tmp/plasma78344T0
== Status ==
Current time: 2023-09-13 16:58:43 (running for 00:04:08.25)
Memory usage on this node: 29.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:58:48 (running for 00:04:13.26)
Memory usage on this node: 30.0/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57746)[0m plasma_store -m 100000000 -s /tmp/plasma79451T0
[2m[36m(train_xt pid=58659)[0m  72156
== Status ==
Current time: 2023-09-13 16:58:53 (running for 00:04:18.26)
Memory usage on this node: 30.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m  73891
[2m[36m(train_xt pid=58659)[0m good
[2m[36m(train_xt pid=58659)[0m log filename ================== /tmp/1694595434728141
[2m[36m(train_xt pid=58659)[0m step_per_second ============ 436.0
[2m[36m(train_xt pid=58659)[0m tune_cost =================== True
[2m[36m(train_xt pid=58659)[0m  73902
[2m[36m(train_xt pid=58659)[0m =======================env_pool_size======================4
[2m[36m(train_xt pid=58659)[0m =======================env_pool_wait_nums======================4
[2m[36m(train_xt pid=58659)[0m get max throughput start_core============================= 30
[2m[36m(train_xt pid=58659)[0m yaml_filepath ================== /home/xys/xingtian-test/xingtian-project-pipeline_impala/tests/avan/train_yaml/train_yaml_imopt/train_yaml_testImpalaCnnOpt_now_time_16945955363702037.yaml
[2m[36m(train_xt pid=58659)[0m run_log ======================== /tmp/test_opt_bys16945955363702037.log
== Status ==
Current time: 2023-09-13 16:58:58 (running for 00:04:23.27)
Memory usage on this node: 29.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


== Status ==
Current time: 2023-09-13 16:59:03 (running for 00:04:28.27)
Memory usage on this node: 30.4/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m start_core ======================================== 30
[2m[36m(train_xt pid=58659)[0m plasma_store -m 1000000000 -s /tmp/plasma81395
[2m[36m(train_xt pid=58659)[0m self.time_record_filename ============= /tmp/16945955363702037
== Status ==
Current time: 2023-09-13 16:59:08 (running for 00:04:33.28)
Memory usage on this node: 31.6/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m plasma_store -m 100000000 -s /tmp/plasma81721T0
== Status ==
Current time: 2023-09-13 16:59:13 (running for 00:04:38.28)
Memory usage on this node: 31.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=58659)[0m 'send': [{'port': 31974,
[2m[36m(train_xt pid=58659)[0m         'type': 'PUSH'}]}
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:03: start launching Broker with: import xt; from xt import start_broker; start_broker(0, 21775, 31974, '127.0.0.1', 'info')
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:03: launch local broker with lib success
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:03: **********
[2m[36m(train_xt pid=58659)[0m workspace:
[2m[36m(train_xt pid=58659)[0m 	/home/xys/avan/xt_archive/ImpalaCnnOpt_now_time_16945955363702037
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:05: Task: T0         | Train_count:        30 | Steps:     11839 | Elapsed time: 27 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.153629	mean_explore_ms:        666.744073	mean_inference_ms:        2.798994	mean_loop_time_ms:      453.132379
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:      1.51428	mean_restore_model_ms:   20.388087	mean_train_time_ms:       24.63659	mean_wait_model_ms:     1117.859125
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    419.087613	step_per_second:             437.0	train_loss:             -27.076834	train_reward_avg:            1.375
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57746)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.run()
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:06: Task: T0         | Train_count:         4 | Steps:      1068 | Elapsed time: 21 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         3.387577	mean_explore_ms:        798.413038	mean_inference_ms:        2.594074	mean_loop_time_ms:      258.363426
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.772381	mean_restore_model_ms:   45.394135	mean_train_time_ms:     494.022655	mean_wait_model_ms:     5193.486118
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    3711.773539	step_per_second:              50.0	train_loss:              134.96904	train_reward_avg:              0.5
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m WARNING:tensorflow:From /home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
[2m[36m(train_xt pid=58659)[0m Instructions for updating:
[2m[36m(train_xt pid=58659)[0m non-resource variables are not supported in the long term
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:09: Task: T0         | Train_count:       124 | Steps:     31781 | Elapsed time: 43 seconds
[2m[36m(train_xt pid=57794)[0m mean_env_step_ms:         2.228483	mean_explore_ms:        602.533178	mean_inference_ms:        2.320677	mean_loop_time_ms:      201.027167
[2m[36m(train_xt pid=57794)[0m mean_prepare_data_ms:     0.854182	mean_restore_model_ms:   14.541182	mean_train_time_ms:      18.818688	mean_wait_model_ms:     1371.830236
[2m[36m(train_xt pid=57794)[0m mean_wait_sample_ms:     173.76976	step_per_second:             722.0	train_loss:               12.03386	train_reward_avg:         1.296296
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=58659)[0m WARNING: Logging before flag parsing goes to stderr.
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:09: set verbosity in broker: info
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:09: init broker with id-0
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:09: share buf: plasma_store -m 400000000 -s /tmp/plasma_share81721
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.run()
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:10: init explorer with id: 0, buf_path: /tmp/plasma_share81721
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:10: init agent group for: explore
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:12: explorer-0 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:13: speedup(3): binding env 0 to CPU 30
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:13: init explorer with id: 1, buf_path: /tmp/plasma_share81721
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:15: Task: T0         | Train_count:        44 | Steps:     11321 | Elapsed time: 30 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         3.305673	mean_explore_ms:        760.058761	mean_inference_ms:        2.456699	mean_loop_time_ms:      243.496037
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.893128	mean_restore_model_ms:   25.087619	mean_train_time_ms:      20.614421	mean_wait_model_ms:     2718.603492
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    214.360082	step_per_second:             368.0	train_loss:             -43.887791	train_reward_avg:         0.357143
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:15: explorer-1 start with sync interval-1
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:16: speedup(3): binding env 1 to CPU 31
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:16: init explorer with id: 2, buf_path: /tmp/plasma_share81721
[2m[36m(train_xt pid=57794)[0m /tmp/plasma76998:   
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:17: broker status timeout!
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:18: Task: T0         | Train_count:        56 | Steps:     21857 | Elapsed time: 39 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:          2.13522	mean_explore_ms:        649.714446	mean_inference_ms:        2.720298	mean_loop_time_ms:       472.53288
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.096117	mean_restore_model_ms:    14.06281	mean_train_time_ms:      25.761878	mean_wait_model_ms:     785.479712
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    438.036478	step_per_second:             555.0	train_loss:             -16.211773	train_reward_avg:          1.59375
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:18: explorer-2 start with sync interval-1
[2m[36m(train_xt pid=57794)[0m /tmp/plasma_share77069:
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:19: speedup(3): binding env 2 to CPU 32
[2m[36m(train_xt pid=57794)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57794)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57794)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:20: Finished train job normally.
[2m[36m(train_xt pid=57794)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57794)[0m 
[2m[36m(train_xt pid=57794)[0m [I 2023-09-13 16:59:20,476] Trial 16 finished with value: 387.81163434903044 and parameters: {'env_pool_size': 3, 'env_pool_wait_nums': 2, 'infer_size': 4}. Best is trial 13 with value: -20.965919129940442.
[2m[36m(train_xt pid=57794)[0m 2023-09-13 16:59:20,529	ERROR function_trainable.py:298 -- Runner Thread raised error.
[2m[36m(train_xt pid=57794)[0m Traceback (most recent call last):
[2m[36m(train_xt pid=57794)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
[2m[36m(train_xt pid=57794)[0m     self._entrypoint()
[2m[36m(train_xt pid=57794)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
[2m[36m(train_xt pid=57794)[0m     self._status_reporter.get_checkpoint(),
[2m[36m(train_xt pid=57794)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/util/tracing/tracing_helper.py", line 466, in _resume_span
[2m[36m(train_xt pid=57794)[0m     return method(self, *_args, **_kwargs)
[2m[36m(train_xt pid=57794)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
[2m[36m(train_xt pid=57794)[0m     output = fn()
[2m[36m(train_xt pid=57794)[0m   File "test_xt_with_tune.py", line 152, in train_xt
[2m[36m(train_xt pid=57794)[0m     update_dic.update({"size": best_param["env_pool_size"]})
[2m[36m(train_xt pid=57794)[0m KeyError: 'env_pool_size'
2023-09-13 16:59:20,691	ERROR trial_runner.py:987 -- Trial train_xt_29b15_00001: Error processing event.
ray.exceptions.RayTaskError(KeyError): [36mray::ImplicitFunc.train()[39m (pid=57794, ip=192.168.1.128, repr=train_xt)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/trainable.py", line 349, in train
    result = self.step()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 417, in step
    self._report_thread_runner_error(block=True)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 589, in _report_thread_runner_error
    raise e
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
    self._entrypoint()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
    self._status_reporter.get_checkpoint(),
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
    output = fn()
  File "test_xt_with_tune.py", line 152, in train_xt
    update_dic.update({"size": best_param["env_pool_size"]})
KeyError: 'env_pool_size'
[2m[36m(train_xt pid=57794)[0m /tmp/plasma77069T0: 
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:176: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   broker_item.send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58659)[0m /home/tank/miniconda3/envs/openmmlab/lib/python3.7/threading.py:926: FutureWarning: 'pyarrow.deserialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.run()
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:178: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   self.send_broker[broker_id].send(recv_data['ctr_info'], recv_data['data'])
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:23: Task: T0         | Train_count:         0 | Steps:       253 | Elapsed time: 16 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         2.974755	mean_explore_ms:        916.781743	mean_inference_ms:        3.601237	mean_loop_time_ms:             nan
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.237392	mean_restore_model_ms:   61.585188	mean_train_time_ms:            nan	mean_wait_model_ms:     4378.129482
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    14623.492241	step_per_second:              14.0	train_loss:              47.885571	train_reward_avg:              0.0
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:24: Task: T0         | Train_count:        84 | Steps:     21623 | Elapsed time: 39 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         3.143499	mean_explore_ms:        723.696664	mean_inference_ms:        2.364233	mean_loop_time_ms:      220.044553
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.959861	mean_restore_model_ms:   18.147558	mean_train_time_ms:      19.385946	mean_wait_model_ms:     1778.012767
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    192.763329	step_per_second:             545.0	train_loss:              38.821461	train_reward_avg:         0.807692
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:30: Task: T0         | Train_count:        20 | Steps:     10740 | Elapsed time: 24 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         3.142357	mean_explore_ms:        883.747959	mean_inference_ms:        3.337909	mean_loop_time_ms:      370.058572
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.432037	mean_restore_model_ms:   38.795853	mean_train_time_ms:      34.574056	mean_wait_model_ms:     3184.275723
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    325.706565	step_per_second:             440.0	train_loss:              67.597107	train_reward_avg:         0.583333
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:30: Task: T0         | Train_count:        84 | Steps:     32559 | Elapsed time: 52 seconds
[2m[36m(train_xt pid=57857)[0m mean_env_step_ms:         2.107471	mean_explore_ms:        642.370444	mean_inference_ms:        2.699415	mean_loop_time_ms:      474.301445
[2m[36m(train_xt pid=57857)[0m mean_prepare_data_ms:     1.206899	mean_restore_model_ms:   11.846139	mean_train_time_ms:      26.913118	mean_wait_model_ms:     673.938898
[2m[36m(train_xt pid=57857)[0m mean_wait_sample_ms:    437.308586	step_per_second:             620.0	train_loss:             -16.536732	train_reward_avg:         1.522727
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:33: Task: T0         | Train_count:       124 | Steps:     31906 | Elapsed time: 48 seconds
[2m[36m(train_xt pid=57746)[0m mean_env_step_ms:         2.982873	mean_explore_ms:        700.289011	mean_inference_ms:        2.353736	mean_loop_time_ms:      217.133737
[2m[36m(train_xt pid=57746)[0m mean_prepare_data_ms:     0.890493	mean_restore_model_ms:   14.484947	mean_train_time_ms:      21.208632	mean_wait_model_ms:     1356.81627
[2m[36m(train_xt pid=57746)[0m mean_wait_sample_ms:    187.354577	step_per_second:             660.0	train_loss:              11.352216	train_reward_avg:         0.894737
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:39: Task: T0         | Train_count:        40 | Steps:     20959 | Elapsed time: 32 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         3.232207	mean_explore_ms:        867.215842	mean_inference_ms:        3.223331	mean_loop_time_ms:      422.715425
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.536655	mean_restore_model_ms:   25.804162	mean_train_time_ms:        36.3047	mean_wait_model_ms:     2130.857378
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    377.713072	step_per_second:             638.0	train_loss:              62.945946	train_reward_avg:         0.958333
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=57746)[0m /tmp/plasma78311:   
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:41: broker status timeout!
[2m[36m(train_xt pid=57857)[0m /tmp/plasma77641:   
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:42: broker status timeout!
[2m[36m(train_xt pid=57746)[0m /tmp/plasma_share79451:
[2m[36m(train_xt pid=57857)[0m /tmp/plasma_share78344:
[2m[36m(train_xt pid=57746)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57746)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57746)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:43: Finished train job normally.
[2m[36m(train_xt pid=57746)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57746)[0m 
[2m[36m(train_xt pid=57746)[0m [I 2023-09-13 16:59:44,301] Trial 18 finished with value: 363.6363636363636 and parameters: {'env_pool_size': 2, 'env_pool_wait_nums': 2, 'infer_size': 4}. Best is trial 13 with value: -20.965919129940442.
[2m[36m(train_xt pid=57746)[0m 2023-09-13 16:59:44,341	ERROR function_trainable.py:298 -- Runner Thread raised error.
[2m[36m(train_xt pid=57746)[0m Traceback (most recent call last):
[2m[36m(train_xt pid=57746)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
[2m[36m(train_xt pid=57746)[0m     self._entrypoint()
[2m[36m(train_xt pid=57746)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
[2m[36m(train_xt pid=57746)[0m     self._status_reporter.get_checkpoint(),
[2m[36m(train_xt pid=57746)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/util/tracing/tracing_helper.py", line 466, in _resume_span
[2m[36m(train_xt pid=57746)[0m     return method(self, *_args, **_kwargs)
[2m[36m(train_xt pid=57746)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
[2m[36m(train_xt pid=57746)[0m     output = fn()
[2m[36m(train_xt pid=57746)[0m   File "test_xt_with_tune.py", line 152, in train_xt
[2m[36m(train_xt pid=57746)[0m     update_dic.update({"size": best_param["env_pool_size"]})
[2m[36m(train_xt pid=57746)[0m KeyError: 'env_pool_size'
2023-09-13 16:59:44,462	ERROR trial_runner.py:987 -- Trial train_xt_29b15_00000: Error processing event.
ray.exceptions.RayTaskError(KeyError): [36mray::ImplicitFunc.train()[39m (pid=57746, ip=192.168.1.128, repr=train_xt)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/trainable.py", line 349, in train
    result = self.step()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 417, in step
    self._report_thread_runner_error(block=True)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 589, in _report_thread_runner_error
    raise e
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
    self._entrypoint()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
    self._status_reporter.get_checkpoint(),
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
    output = fn()
  File "test_xt_with_tune.py", line 152, in train_xt
    update_dic.update({"size": best_param["env_pool_size"]})
KeyError: 'env_pool_size'
[2m[36m(train_xt pid=57746)[0m /tmp/plasma79451T0: 
[2m[36m(train_xt pid=57857)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=57857)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=57857)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:44: Finished train job normally.
[2m[36m(train_xt pid=57857)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=57857)[0m 
[2m[36m(train_xt pid=57857)[0m [I 2023-09-13 16:59:44,963] Trial 17 finished with value: 387.0967741935484 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 3, 'infer_size': 2}. Best is trial 12 with value: -20.965919129940442.
[2m[36m(train_xt pid=57857)[0m 2023-09-13 16:59:45,006	ERROR function_trainable.py:298 -- Runner Thread raised error.
[2m[36m(train_xt pid=57857)[0m Traceback (most recent call last):
[2m[36m(train_xt pid=57857)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
[2m[36m(train_xt pid=57857)[0m     self._entrypoint()
[2m[36m(train_xt pid=57857)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
[2m[36m(train_xt pid=57857)[0m     self._status_reporter.get_checkpoint(),
[2m[36m(train_xt pid=57857)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/util/tracing/tracing_helper.py", line 466, in _resume_span
[2m[36m(train_xt pid=57857)[0m     return method(self, *_args, **_kwargs)
[2m[36m(train_xt pid=57857)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
[2m[36m(train_xt pid=57857)[0m     output = fn()
[2m[36m(train_xt pid=57857)[0m   File "test_xt_with_tune.py", line 152, in train_xt
[2m[36m(train_xt pid=57857)[0m     update_dic.update({"size": best_param["env_pool_size"]})
[2m[36m(train_xt pid=57857)[0m KeyError: 'env_pool_size'
2023-09-13 16:59:45,115	ERROR trial_runner.py:987 -- Trial train_xt_29b15_00002: Error processing event.
ray.exceptions.RayTaskError(KeyError): [36mray::ImplicitFunc.train()[39m (pid=57857, ip=192.168.1.128, repr=train_xt)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/trainable.py", line 349, in train
    result = self.step()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 417, in step
    self._report_thread_runner_error(block=True)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 589, in _report_thread_runner_error
    raise e
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
    self._entrypoint()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
    self._status_reporter.get_checkpoint(),
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
    output = fn()
  File "test_xt_with_tune.py", line 152, in train_xt
    update_dic.update({"size": best_param["env_pool_size"]})
KeyError: 'env_pool_size'

[2m[36m(train_xt pid=57794)[0m  77073
== Status ==
Current time: 2023-09-13 16:59:18 (running for 00:04:43.29)
Memory usage on this node: 31.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 40.0/80 CPUs, 1.6/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 RUNNING)


[2m[36m(train_xt pid=57794)[0m  77645
[2m[36m(train_xt pid=57794)[0m good
[2m[36m(train_xt pid=57794)[0m log filename ================== /tmp/16945954939902427
[2m[36m(train_xt pid=57794)[0m step_per_second ============ 722.0
[2m[36m(train_xt pid=57794)[0m tune_cost =================== True
[2m[36m(train_xt pid=57794)[0m study.best_params ===================== {'x': -2.578855657251104}
[2m[36m(train_xt pid=57794)[0m study.best_value ========================-20.965919129940442
[2m[36m(train_xt pid=57794)[0m get best throughput total time ============= 271.9986844062805
[2m[36m(train_xt pid=57794)[0m  77651
== Status ==
Current time: 2023-09-13 16:59:25 (running for 00:04:50.46)
Memory usage on this node: 30.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_29b15_00001 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00001_1_lr=0.0014_2023-09-13_16-54-41/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:59:30 (running for 00:04:55.48)
Memory usage on this node: 30.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_29b15_00001 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00001_1_lr=0.0014_2023-09-13_16-54-41/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:59:35 (running for 00:05:00.48)
Memory usage on this node: 30.8/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_29b15_00001 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00001_1_lr=0.0014_2023-09-13_16-54-41/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:59:40 (running for 00:05:05.49)
Memory usage on this node: 30.9/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 30.0/80 CPUs, 1.2000000000000002/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (1 ERROR, 3 RUNNING)
Number of errored trials: 1
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_29b15_00001 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00001_1_lr=0.0014_2023-09-13_16-54-41/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

[2m[36m(train_xt pid=57746)[0m  79462
[2m[36m(train_xt pid=57857)[0m  78346
[2m[36m(train_xt pid=57746)[0m  80548
[2m[36m(train_xt pid=57857)[0m  79427
[2m[36m(train_xt pid=57746)[0m good
[2m[36m(train_xt pid=57746)[0m log filename ================== /tmp/16945955152686462
[2m[36m(train_xt pid=57746)[0m step_per_second ============ 660.0
[2m[36m(train_xt pid=57746)[0m tune_cost =================== True
[2m[36m(train_xt pid=57746)[0m study.best_params ===================== {'x': -2.578855657251104}
[2m[36m(train_xt pid=57746)[0m study.best_value ========================-20.965919129940442
[2m[36m(train_xt pid=57746)[0m get best throughput total time ============= 302.4025185108185
[2m[36m(train_xt pid=57746)[0m  80559
[2m[36m(train_xt pid=57857)[0m good
[2m[36m(train_xt pid=57857)[0m log filename ================== /tmp/16945955091141882
[2m[36m(train_xt pid=57857)[0m step_per_second ============ 620.0
[2m[36m(train_xt pid=57857)[0m tune_cost =================== True
[2m[36m(train_xt pid=57857)[0m study.best_params ===================== {'x': -2.578855657251104}
[2m[36m(train_xt pid=57857)[0m study.best_value ========================-20.965919129940442
[2m[36m(train_xt pid=57857)[0m get best throughput total time ============= 289.9060480594635
[2m[36m(train_xt pid=57857)[0m  79434
== Status ==
Current time: 2023-09-13 16:59:50 (running for 00:05:14.88)
Memory usage on this node: 26.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 10.0/80 CPUs, 0.4/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (3 ERROR, 1 RUNNING)
Number of errored trials: 3
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_29b15_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00000_0_lr=0.0047_2023-09-13_16-54-35/error.txt |
| train_xt_29b15_00001 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00001_1_lr=0.0014_2023-09-13_16-54-41/error.txt |
| train_xt_29b15_00002 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00002_2_lr=0.0023_2023-09-13_16-54-48/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

== Status ==
Current time: 2023-09-13 16:59:55 (running for 00:05:19.89)
Memory usage on this node: 26.3/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 10.0/80 CPUs, 0.4/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (3 ERROR, 1 RUNNING)
Number of errored trials: 3
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_29b15_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00000_0_lr=0.0047_2023-09-13_16-54-35/error.txt |
| train_xt_29b15_00001 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00001_1_lr=0.0014_2023-09-13_16-54-41/error.txt |
| train_xt_29b15_00002 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00002_2_lr=0.0023_2023-09-13_16-54-48/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+
[2m[36m(train_xt pid=57857)[0m /tmp/plasma78344T0: 
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:47: Task: T0         | Train_count:        60 | Steps:     31125 | Elapsed time: 41 seconds
[2m[36m(train_xt pid=58659)[0m mean_env_step_ms:         3.258555	mean_explore_ms:        860.465455	mean_inference_ms:        3.176311	mean_loop_time_ms:      415.496409
[2m[36m(train_xt pid=58659)[0m mean_prepare_data_ms:     1.502383	mean_restore_model_ms:   22.059584	mean_train_time_ms:      32.878339	mean_wait_model_ms:     1780.951929
[2m[36m(train_xt pid=58659)[0m mean_wait_sample_ms:    372.363877	step_per_second:             756.0	train_loss:               2.053041	train_reward_avg:           1.0625
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m /tmp/plasma81395:   
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:56: broker status timeout!
[2m[36m(train_xt pid=58659)[0m /tmp/plasma_share81721:
[2m[36m(train_xt pid=58659)[0m /home/xys/xingtian-test/xingtian-project-pipeline_impala/xt/framework/broker.py:232: FutureWarning: 'pyarrow.serialize' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.
[2m[36m(train_xt pid=58659)[0m   broker_item.send(close_cmd['ctr_info'], close_cmd['data'])
[2m[36m(train_xt pid=58659)[0m INFO [tank-ProLiant-DL580-Gen9 192.168.1.128] Sep 13 16:59:58: Finished train job normally.
[2m[36m(train_xt pid=58659)[0m sh: 1: kill: No such process
[2m[36m(train_xt pid=58659)[0m 
[2m[36m(train_xt pid=58659)[0m [I 2023-09-13 16:59:58,751] Trial 19 finished with value: 370.3703703703704 and parameters: {'env_pool_size': 4, 'env_pool_wait_nums': 4, 'infer_size': 3}. Best is trial 13 with value: -20.965919129940442.
[2m[36m(train_xt pid=58659)[0m 2023-09-13 16:59:58,795	ERROR function_trainable.py:298 -- Runner Thread raised error.
[2m[36m(train_xt pid=58659)[0m Traceback (most recent call last):
[2m[36m(train_xt pid=58659)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
[2m[36m(train_xt pid=58659)[0m     self._entrypoint()
[2m[36m(train_xt pid=58659)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
[2m[36m(train_xt pid=58659)[0m     self._status_reporter.get_checkpoint(),
[2m[36m(train_xt pid=58659)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/util/tracing/tracing_helper.py", line 466, in _resume_span
[2m[36m(train_xt pid=58659)[0m     return method(self, *_args, **_kwargs)
[2m[36m(train_xt pid=58659)[0m   File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
[2m[36m(train_xt pid=58659)[0m     output = fn()
[2m[36m(train_xt pid=58659)[0m   File "test_xt_with_tune.py", line 152, in train_xt
[2m[36m(train_xt pid=58659)[0m     update_dic.update({"size": best_param["env_pool_size"]})
[2m[36m(train_xt pid=58659)[0m KeyError: 'env_pool_size'
2023-09-13 16:59:58,845	ERROR trial_runner.py:987 -- Trial train_xt_29b15_00003: Error processing event.
ray.exceptions.RayTaskError(KeyError): [36mray::ImplicitFunc.train()[39m (pid=58659, ip=192.168.1.128, repr=train_xt)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/trainable.py", line 349, in train
    result = self.step()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 417, in step
    self._report_thread_runner_error(block=True)
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 589, in _report_thread_runner_error
    raise e
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 289, in run
    self._entrypoint()
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 365, in entrypoint
    self._status_reporter.get_checkpoint(),
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/trainable/function_trainable.py", line 684, in _trainable_func
    output = fn()
  File "test_xt_with_tune.py", line 152, in train_xt
    update_dic.update({"size": best_param["env_pool_size"]})
KeyError: 'env_pool_size'
2023-09-13 16:59:58,958	ERROR tune.py:754 -- Trials did not complete: [train_xt_29b15_00000, train_xt_29b15_00001, train_xt_29b15_00002, train_xt_29b15_00003]
2023-09-13 16:59:58,959	INFO tune.py:759 -- Total run time: 323.76 seconds (323.60 seconds for the tuning loop).
2023-09-13 16:59:58,965	WARNING experiment_analysis.py:628 -- Could not find best trial. Did you pass the correct `metric` parameter?

[2m[36m(train_xt pid=58659)[0m  81723
[2m[36m(train_xt pid=58659)[0m    883
[2m[36m(train_xt pid=58659)[0m good
[2m[36m(train_xt pid=58659)[0m log filename ================== /tmp/16945955363702037
[2m[36m(train_xt pid=58659)[0m step_per_second ============ 756.0
[2m[36m(train_xt pid=58659)[0m tune_cost =================== True
[2m[36m(train_xt pid=58659)[0m study.best_params ===================== {'x': -2.578855657251104}
[2m[36m(train_xt pid=58659)[0m study.best_value ========================-20.965919129940442
[2m[36m(train_xt pid=58659)[0m get best throughput total time ============= 295.5007338523865
== Status ==
Current time: 2023-09-13 16:59:58 (running for 00:05:23.60)
Memory usage on this node: 24.2/251.8 GiB
PopulationBasedTraining: 0 checkpoints, 0 perturbs
Resources requested: 0/80 CPUs, 0/3 GPUs, 0.0/160.84 GiB heap, 0.0/72.92 GiB objects (0.0/1.0 accelerator_type:X)
Result logdir: /tmp/ray_results/pb2_test4
Number of trials: 4/4 (4 ERROR)
Number of errored trials: 4
+----------------------+--------------+-------------------------------------------------------------------------------------------+
| Trial name           |   # failures | error file                                                                                |
|----------------------+--------------+-------------------------------------------------------------------------------------------|
| train_xt_29b15_00000 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00000_0_lr=0.0047_2023-09-13_16-54-35/error.txt |
| train_xt_29b15_00001 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00001_1_lr=0.0014_2023-09-13_16-54-41/error.txt |
| train_xt_29b15_00002 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00002_2_lr=0.0023_2023-09-13_16-54-48/error.txt |
| train_xt_29b15_00003 |            1 | /tmp/ray_results/pb2_test4/train_xt_29b15_00003_3_lr=0.0035_2023-09-13_16-54-55/error.txt |
+----------------------+--------------+-------------------------------------------------------------------------------------------+

Traceback (most recent call last):
  File "test_xt_with_tune.py", line 270, in <module>
    best_result = results_grid.get_best_result(metric="mean_accuracy", mode="max")
  File "/home/tank/miniconda3/envs/openmmlab/lib/python3.7/site-packages/ray/tune/result_grid.py", line 111, in get_best_result
    raise RuntimeError(error_msg)
RuntimeError: No best trial found for the given metric: mean_accuracy. This means that no trial has reported this metric, or all values reported for this metric are NaN. To not ignore NaN values, you can set the `filter_nan_and_inf` arg to False.
[2m[36m(train_xt pid=58659)[0m /tmp/plasma81721T0: 
[2m[36m(train_xt pid=58659)[0m    890
